//Cleaned With dr NHA's C Script Cleaner V2.72
#region Local Var
var uLocal_0=0;
var uLocal_1=0;
int iLocal_2=0;
int iLocal_3=0;
int iLocal_4=0;
int iLocal_5=0;
int iLocal_6=0;
int iLocal_7=0;
int iLocal_8=0;
int iLocal_9=0;
int iLocal_10=0;
int iLocal_11=0;
var uLocal_12=0;
var uLocal_13=0;
float fLocal_14=0f;
var uLocal_15=0;
var uLocal_16=0;
int iLocal_17=0;
var uLocal_18=0;
var uLocal_19=0;
char* sLocal_20=0;
float fLocal_21=0f;
var uLocal_22=0;
var uLocal_23=0;
var uLocal_24=0;
float fLocal_25=0f;
float fLocal_26=0f;
var uLocal_27=0;
int iLocal_28=0;
var uLocal_29=0;
var uLocal_30=0;
float fLocal_31=0f;
float fLocal_32=0f;
float fLocal_33=0f;
var uLocal_34=0;
var uLocal_35=0;
var uLocal_36=0;
var uLocal_37=0;
var uLocal_38=0;
int iLocal_39=0;
int iLocal_40=0;
int iLocal_41=0;
int iLocal_42=0;
var uLocal_43=0;
var uLocal_44=0;
var uLocal_45=0;
var uLocal_46=0;
var uLocal_47=-1;
var uLocal_48=0;
var uLocal_49=0;
var uLocal_50=0;
var uLocal_51=0;
var uLocal_52=0;
var uLocal_53=0;
var uLocal_54=1000;
var uLocal_55=1000;
var uLocal_56=0;
var uLocal_57=6;
var uLocal_58=0;
var uLocal_59=0;
var uLocal_60=0;
var uLocal_61=0;
var uLocal_62=0;
var uLocal_63=0;
BOOL bLocal_64=0;
BOOL bLocal_65=0;
BOOL bLocal_66=0;
var uLocal_67=0;
var uLocal_68=0;
var uLocal_69=0;
var uLocal_70=0;
var uLocal_71=0;
var uLocal_72=0;
var uLocal_73=0;
var uLocal_74=0;
var uLocal_75=0;
var uLocal_76=0;
int iLocal_77=0;
int iLocal_78=0;
BOOL bLocal_79=0;
int iLocal_80=0;
int iLocal_81=0;
int iLocal_82=0;
var uLocal_83=0;
var uLocal_84=0;
var uLocal_85=0;
int iLocal_86=0;
int iLocal_87=0;
int iLocal_88=0;
int iLocal_89=0;
var uLocal_90=0;
var uLocal_91=0;
var uLocal_92=0;
var uLocal_93=0;
BOOL bLocal_94=0;
float fLocal_95=0f;
int iLocal_96=0;
int iLocal_97=0;
var uLocal_98=0;
var uLocal_99=0;
var uLocal_100=1132396544;
var uLocal_101=1132396544;
var uLocal_102=1132396544;
var uLocal_103=0;
var uLocal_104=-1082130432;
var uLocal_105=0;
var uLocal_106=0;
var uLocal_107=8;
var uLocal_108=0;
var uLocal_109=0;
var uLocal_110=0;
var uLocal_111=0;
var uLocal_112=0;
var uLocal_113=0;
var uLocal_114=0;
var uLocal_115=0;
var uLocal_116=0;
var uLocal_117=0;
var uLocal_118=0;
var uLocal_119=0;
var uLocal_120=0;
var uLocal_121=0;
var uLocal_122=0;
var uLocal_123=0;
var uLocal_124=0;
var uLocal_125=0;
var uLocal_126=0;
var uLocal_127=0;
var uLocal_128=0;
var uLocal_129=0;
var uLocal_130=0;
var uLocal_131=0;
var uLocal_132=0;
var uLocal_133=0;
var uLocal_134=0;
var uLocal_135=0;
var uLocal_136=0;
var uLocal_137=0;
var uLocal_138=0;
var uLocal_139=0;
var uLocal_140=0;
var uLocal_141=0;
var uLocal_142=0;
var uLocal_143=0;
var uLocal_144=0;
var uLocal_145=0;
var uLocal_146=0;
var uLocal_147=0;
var uLocal_148=0;
var uLocal_149=0;
var uLocal_150=0;
var uLocal_151=0;
var uLocal_152=0;
var uLocal_153=0;
var uLocal_154=0;
var uLocal_155=0;
var uLocal_156=0;
var uLocal_157=0;
var uLocal_158=0;
var uLocal_159=0;
var uLocal_160=0;
var uLocal_161=0;
var uLocal_162=0;
var uLocal_163=0;
var uLocal_164=-1;
var uLocal_165=1092616192;
var uLocal_166=0;
var uLocal_167=0;
int iLocal_168=0;
var uLocal_169=0;
var uLocal_170=0;
var uLocal_171=0;
var uLocal_172=0;
var uLocal_173=5;
var uLocal_174=0;
var uLocal_175=0;
var uLocal_176=0;
var uLocal_177=0;
var uLocal_178=0;
var uLocal_179=0;
var uLocal_180=0;
var uLocal_181=0;
var uLocal_182=0;
var uLocal_183=0;
var uLocal_184=0;
var uLocal_185=0;
var uLocal_186=0;
var uLocal_187=0;
var uLocal_188=0;
var uLocal_189=0;
var uLocal_190=15;
var uLocal_191=0;
var uLocal_192=0;
var uLocal_193=0;
var uLocal_194=0;
var uLocal_195=0;
var uLocal_196=0;
var uLocal_197=0;
var uLocal_198=0;
var uLocal_199=0;
var uLocal_200=0;
var uLocal_201=0;
var uLocal_202=0;
var uLocal_203=0;
var uLocal_204=0;
var uLocal_205=0;
var uLocal_206=0;
var uLocal_207=0;
var uLocal_208=0;
var uLocal_209=0;
var uLocal_210=0;
var uLocal_211=0;
var uLocal_212=0;
var uLocal_213=0;
var uLocal_214=0;
var uLocal_215=0;
var uLocal_216=0;
var uLocal_217=0;
var uLocal_218=0;
var uLocal_219=0;
var uLocal_220=0;
var uLocal_221=0;
var uLocal_222=0;
var uLocal_223=0;
var uLocal_224=0;
var uLocal_225=0;
var uLocal_226=0;
var uLocal_227=0;
var uLocal_228=0;
var uLocal_229=0;
var uLocal_230=0;
var uLocal_231=0;
var uLocal_232=0;
var uLocal_233=0;
var uLocal_234=0;
var uLocal_235=0;
var uLocal_236=0;
var uLocal_237=0;
var uLocal_238=0;
var uLocal_239=0;
var uLocal_240=0;
var uLocal_241=0;
var uLocal_242=0;
var uLocal_243=0;
var uLocal_244=0;
var uLocal_245=0;
var uLocal_246=0;
var uLocal_247=0;
var uLocal_248=0;
var uLocal_249=0;
var uLocal_250=0;
var uLocal_251=0;
var uLocal_252=0;
var uLocal_253=0;
var uLocal_254=0;
var uLocal_255=0;
var uLocal_256=0;
var uLocal_257=0;
var uLocal_258=0;
var uLocal_259=0;
var uLocal_260=0;
var uLocal_261=0;
var uLocal_262=0;
var uLocal_263=0;
var uLocal_264=0;
var uLocal_265=0;
var uLocal_266=0;
var uLocal_267=0;
var uLocal_268=0;
var uLocal_269=0;
var uLocal_270=0;
var uLocal_271=0;
var uLocal_272=0;
var uLocal_273=0;
var uLocal_274=0;
var uLocal_275=0;
var uLocal_276=0;
var uLocal_277=0;
var uLocal_278=0;
var uLocal_279=0;
var uLocal_280=0;
var uLocal_281=0;
var uLocal_282=0;
var uLocal_283=0;
var uLocal_284=0;
var uLocal_285=0;
var uLocal_286=0;
var uLocal_287=0;
var uLocal_288=0;
var uLocal_289=0;
var uLocal_290=0;
var uLocal_291=0;
var uLocal_292=0;
var uLocal_293=0;
var uLocal_294=0;
var uLocal_295=0;
var uLocal_296=0;
var uLocal_297=0;
var uLocal_298=0;
var uLocal_299=0;
var uLocal_300=0;
var uLocal_301=0;
var uLocal_302=0;
var uLocal_303=0;
var uLocal_304=0;
var uLocal_305=0;
var uLocal_306=0;
var uLocal_307=0;
var uLocal_308=0;
var uLocal_309=0;
var uLocal_310=0;
var uLocal_311=0;
var uLocal_312=0;
var uLocal_313=0;
var uLocal_314=0;
var uLocal_315=0;
var uLocal_316=0;
var uLocal_317=0;
var uLocal_318=0;
var uLocal_319=0;
var uLocal_320=0;
var uLocal_321=0;
var uLocal_322=0;
var uLocal_323=0;
var uLocal_324=0;
var uLocal_325=0;
var uLocal_326=0;
var uLocal_327=0;
var uLocal_328=0;
var uLocal_329=0;
var uLocal_330=0;
var uLocal_331=0;
var uLocal_332=0;
var uLocal_333=0;
var uLocal_334=0;
var uLocal_335=0;
var uLocal_336=0;
var uLocal_337=0;
var uLocal_338=0;
var uLocal_339=0;
var uLocal_340=0;
BOOL bLocal_341=0;
float fLocal_342=0f;
int iLocal_343=0;
var uLocal_344=16;
var uLocal_345=0;
var uLocal_346=0;
var uLocal_347=0;
var uLocal_348=0;
var uLocal_349=0;
var uLocal_350=0;
var uLocal_351=0;
var uLocal_352=0;
var uLocal_353=0;
var uLocal_354=0;
var uLocal_355=0;
var uLocal_356=0;
var uLocal_357=0;
var uLocal_358=0;
var uLocal_359=0;
var uLocal_360=0;
var uLocal_361=0;
var uLocal_362=0;
var uLocal_363=0;
var uLocal_364=0;
var uLocal_365=0;
var uLocal_366=0;
var uLocal_367=0;
var uLocal_368=0;
var uLocal_369=0;
var uLocal_370=0;
var uLocal_371=0;
var uLocal_372=0;
var uLocal_373=0;
var uLocal_374=0;
var uLocal_375=0;
var uLocal_376=0;
var uLocal_377=0;
var uLocal_378=0;
var uLocal_379=0;
var uLocal_380=0;
var uLocal_381=0;
var uLocal_382=0;
var uLocal_383=0;
var uLocal_384=0;
var uLocal_385=0;
var uLocal_386=0;
var uLocal_387=0;
var uLocal_388=0;
var uLocal_389=0;
var uLocal_390=0;
var uLocal_391=0;
var uLocal_392=0;
var uLocal_393=0;
var uLocal_394=0;
var uLocal_395=0;
var uLocal_396=0;
var uLocal_397=0;
var uLocal_398=0;
var uLocal_399=0;
var uLocal_400=0;
var uLocal_401=0;
var uLocal_402=0;
var uLocal_403=0;
var uLocal_404=0;
var uLocal_405=0;
var uLocal_406=0;
var uLocal_407=0;
var uLocal_408=0;
var uLocal_409=1;
var uLocal_410=0;
var uLocal_411=0;
var uLocal_412=0;
int iLocal_413=0;
int iLocal_414=0;
int iLocal_415=0;
int iLocal_416=0;
var uLocal_417=3;
var uLocal_418=0;
var uLocal_419=0;
var uLocal_420=0;
Vehicle veLocal_421=0;
Cam caLocal_422=0;
Cam caLocal_423=0;
var uLocal_424=0;
var uLocal_425=0;
var uLocal_426=0;
var uLocal_427=0;
var uLocal_428=0;
var uLocal_429=1065353216;
var uLocal_430=0;
var uLocal_431=0;
var uLocal_432=0;
var uLocal_433=0;
var uLocal_434=0;
var uLocal_435=0;
var uLocal_436=0;
var uLocal_437=0;
var uLocal_438=0;
var uLocal_439=0;
var uLocal_440=0;
var uLocal_441=0;
var uLocal_442=0;
var uLocal_443=0;
var uLocal_444=0;
var uLocal_445=0;
var uLocal_446=0;
var uLocal_447=0;
var uLocal_448=0;
var uLocal_449=0;
var uLocal_450=0;
var uLocal_451=0;
var uLocal_452=0;
var uLocal_453=0;
var uLocal_454=0;
var uLocal_455=0;
var uLocal_456=0;
var uLocal_457=0;
var uLocal_458=0;
var uLocal_459=0;
var uLocal_460=0;
var uLocal_461=0;
var uLocal_462=0;
var uLocal_463=0;
var uLocal_464=0;
var uLocal_465=0;
var uLocal_466=0;
var uLocal_467=0;
var uLocal_468=0;
var uLocal_469=0;
var uLocal_470=0;
var uLocal_471=0;
var uLocal_472=0;
var uLocal_473=0;
var uLocal_474=3;
var uLocal_475=0;
var uLocal_476=0;
var uLocal_477=0;
var uLocal_478=0;
var uLocal_479=0;
var uLocal_480=0;
var uLocal_481=0;
var uLocal_482=0;
var uLocal_483=5;
var uLocal_484=0;
var uLocal_485=0;
var uLocal_486=0;
var uLocal_487=0;
var uLocal_488=0;
var uLocal_489=0;
var uLocal_490=0;
var uLocal_491=0;
var uLocal_492=0;
var uLocal_493=0;
var uLocal_494=0;
var uLocal_495=0;
var uLocal_496=0;
var uLocal_497=0;
var uLocal_498=0;
var uLocal_499=0;
var uLocal_500=0;
var uLocal_501=0;
var uLocal_502=0;
var uLocal_503=0;
var uLocal_504=0;
var uLocal_505=0;
var uLocal_506=0;
var uLocal_507=0;
var uLocal_508=0;
var uLocal_509=0;
var uLocal_510=0;
var uLocal_511=0;
var uLocal_512=0;
var uLocal_513=0;
var uLocal_514=0;
var uLocal_515=0;
var uLocal_516=0;
var uLocal_517=0;
var uLocal_518=0;
var uLocal_519=0;
var uLocal_520=0;
var uLocal_521=0;
var uLocal_522=0;
var uLocal_523=0;
var uLocal_524=0;
var uLocal_525=0;
var uLocal_526=0;
var uLocal_527=0;
var uLocal_528=0;
var uLocal_529=0;
var uLocal_530=0;
var uLocal_531=0;
var uLocal_532=0;
var uLocal_533=0;
var uLocal_534=0;
var uLocal_535=0;
var uLocal_536=0;
var uLocal_537=0;
var uLocal_538=0;
var uLocal_539=0;
var uLocal_540=0;
var uLocal_541=0;
var uLocal_542=1;
var uLocal_543=0;
var uLocal_544=0;
var uLocal_545=0;
var uLocal_546=0;
var uLocal_547=0;
var uLocal_548=0;
var uLocal_549=0;
var uLocal_550=0;
var uLocal_551=0;
var uLocal_552=0;
var uLocal_553=0;
var uLocal_554=0;
var uLocal_555=0;
var uLocal_556=0;
var uLocal_557=0;
var uLocal_558=0;
var uLocal_559=0;
var uLocal_560=0;
var uLocal_561=0;
var uLocal_562=0;
var uLocal_563=0;
var uLocal_564=0;
var uLocal_565=0;
var uLocal_566=0;
var uLocal_567=0;
var uLocal_568=0;
var uLocal_569=32;
var uLocal_570=0;
var uLocal_571=0;
var uLocal_572=0;
var uLocal_573=0;
var uLocal_574=0;
var uLocal_575=0;
var uLocal_576=0;
var uLocal_577=0;
var uLocal_578=0;
var uLocal_579=0;
var uLocal_580=0;
var uLocal_581=0;
var uLocal_582=0;
var uLocal_583=0;
var uLocal_584=0;
var uLocal_585=0;
var uLocal_586=0;
var uLocal_587=0;
var uLocal_588=0;
var uLocal_589=0;
var uLocal_590=0;
var uLocal_591=0;
var uLocal_592=0;
var uLocal_593=0;
var uLocal_594=0;
var uLocal_595=0;
var uLocal_596=0;
var uLocal_597=0;
var uLocal_598=0;
var uLocal_599=0;
var uLocal_600=0;
var uLocal_601=0;
var uLocal_602=0;
var uLocal_603=0;
var uLocal_604=0;
var uLocal_605=0;
var uLocal_606=0;
var uLocal_607=0;
var uLocal_608=0;
var uLocal_609=0;
var uLocal_610=0;
var uLocal_611=0;
var uLocal_612=0;
var uLocal_613=0;
var uLocal_614=0;
var uLocal_615=0;
var uLocal_616=0;
var uLocal_617=0;
var uLocal_618=0;
var uLocal_619=0;
var uLocal_620=0;
var uLocal_621=0;
var uLocal_622=0;
var uLocal_623=0;
var uLocal_624=0;
var uLocal_625=0;
var uLocal_626=0;
var uLocal_627=0;
var uLocal_628=0;
var uLocal_629=0;
var uLocal_630=0;
var uLocal_631=0;
var uLocal_632=0;
var uLocal_633=0;
var uLocal_634=0;
var uLocal_635=0;
var uLocal_636=0;
var uLocal_637=0;
var uLocal_638=0;
var uLocal_639=0;
var uLocal_640=0;
var uLocal_641=0;
var uLocal_642=0;
var uLocal_643=0;
var uLocal_644=0;
var uLocal_645=0;
var uLocal_646=0;
var uLocal_647=0;
var uLocal_648=0;
var uLocal_649=0;
var uLocal_650=0;
var uLocal_651=0;
var uLocal_652=0;
var uLocal_653=0;
var uLocal_654=0;
var uLocal_655=0;
var uLocal_656=0;
var uLocal_657=0;
var uLocal_658=0;
var uLocal_659=0;
var uLocal_660=0;
var uLocal_661=0;
var uLocal_662=0;
var uLocal_663=0;
var uLocal_664=0;
var uLocal_665=0;
var uLocal_666=0;
var uLocal_667=16;
var uLocal_668=0;
var uLocal_669=0;
var uLocal_670=0;
var uLocal_671=0;
var uLocal_672=0;
var uLocal_673=0;
var uLocal_674=0;
var uLocal_675=0;
var uLocal_676=0;
var uLocal_677=0;
var uLocal_678=0;
var uLocal_679=0;
var uLocal_680=0;
var uLocal_681=0;
var uLocal_682=0;
var uLocal_683=0;
var uLocal_684=0;
var uLocal_685=0;
var uLocal_686=0;
var uLocal_687=0;
var uLocal_688=0;
var uLocal_689=0;
var uLocal_690=0;
var uLocal_691=0;
var uLocal_692=0;
var uLocal_693=0;
var uLocal_694=0;
var uLocal_695=0;
var uLocal_696=0;
var uLocal_697=0;
var uLocal_698=0;
var uLocal_699=0;
var uLocal_700=0;
var uLocal_701=0;
var uLocal_702=0;
var uLocal_703=0;
var uLocal_704=0;
var uLocal_705=0;
var uLocal_706=0;
var uLocal_707=0;
var uLocal_708=0;
var uLocal_709=0;
var uLocal_710=0;
var uLocal_711=0;
var uLocal_712=0;
var uLocal_713=0;
var uLocal_714=0;
var uLocal_715=0;
var uLocal_716=0;
var uLocal_717=0;
var uLocal_718=0;
var uLocal_719=0;
var uLocal_720=0;
var uLocal_721=0;
var uLocal_722=0;
var uLocal_723=0;
var uLocal_724=0;
var uLocal_725=0;
var uLocal_726=0;
var uLocal_727=0;
var uLocal_728=0;
var uLocal_729=0;
var uLocal_730=0;
var uLocal_731=0;
var uLocal_732=0;
var uLocal_733=0;
var uLocal_734=0;
var uLocal_735=0;
var uLocal_736=0;
var uLocal_737=0;
var uLocal_738=0;
var uLocal_739=0;
var uLocal_740=0;
var uLocal_741=0;
var uLocal_742=0;
var uLocal_743=0;
var uLocal_744=0;
var uLocal_745=0;
var uLocal_746=0;
var uLocal_747=0;
var uLocal_748=0;
var uLocal_749=0;
var uLocal_750=0;
var uLocal_751=0;
var uLocal_752=0;
var uLocal_753=0;
var uLocal_754=0;
var uLocal_755=0;
var uLocal_756=0;
var uLocal_757=0;
var uLocal_758=0;
var uLocal_759=0;
var uLocal_760=0;
var uLocal_761=0;
var uLocal_762=0;
var uLocal_763=0;
var uLocal_764=0;
var uLocal_765=0;
var uLocal_766=0;
var uLocal_767=0;
var uLocal_768=0;
var uLocal_769=0;
var uLocal_770=0;
var uLocal_771=0;
var uLocal_772=0;
var uLocal_773=0;
var uLocal_774=0;
var uLocal_775=0;
var uLocal_776=0;
var uLocal_777=0;
var uLocal_778=0;
var uLocal_779=0;
var uLocal_780=0;
var uLocal_781=0;
var uLocal_782=0;
var uLocal_783=0;
var uLocal_784=0;
var uLocal_785=0;
var uLocal_786=0;
var uLocal_787=0;
var uLocal_788=0;
var uLocal_789=0;
var uLocal_790=0;
var uLocal_791=0;
var uLocal_792=0;
var uLocal_793=0;
var uLocal_794=0;
var uLocal_795=0;
var uLocal_796=0;
var uLocal_797=0;
var uLocal_798=0;
var uLocal_799=0;
var uLocal_800=0;
var uLocal_801=0;
var uLocal_802=0;
var uLocal_803=0;
var uLocal_804=0;
var uLocal_805=0;
var uLocal_806=0;
var uLocal_807=0;
var uLocal_808=0;
var uLocal_809=0;
var uLocal_810=0;
var uLocal_811=0;
var uLocal_812=0;
var uLocal_813=0;
var uLocal_814=0;
var uLocal_815=0;
var uLocal_816=0;
var uLocal_817=0;
var uLocal_818=0;
var uLocal_819=0;
var uLocal_820=0;
var uLocal_821=0;
var uLocal_822=0;
var uLocal_823=0;
var uLocal_824=0;
var uLocal_825=0;
var uLocal_826=0;
var uLocal_827=0;
var uLocal_828=0;
var uLocal_829=0;
var uLocal_830=0;
var uLocal_831=0;
var uLocal_832=0;
var uLocal_833=0;
var uLocal_834=0;
var uLocal_835=0;
var uLocal_836=0;
var uLocal_837=0;
var uLocal_838=0;
var uLocal_839=0;
var uLocal_840=0;
var uLocal_841=-1;
var uLocal_842=-1;
var uLocal_843=-1;
var uLocal_844=-1;
var uLocal_845=0;
var uLocal_846=0;
var uLocal_847=0;
var uLocal_848=0;
var uLocal_849=0;
var uLocal_850=0;
var uLocal_851=0;
var uLocal_852=0;
Hash hLocal_853=0;
var uLocal_854=0;
var uLocal_855=0;
var uLocal_856=0;
var uLocal_857=0;
var uLocal_858=0;
var uLocal_859=0;
var uLocal_860=0;
var uLocal_861=0;
var uLocal_862=0;
var uLocal_863=0;
var uLocal_864=0;
var uLocal_865=0;
var uLocal_866=0;
var uLocal_867=0;
var uLocal_868=0;
var uLocal_869=0;
var uLocal_870=0;
var uLocal_871=0;
var uLocal_872=0;
var uLocal_873=0;
var uLocal_874=0;
var uLocal_875=0;
var uLocal_876=0;
var uLocal_877=0;
var uLocal_878=0;
var uLocal_879=0;
var uLocal_880=0;
var uLocal_881=0;
var uLocal_882=0;
var uLocal_883=0;
var uLocal_884=0;
var uLocal_885=0;
Hash hLocal_886=0;
Hash hLocal_887=0;
Hash hLocal_888=0;
Hash hLocal_889=0;
Ped pedLocal_890=0;
Ped pedLocal_891=0;
Hash hLocal_892=0;
Hash hLocal_893=0;
int iLocal_894=0;
var uLocal_895=0;
int iLocal_896=0;
int iLocal_897=0;
var uLocal_898=0;
int iLocal_899=0;
int iLocal_900=0;
BOOL bLocal_901=0;
BOOL bLocal_902=0;
BOOL bLocal_903=0;
BOOL bLocal_904=0;
BOOL bLocal_905=0;
BOOL bLocal_906=0;
BOOL bLocal_907=0;
BOOL bLocal_908=0;
BOOL bLocal_909=0;
BOOL bLocal_910=0;
BOOL bLocal_911=0;
BOOL bLocal_912=0;
BOOL bLocal_913=0;
BOOL bLocal_914=0;
BOOL bLocal_915=0;
var uLocal_916=0;
var uLocal_917=0;
var uLocal_918=0;
var uLocal_919=0;
var uLocal_920=0;
var uLocal_921=0;
var uLocal_922=0;
var uLocal_923=0;
var uLocal_924=0;
var uLocal_925=0;
var uLocal_926=0;
var uLocal_927=0;
var uLocal_928=0;
var uLocal_929=0;
var uLocal_930=0;
var uLocal_931=0;
var uLocal_932=0;
var uLocal_933=0;
var uLocal_934=0;
var uLocal_935=0;
var uLocal_936=0;
var uLocal_937=0;
var uLocal_938=0;
var uLocal_939=0;
var uLocal_940=0;
var uLocal_941=0;
var uLocal_942=0;
var uLocal_943=0;
var uLocal_944=0;
var uLocal_945=0;
var uLocal_946=0;
var uLocal_947=0;
var uLocal_948=0;
var uLocal_949=0;
var uLocal_950=0;
var uLocal_951=0;
var uLocal_952=0;
var uLocal_953=0;
var uLocal_954=0;
var uLocal_955=0;
var uLocal_956=0;
var uLocal_957=0;
var uLocal_958=0;
var uLocal_959=0;
var uLocal_960=0;
var uLocal_961=0;
var uLocal_962=0;
var uLocal_963=0;
float fLocal_964=0f;
var uLocal_965=0;
var uLocal_966=0;
float fLocal_967=0f;
var uLocal_968=0;
var uLocal_969=0;
float fLocal_970=0f;
float fLocal_971=0f;
float fLocal_972=0f;
float fLocal_973=0f;
float fLocal_974=0f;
int iLocal_975=0;
var uLocal_976=0;
var uLocal_977=0;
var uLocal_978=0;
var uLocal_979=0;
var uLocal_980=0;
var uLocal_981=0;
var uLocal_982=0;
var uLocal_983=0;
var uLocal_984=0;
var uLocal_985=0;
var uLocal_986=0;
var uLocal_987=0;
var uLocal_988=0;
var uLocal_989=0;
var uLocal_990=0;
var uLocal_991=0;
var uLocal_992=0;
var uLocal_993=0;
var uLocal_994=0;
var uLocal_995=0;
var uLocal_996=0;
var uLocal_997=0;
var uLocal_998=0;
var uLocal_999=0;
var uLocal_1000=0;
var uLocal_1001=0;
var uLocal_1002=0;
var uLocal_1003=0;
var uLocal_1004=0;
var uLocal_1005=0;
var uLocal_1006=0;
var uLocal_1007=0;
var uLocal_1008=0;
var uLocal_1009=0;
var uLocal_1010=0;
var uLocal_1011=0;
var uLocal_1012=0;
var uLocal_1013=0;
var uLocal_1014=0;
var uLocal_1015=0;
var uLocal_1016=0;
var uLocal_1017=0;
var uLocal_1018=0;
var uLocal_1019=0;
var uLocal_1020=0;
var uLocal_1021=0;
var uLocal_1022=0;
var uLocal_1023=0;
var uLocal_1024=0;
var uLocal_1025=0;
var uLocal_1026=0;
var uLocal_1027=0;
var uLocal_1028=0;
var uLocal_1029=0;
var uLocal_1030=0;
var uLocal_1031=0;
var uLocal_1032=0;
var uLocal_1033=0;
var uLocal_1034=0;
var uLocal_1035=0;
var uLocal_1036=0;
var uLocal_1037=0;
var uLocal_1038=0;
var uLocal_1039=0;
var uLocal_1040=0;
var uLocal_1041=0;
var uLocal_1042=0;
var uLocal_1043=0;
var uLocal_1044=0;
var uLocal_1045=0;
var uLocal_1046=0;
var uLocal_1047=0;
var uLocal_1048=0;
var uLocal_1049=0;
float fLocal_1050=0f;
BOOL bLocal_1051=0;
var uLocal_1052=-1;
var uLocal_1053=0;
var uLocal_1054=0;
var uLocal_1055=0;
var uLocal_1056=0;
var uLocal_1057=0;
var uLocal_1058=0;
var uLocal_1059=0;
var uLocal_1060=0;
var uLocal_1061=0;
var uLocal_1062=0;
var uLocal_1063=0;
var uLocal_1064=0;
var uLocal_1065=0;
var uLocal_1066=0;
var uLocal_1067=0;
var uLocal_1068=0;
var uLocal_1069=0;
var uLocal_1070=0;
var uLocal_1071=0;
var uLocal_1072=0;
var uLocal_1073=0;
var uLocal_1074=0;
var uLocal_1075=0;
var uLocal_1076=0;
var uLocal_1077=0;
var uLocal_1078=0;
var uLocal_1079=0;
var uLocal_1080=0;
var uLocal_1081=0;
var uLocal_1082=5;
var uLocal_1083=0;
var uLocal_1084=0;
var uLocal_1085=0;
var uLocal_1086=0;
var uLocal_1087=0;
var uLocal_1088=0;
var uLocal_1089=0;
var uLocal_1090=0;
var uLocal_1091=0;
var uLocal_1092=0;
var uLocal_1093=0;
var uLocal_1094=0;
var uLocal_1095=0;
var uLocal_1096=0;
var uLocal_1097=0;
var uLocal_1098=0;
var uLocal_1099=0;
var uLocal_1100=0;
var uLocal_1101=0;
var uLocal_1102=0;
var uLocal_1103=0;
var uLocal_1104=0;
var uLocal_1105=0;
var uLocal_1106=0;
var uLocal_1107=0;
var uLocal_1108=0;
var uLocal_1109=0;
var uLocal_1110=0;
var uLocal_1111=0;
var uLocal_1112=0;
var uLocal_1113=0;
var uLocal_1114=0;
var uLocal_1115=0;
var uLocal_1116=0;
var uLocal_1117=0;
var uLocal_1118=0;
var uLocal_1119=0;
var uLocal_1120=0;
var uLocal_1121=0;
var uLocal_1122=0;
int iLocal_1123=0;
int iLocal_1124=0;
var uLocal_1125=0;
var uLocal_1126=0;
var uLocal_1127=1097859072;
var uLocal_1128=1500;
var uLocal_1129=45;
var uLocal_1130=1103626240;
var uLocal_1131=5;
int iLocal_1132=0;
var uLocal_1133=0;
var uLocal_1134=0;
var uLocal_1135=0;
var uLocal_1136=0;
var uLocal_1137=0;
var uLocal_1138=0;
var uLocal_1139=0;
var uLocal_1140=0;
var uLocal_1141=0;
int iLocal_1142=0;
int iLocal_1143=0;
int iLocal_1144=0;
#endregion

void main() // Position - 0x0{
iLocal_2=1;
iLocal_3=134;
iLocal_4=134;
iLocal_5=1;
iLocal_6=1;
iLocal_7=1;
iLocal_8=134;
iLocal_9=1;
iLocal_10=12;
iLocal_11=12;
fLocal_14=0.001f;
iLocal_17=-1;
sLocal_20="NULL";
fLocal_21=0f;
fLocal_25=-0.0375f;
fLocal_26=0.17f;
iLocal_28=3;
fLocal_31=80f;
fLocal_32=140f;
fLocal_33=180f;
iLocal_39=1;
iLocal_40=65;
iLocal_41=49;
iLocal_42=64;
iLocal_77=HUD::GET_STANDARD_BLIP_ENUM_ID();
iLocal_78=HUD::GET_WAYPOINT_BLIP_ENUM_ID();
uLocal_83={
500f, 500f, 500f 
};
hLocal_886=joaat("A_F_Y_GenHot_01");
hLocal_887=joaat("A_F_Y_BevHills_01");
hLocal_888=joaat("ambulance");
hLocal_889=joaat("bison");
iLocal_896=1;
iLocal_897=1000;
uLocal_916={
1358.8215f, -1547.3961f, 53.7793f 
};
uLocal_919={
1358.8215f, -1547.3961f, 53.7793f 
};
uLocal_922={
-694.2758f, -1119.4468f, 13.525f 
};
uLocal_925={
-683.1272f, -1102.1846f, 13.5257f 
};
uLocal_928={
410.2629f, -1399.1598f, 28.4017f 
};
uLocal_931={
371.3834f, -1482.9553f, 28.3418f 
};
uLocal_934={
404.8026f, -1416.2942f, 28.435f 
};
uLocal_937={
406.612f, -1419.9369f, 29.003754f 
};
uLocal_940={
-682.5392f, -1109.0822f, 13.6729f 
};
uLocal_943={
-688.6727f, -1117.512f, 13.52498f 
};
uLocal_946={
-667.136f, -1046.0604f, 15.9174f 
};
uLocal_949={
-703.1228f, -1142.4324f, 9.8127f 
};
uLocal_955={
-701.2533f, -1080.285f, 12.2884f 
};
uLocal_958={
-687.8794f, -1108.0731f, 13.5257f 
};
uLocal_961={
-703.0013f, -1084.073f, 12.1105f 
};
fLocal_970=25.0227f;
fLocal_971=226.3085f;
fLocal_972=-128.23294f;
fLocal_973=238.4969f;
fLocal_974=212.7682f;
TEXT_LABEL_ASSIGN_STRING(&uLocal_976, "taxi_oj_fc_2", 16);
TEXT_LABEL_ASSIGN_STRING(&uLocal_980, "amb@world_human_hang_out_street@male_c@idle_a", 64);
TEXT_LABEL_ASSIGN_STRING(&uLocal_996, "amb@world_human_hang_out_street@male_c@exit", 64);
TEXT_LABEL_ASSIGN_STRING(&uLocal_1012, "amb@world_human_hang_out_street@female_hold_arm@idle_a", 64);
TEXT_LABEL_ASSIGN_STRING(&uLocal_1028, "amb@world_human_hang_out_street@female_hold_arm@exit", 64);
uLocal_1044={
-727.111f, -1046.3568f, 11.439257f 
};
uLocal_1047={
-642.60974f, -1085.5381f, 28.429213f 
};
fLocal_1050=76.75f;
iLocal_1123=786468;
iLocal_1124=1;
if(PLAYER::HAS_FORCE_CLEANUP_OCCURRED(67)){
func_462(2);
func_458();
}
MISC::SET_MISSION_FLAG(true);
func_444();
while (true){
if(ENTITY::DOES_ENTITY_EXIST(caLocal_423.f_2)) func_9();
else func_1(&caLocal_423);
SYSTEM::WAIT(0);
}
return;
}


void func_1(var uParam0) // Position - 0x2B1{
uParam0->f_2=PLAYER::PLAYER_PED_ID();
func_7(&(uParam0->f_244));
uParam0->f_428=func_2();
return;
}

int func_2() // Position - 0x2D2{
int num;
eCharacter character;
character=_GET_PLAYER_CHARACTER_FROM_PED(PLAYER::PLAYER_PED_ID());
if(character==CHAR_MICHAEL) num=joaat("SP0_DIST_DRIVING_CAR");
elseif(character==CHAR_TREVOR) num=joaat("SP2_DIST_DRIVING_CAR");
elseif(character==CHAR_FRANKLIN) num=joaat("SP1_DIST_DRIVING_CAR");
else num=joaat("SP0_DIST_DRIVING_CAR");
return num;
}
eCharacter _GET_PLAYER_CHARACTER_FROM_PED(Ped pedParam0) // Position - 0x31D{
eCharacter i;
Hash entityModel;
if(ENTITY::DOES_ENTITY_EXIST(pedParam0)){
entityModel=ENTITY::GET_ENTITY_MODEL(pedParam0);
for (i=CHAR_MICHAEL;
i <=CHAR_TREVOR;
i=i + 1){
if(_GET_CHARACTER_MODEL(i)==entityModel) return i;
}}
return _CHAR_NULL;
}
Hash _GET_CHARACTER_MODEL(eCharacter character) // Position - 0x35A{
if(func_6(character)) return func_5(character);
else character !=_CHAR_NULL;
return 0;
}
Hash func_5(eCharacter echParam0) // Position - 0x37F{
return Global_2028[echParam0 /*29*/];
}
BOOL func_6(eCharacter echParam0) // Position - 0x38E{
return echParam0 < CHAR_MULTIPLAYER;
}


void func_7(var uParam0) // Position - 0x39A{
eCharacter character;
var unk;
character=_GET_PLAYER_CHARACTER_FROM_PED(PLAYER::PLAYER_PED_ID());
if(character==CHAR_MICHAEL){
_CONVERSATION_INITIALIZE_ACTOR(uParam0, 0, PLAYER::PLAYER_PED_ID(), "MICHAEL", 0, 1);
}elseif(character==CHAR_TREVOR){
_CONVERSATION_INITIALIZE_ACTOR(uParam0, 0, PLAYER::PLAYER_PED_ID(), "TREVOR", 0, 1);
}elseif(character==CHAR_FRANKLIN){
_CONVERSATION_INITIALIZE_ACTOR(uParam0, 0, PLAYER::PLAYER_PED_ID(), "FRANKLIN", 0, 1);
}else{
_CONVERSATION_INITIALIZE_ACTOR(uParam0, 0, PLAYER::PLAYER_PED_ID(), "MICHAEL", 0, 1);
TEXT_LABEL_ASSIGN_STRING(&unk, "Invalid enum passed to Taxi dialogue is:
", 64);
TEXT_LABEL_APPEND_INT(&unk, character, 64);
}
_CONVERSATION_INITIALIZE_ACTOR(uParam0, 8, 0, "TaxiDispatch", 0, 1);
return;
}


void _CONVERSATION_INITIALIZE_ACTOR(var uParam0, int iParam1, Ped pedParam2, char* sParam3, int iParam4, int iParam5) // Position - 0x423{
uParam0->[iParam1 /*10*/].f_7==1;
uParam0->[iParam1 /*10*/]=pedParam2;
TEXT_LABEL_ASSIGN_STRING(&(uParam0->[iParam1 /*10*/].f_1), sParam3, 24);
uParam0->[iParam1 /*10*/].f_7=1;
uParam0->[iParam1 /*10*/].f_8=iParam4;
uParam0->[iParam1 /*10*/].f_9=iParam5;
if(!Global_78558){
if(!PED::IS_PED_INJURED(pedParam2))if(uParam0->[iParam1 /*10*/].f_8==0) PED::SET_PED_CAN_PLAY_AMBIENT_ANIMS(pedParam2, false);
else PED::SET_PED_CAN_PLAY_AMBIENT_ANIMS(pedParam2, true);
if(!PED::IS_PED_INJURED(pedParam2))if(uParam0->[iParam1 /*10*/].f_9==0) TASK::OPEN_PATROL_ROUTE(pedParam2, 0);
else TASK::OPEN_PATROL_ROUTE(pedParam2, 1);
}
return;
}


void func_9() // Position - 0x4BE{
if(func_443(&caLocal_423)){
func_442(&caLocal_423);
if(HUD::DOES_BLIP_EXIST(hLocal_853.f_4)) HUD::REMOVE_BLIP(&(hLocal_853.f_4));
if(func_441(&caLocal_423, false)) func_439();
}else{
func_438(&caLocal_423);
if(caLocal_423.f_410 < 28){
func_404(&caLocal_423, &uLocal_1125);
func_403(&caLocal_423);
func_402(&caLocal_423, &uLocal_898, false);
}
if(caLocal_423.f_410 > 2)if(!func_401(&caLocal_423)) func_370();
else func_361(&caLocal_423, "Taxi Not Driveable", func_369(&caLocal_423));
if(caLocal_423.f_410 >=21 && !bLocal_905) func_345();
if(bLocal_907) VEHICLE::SET_VEHICLE_DENSITY_MULTIPLIER_THIS_FRAME(0.8f);
if(caLocal_423.f_410==9 || caLocal_423.f_410==17) func_321(&caLocal_423, 0, false);
switch (caLocal_423.f_410){
case 0:
func_318();
func_317(&caLocal_423, 16, 4f, false);
func_315(&caLocal_423, uLocal_916, uLocal_919, "TaxiKeyla", hLocal_886, 41.1334f, 15f);
func_314(&caLocal_423);
func_313(&caLocal_423, 1);
break;
case 1:
if(func_311()){
func_310();
func_290();
func_289(&uLocal_409[0 /*3*/], "TAXI_SC_BN_04", 100);
func_288(&caLocal_423, &uLocal_409);
func_287(&caLocal_423);
VEHICLE::SET_ALL_VEHICLE_GENERATORS_ACTIVE_IN_AREA(uLocal_928, uLocal_931, false, true);
caLocal_423.f_14={
uLocal_916 
};
func_313(&caLocal_423, 3);
}
break;
case 3:
if(func_280(&caLocal_423, 1)){
if(!ENTITY::IS_ENTITY_DEAD(caLocal_423.f_3, false)){
PED::SET_PED_COMPONENT_VARIATION(caLocal_423.f_3, PV_COMP_HEAD, 0, 1, 0);
PED::SET_PED_COMPONENT_VARIATION(caLocal_423.f_3, PV_COMP_HAIR, 1, 2, 0);
PED::SET_PED_COMPONENT_VARIATION(caLocal_423.f_3, PV_COMP_UPPR, 0, 2, 0);
PED::SET_PED_COMPONENT_VARIATION(caLocal_423.f_3, PV_COMP_LOWR, 1, 3, 0);
PED::SET_PED_COMPONENT_VARIATION(caLocal_423.f_3, PV_COMP_ACCS, 1, 0, 0);
}
func_279(&caLocal_423, 1, false);
PED::ADD_RELATIONSHIP_GROUP("TAXI_Escapee", &(hLocal_853.f_30));
PED::SET_RELATIONSHIP_BETWEEN_GROUPS(255, hLocal_853.f_30, caLocal_423.f_413);
PED::SET_RELATIONSHIP_BETWEEN_GROUPS(255, hLocal_853.f_30, joaat("PLAYER"));
PATHFIND::SET_ROADS_IN_AREA(1346.9f, -1606.52f, 31.16f, 1457.25f, -1508.19f, 83.05f, false, true);
func_313(&caLocal_423, 5);
}
break;
case 5:
if(func_260(&caLocal_423, false, 1109393408)){
func_259();
func_313(&caLocal_423, 6);
}
break;
case 6:
if(func_258(&caLocal_423)){
func_254(&caLocal_423, 9, 1, false, false);
func_253(&caLocal_423);
caLocal_423.f_17={
485.2039f, -1418.0643f, 28.2112f 
};
func_252();
func_251(392.8545f, -1379.5774f, 29.2837f, false, 50f);
func_313(&caLocal_423, 17);
}
if(VEHICLE::IS_VEHICLE_DRIVEABLE(caLocal_423.f_4, false)){
if(!PED::IS_PED_IN_VEHICLE(caLocal_423.f_2, caLocal_423.f_4, false)){
func_249(&caLocal_423);
func_313(&caLocal_423, 5);
}}
break;
case 17:
func_248(&caLocal_423, &(caLocal_423.f_9));
if(!ENTITY::DOES_ENTITY_EXIST(hLocal_853.f_3))if(func_247()) func_246(&hLocal_853, uLocal_937, fLocal_972);
else func_245(&caLocal_423, &hLocal_853);
if(func_219(&caLocal_423, 9f, 1097859072, 1117782016)){
if(HUD::DOES_BLIP_HAVE_GPS_ROUTE(caLocal_423.f_9)) HUD::SET_BLIP_ROUTE(caLocal_423.f_9, false);
HUD::REMOVE_BLIP(&(caLocal_423.f_9));
func_313(&caLocal_423, 19);
}
break;
case 19:
if(func_212()){
if(!_CONVERSATION_IS_DIALOGUE_IN_PROGRESS()){
func_254(&caLocal_423, 139, 1, false, false);
bLocal_907=true;
func_313(&caLocal_423, 9);
}}
break;
case 9:
func_245(&caLocal_423, &hLocal_853);
func_210();
if(func_209(hLocal_853.f_2, hLocal_853.f_3)){
func_208(&caLocal_423, 2, false);
PED::SET_PED_CAN_BE_SHOT_IN_VEHICLE(hLocal_853.f_2, true);
PED::SET_PED_COMBAT_ATTRIBUTES(hLocal_853.f_2, BF_0x66BB9FCC, true);
PED::SET_PED_COMBAT_ATTRIBUTES(hLocal_853.f_2, BF_AlwaysFlee, true);
func_279(&caLocal_423, 1, false);
hLocal_853.f_5=ENTITY::GET_ENTITY_HEALTH(hLocal_853.f_3);
hLocal_853.f_15=VEHICLE::GET_VEHICLE_ENGINE_HEALTH(hLocal_853.f_3);
hLocal_853.f_16=VEHICLE::GET_VEHICLE_PETROL_TANK_HEALTH(hLocal_853.f_3);
func_317(&caLocal_423, 13, 0f, false);
func_317(&caLocal_423, 20, 0f, false);
PED::SET_PED_NON_CREATION_AREA(uLocal_946, uLocal_949);
iLocal_894=PED::ADD_SCENARIO_BLOCKING_AREA(uLocal_946, uLocal_949, false, true, true, true);
CAM::SET_CINEMATIC_BUTTON_ACTIVE(false);
func_313(&caLocal_423, 13);
}
break;
case 13:
func_210();
func_245(&caLocal_423, &hLocal_853);
func_248(&caLocal_423, &(hLocal_853.f_4));
if(func_207(&caLocal_423)){
if(func_206(hLocal_853.f_2, hLocal_853.f_4)){
func_254(&caLocal_423, 51, 1, false, false);
func_313(&caLocal_423, 25);
}
func_202(&caLocal_423);
func_199(hLocal_853.f_3, 291.0313f, -1476.446f, 28.2945f, 15f, &uLocal_1052, 2);
if(func_159()){
if(VEHICLE::IS_PLAYBACK_USING_AI_GOING_ON_FOR_VEHICLE(hLocal_853.f_3)){
VEHICLE::STOP_PLAYBACK_RECORDED_VEHICLE(hLocal_853.f_3);
VEHICLE::REMOVE_VEHICLE_RECORDING(0, "taxi_oj_fc3");
}
func_157(&uLocal_45, 0, false);
func_156();
func_313(&caLocal_423, 20);
}}
break;
case 20:
if(func_155())if(func_134()) func_313(&caLocal_423, 14);
break;
case 14:
func_133(&caLocal_423, &(caLocal_423.f_43));
if(VEHICLE::IS_VEHICLE_DRIVEABLE(hLocal_853.f_3, false)){
if(ENTITY::IS_ENTITY_AT_COORD(hLocal_853.f_3, uLocal_922, 20f, 20f, 60f, true, true, 0) && ENTITY::GET_ENTITY_SPEED(hLocal_853.f_3) < 5f || hLocal_853.f_31 > 2){
if(!ENTITY::IS_ENTITY_DEAD(pedLocal_890, false)){
TASK::CLEAR_PED_TASKS(pedLocal_890);
ENTITY::SET_ENTITY_COORDS(pedLocal_890, uLocal_943, true, false, false, true);
}
func_254(&caLocal_423, 37, 1, false, false);
func_313(&caLocal_423, 21);
}}
break;
case 21:
func_133(&caLocal_423, &(caLocal_423.f_43));
func_132(&caLocal_423, hLocal_853.f_2, true, true);
func_132(&caLocal_423, pedLocal_890, false, false);
func_248(&caLocal_423, &(caLocal_423.f_9));
if(HUD::DOES_BLIP_EXIST(hLocal_853.f_4)){
HUD::REMOVE_BLIP(&(hLocal_853.f_4));
caLocal_423.f_17={
uLocal_925 
};
}elseif(!HUD::DOES_BLIP_EXIST(caLocal_423.f_9)){
caLocal_423.f_9=func_130(caLocal_423.f_17, true);
}
if(VEHICLE::IS_VEHICLE_DRIVEABLE(caLocal_423.f_4, false)){
if(PED::IS_PED_IN_VEHICLE(caLocal_423.f_2, caLocal_423.f_4, false)){
ENTITY::IS_ENTITY_AT_COORD(caLocal_423.f_4, -684.526f, -1105.7596f, 13.52571f, 1f, 1f, 2f, !caLocal_423.f_140, true, 0);
if(ENTITY::IS_ENTITY_IN_ANGLED_AREA(caLocal_423.f_4, -685.0081f, -1101.2966f, 13.527f, -678.677f, -1110.6399f, 15.5871f, 2.25f, false, true, 0) || ENTITY::IS_ENTITY_IN_ANGLED_AREA(caLocal_423.f_4, -704.1705f, -1115.2262f, 13.525f, -700.2585f, -1121.2924f, 15.4336f, 2.25f, false, true, 0)){
if(ENTITY::IS_ENTITY_IN_ANGLED_AREA(caLocal_423.f_4, -685.0081f, -1101.2966f, 13.527f, -678.677f, -1110.6399f, 15.5871f, 2.25f, false, true, 0)) iLocal_413=0;
else iLocal_413=1;
caLocal_423.f_35=60f;
caLocal_423.f_417=143;
caLocal_423.f_416=143;
bLocal_907=false;
func_313(&caLocal_423, 22);
}}}
break;
case 22:
func_132(&caLocal_423, hLocal_853.f_2, false, true);
func_132(&caLocal_423, pedLocal_890, false, false);
if(!PED::IS_PED_INJURED(caLocal_423.f_3)){
if(VEHICLE::IS_VEHICLE_DRIVEABLE(caLocal_423.f_4, false)){
if(hLocal_853.f_31 !=6){
if(func_126(&caLocal_423, true, 3f)){
bLocal_906=true;
HUD::REMOVE_BLIP(&(caLocal_423.f_9));
func_313(&caLocal_423, 27);
}
}
else{
if(!HUD::DOES_BLIP_EXIST(caLocal_423.f_9)) caLocal_423.f_9=func_130(caLocal_423.f_17, true);
if(func_219(&caLocal_423, 8f, 1097859072, 1117782016) || func_126(&caLocal_423, true, 1084227584)){
HUD::REMOVE_BLIP(&(caLocal_423.f_9));
func_313(&caLocal_423, 27);
}
}}}
break;
case 25:
func_132(&caLocal_423, hLocal_853.f_2, false, true);
func_132(&caLocal_423, pedLocal_890, false, false);
if(PLAYER::GET_PLAYER_WANTED_LEVEL(PLAYER::GET_PLAYER_INDEX()) < 1){
func_254(&caLocal_423, 37, 1, false, false);
func_313(&caLocal_423, 27);
}
break;
case 27:
func_132(&caLocal_423, hLocal_853.f_2, false, true);
func_132(&caLocal_423, pedLocal_890, false, false);
if(!PED::IS_PED_INJURED(caLocal_423.f_3)){
if(HUD::DOES_BLIP_EXIST(hLocal_853.f_4)) HUD::REMOVE_BLIP(&(hLocal_853.f_4));
HUD::CLEAR_THIS_PRINT("TAXI_OBJ_DRIVE");
if(hLocal_853.f_9 > 2){
caLocal_423.f_56=-10;
}elseif(hLocal_853.f_9==0){
caLocal_423.f_56=7;
func_125(&caLocal_423, 0);
}else{
caLocal_423.f_56=4;
}
func_123(&caLocal_423);
func_119(&caLocal_423);
func_118(&caLocal_423);
func_313(&caLocal_423, 29);
}
break;
case 29:
HUD::CLEAR_THIS_PRINT("TAXI_OBJ_DRIVE");
if(func_83(&caLocal_423, &iLocal_1132)){
func_57(&caLocal_423);
func_313(&caLocal_423, 28);
}
break;
case 28:
if(bLocal_905 || bLocal_904) func_313(&caLocal_423, 30);
break;
case 30:
HUD::CLEAR_THIS_PRINT("TAXI_OBJ_DRIVE");
if(!PED::IS_PED_INJURED(caLocal_423.f_3) && ENTITY::HAS_ENTITY_BEEN_DAMAGED_BY_ENTITY(pedLocal_890, caLocal_423.f_3, true) && ENTITY::HAS_ENTITY_BEEN_DAMAGED_BY_ENTITY(hLocal_853.f_2, caLocal_423.f_3, true)){
if(bLocal_910 || SYSTEM::TIMERA() > 20000){
func_54(true, &caLocal_423, true);
func_458();
}else{
veLocal_421=VEHICLE::GET_RANDOM_VEHICLE_IN_SPHERE(uLocal_940, 10f, joaat("ambulance"), 0);
if(VEHICLE::IS_VEHICLE_DRIVEABLE(veLocal_421, false)) bLocal_910=true;
pedLocal_891=PED::GET_RANDOM_PED_AT_COORD(uLocal_940, 5f, 5f, 5f, -1);
if(!PED::IS_PED_INJURED(pedLocal_891)) bLocal_910=true;
if(!bLocal_911){
if(MISC::CREATE_INCIDENT(DT_AmbulanceDepartment, uLocal_940, 1, 0f, &uLocal_895, 0, 0)){
SYSTEM::SETTIMERA(0);
bLocal_911=true;
}
}}}
if(func_52(uLocal_940, true) > 100f || func_50(caLocal_423.f_3, PLAYER::PLAYER_PED_ID()) > 100f){
func_54(true, &caLocal_423, true);
func_458();
}elseif(PED::IS_PED_INJURED(caLocal_423.f_3) || ENTITY::HAS_ENTITY_BEEN_DAMAGED_BY_ENTITY(pedLocal_890, PLAYER::PLAYER_PED_ID(), true) || ENTITY::HAS_ENTITY_BEEN_DAMAGED_BY_ENTITY(hLocal_853.f_2, PLAYER::PLAYER_PED_ID(), true)){
if(!PED::IS_PED_INJURED(caLocal_423.f_3)){
PED::SET_BLOCKING_OF_NON_TEMPORARY_EVENTS(caLocal_423.f_3, true);
TASK::CLEAR_PED_TASKS(caLocal_423.f_3);
TASK::CLEAR_SEQUENCE_TASK(&iLocal_414);
TASK::OPEN_SEQUENCE_TASK(&iLocal_414);
TASK::TASK_COWER(0, 2000);
TASK::TASK_SMART_FLEE_COORD(0, caLocal_423.f_17, 1000f, -1, false, false);
TASK::CLOSE_SEQUENCE_TASK(iLocal_414);
TASK::TASK_PERFORM_SEQUENCE(caLocal_423.f_3, iLocal_414);
TASK::CLEAR_SEQUENCE_TASK(&iLocal_414);
PED::SET_PED_KEEP_TASK(caLocal_423.f_3, true);
}
if(!PED::IS_PED_INJURED(pedLocal_890)){
PED::SET_BLOCKING_OF_NON_TEMPORARY_EVENTS(pedLocal_890, true);
TASK::CLEAR_PED_TASKS(pedLocal_890);
TASK::CLEAR_SEQUENCE_TASK(&iLocal_414);
TASK::OPEN_SEQUENCE_TASK(&iLocal_414);
TASK::TASK_COWER(0, 1000);
TASK::TASK_SMART_FLEE_COORD(0, caLocal_423.f_17, 1000f, -1, false, false);
TASK::CLOSE_SEQUENCE_TASK(iLocal_414);
TASK::TASK_PERFORM_SEQUENCE(pedLocal_890, iLocal_414);
TASK::CLEAR_SEQUENCE_TASK(&iLocal_414);
PED::SET_PED_KEEP_TASK(pedLocal_890, true);
}
if(!PED::IS_PED_INJURED(hLocal_853.f_2)){
PED::SET_BLOCKING_OF_NON_TEMPORARY_EVENTS(hLocal_853.f_2, true);
TASK::CLEAR_SEQUENCE_TASK(&iLocal_414);
TASK::OPEN_SEQUENCE_TASK(&iLocal_414);
if(bLocal_908) TASK::TASK_PLAY_ANIM(0, "MOVE_DUCK_FOR_COVER", "exit", 1090519040, -1056964608, -1, 0, 0, false, false, false);
TASK::TASK_STAND_STILL(0, 500);
TASK::TASK_SMART_FLEE_COORD(0, caLocal_423.f_17, 1000f, -1, false, false);
TASK::CLOSE_SEQUENCE_TASK(iLocal_414);
TASK::TASK_PERFORM_SEQUENCE(hLocal_853.f_2, iLocal_414);
TASK::CLEAR_SEQUENCE_TASK(&iLocal_414);
PED::SET_PED_KEEP_TASK(hLocal_853.f_2, true);
}
func_54(true, &caLocal_423, true);
func_458();
}elseif(bLocal_904 && !_CONVERSATION_IS_DIALOGUE_IN_PROGRESS() && MISC::GET_GAME_TIMER() - iLocal_900 > 500){
if(!PED::IS_PED_INJURED(caLocal_423.f_3)){
PED::SET_BLOCKING_OF_NON_TEMPORARY_EVENTS(caLocal_423.f_3, true);
TASK::CLEAR_PED_TASKS(caLocal_423.f_3);
TASK::CLEAR_SEQUENCE_TASK(&iLocal_414);
TASK::OPEN_SEQUENCE_TASK(&iLocal_414);
TASK::TASK_SHOOT_AT_ENTITY(0, PLAYER::PLAYER_PED_ID(), -1, joaat("FIRING_PATTERN_FULL_AUTO"));
TASK::CLOSE_SEQUENCE_TASK(iLocal_414);
TASK::TASK_PERFORM_SEQUENCE(caLocal_423.f_3, iLocal_414);
TASK::CLEAR_SEQUENCE_TASK(&iLocal_414);
PED::SET_PED_KEEP_TASK(caLocal_423.f_3, true);
}
if(!PED::IS_PED_INJURED(pedLocal_890)){
PED::SET_BLOCKING_OF_NON_TEMPORARY_EVENTS(pedLocal_890, true);
TASK::CLEAR_PED_TASKS(pedLocal_890);
TASK::CLEAR_SEQUENCE_TASK(&iLocal_414);
TASK::OPEN_SEQUENCE_TASK(&iLocal_414);
TASK::TASK_COWER(0, 1000);
TASK::TASK_SMART_FLEE_COORD(0, caLocal_423.f_17, 1000f, -1, false, false);
TASK::CLOSE_SEQUENCE_TASK(iLocal_414);
TASK::TASK_PERFORM_SEQUENCE(pedLocal_890, iLocal_414);
TASK::CLEAR_SEQUENCE_TASK(&iLocal_414);
PED::SET_PED_KEEP_TASK(pedLocal_890, true);
}
if(!PED::IS_PED_INJURED(hLocal_853.f_2)){
PED::SET_BLOCKING_OF_NON_TEMPORARY_EVENTS(hLocal_853.f_2, true);
TASK::CLEAR_PED_TASKS(hLocal_853.f_2);
TASK::CLEAR_SEQUENCE_TASK(&iLocal_414);
TASK::OPEN_SEQUENCE_TASK(&iLocal_414);
TASK::TASK_STAND_STILL(0, 500);
TASK::TASK_SMART_FLEE_COORD(0, caLocal_423.f_17, 1000f, -1, false, false);
TASK::CLOSE_SEQUENCE_TASK(iLocal_414);
TASK::TASK_PERFORM_SEQUENCE(hLocal_853.f_2, iLocal_414);
TASK::CLEAR_SEQUENCE_TASK(&iLocal_414);
PED::SET_PED_KEEP_TASK(hLocal_853.f_2, true);
}
func_10(&caLocal_423, true);
func_458();
}
break;
}}
return;
}


void func_10(var uParam0, BOOL bParam1) // Position - 0x125A{
func_442(uParam0);
if(_CONVERSATION_IS_DIALOGUE_IN_PROGRESS()) func_48();
func_46();
HUD::CLEAR_PRINTS();
HUD::SET_SCRIPT_VARIABLE_HUD_COLOUR(1);
func_41(0);
if(VEHICLE::IS_VEHICLE_DRIVEABLE(uParam0->f_4, false)){
VEHICLE::SET_VEHICLE_HAS_STRONG_AXLES(uParam0->f_4, false);
VEHICLE::REMOVE_VEHICLE_STUCK_CHECK(uParam0->f_4);
VEHICLE::REMOVE_VEHICLE_UPSIDEDOWN_CHECK(uParam0->f_4);
}
func_37(uParam0->f_14, true);
func_251(uParam0->f_14, true, 1114636288);
func_36(&(uParam0->f_244), 3);
PED::SET_PED_CONFIG_FLAG(PLAYER::PLAYER_PED_ID(), 32, true);
if(func_33()) PLAYER::SET_PLAYER_CONTROL(PLAYER::PLAYER_ID(), true, 0);
CUTSCENE::SET_PAD_CAN_SHAKE_DURING_CUTSCENE(true);
func_23(false, true, true, false, false, false, false);
HUD::DISPLAY_RADAR(true);
HUD::DISPLAY_HUD(true);
if(CAM::DOES_CAM_EXIST(*uParam0)){
CAM::DESTROY_CAM(*uParam0, false);
CAM::RENDER_SCRIPT_CAMS(false, false, 3000, true, false, 0);
CAM::SET_CINEMATIC_BUTTON_ACTIVE(true);
}
if(func_22(Global_113648.f_19099, 4)){
func_20(&(Global_113648.f_19099), 4);
VEHICLE::SET_VEHICLE_MODEL_IS_SUPPRESSED(func_19(), false);
}
if(bParam1) func_18(uParam0);
func_17(uParam0);
STREAMING::REMOVE_ANIM_DICT("gestures@m@standing@casual");
STREAMING::REMOVE_ANIM_DICT("oddjobs@taxi@");
STREAMING::REMOVE_ANIM_DICT("oddjobs@towingcome_here");
if(NETWORK::NETWORK_IS_SIGNED_ONLINE()) func_15(uParam0->f_411);
if(!PLAYER::IS_PLAYER_CONTROL_ON(PLAYER::GET_PLAYER_INDEX())) PLAYER::SET_PLAYER_CONTROL(PLAYER::GET_PLAYER_INDEX(), true, 0);
STATS::PLAYSTATS_ODDJOB_DONE(SYSTEM::ROUND(func_11(&uLocal_90) * 1000f), 12, 0);
return;
}


float func_11(int* piParam0) // Position - 0x13B1{
if(func_14(piParam0))if(func_13(piParam0)) return piParam0->f_2;
else return func_12(IS_BIT_SET(*piParam0, 4)) - piParam0->f_1;
return 0f;
}


float func_12(BOOL bParam0) // Position - 0x13EA{
float num;
float num2;
int networkTime;
float num3;
float num4;
if(bParam0){
num=SYSTEM::TO_FLOAT(MISC::GET_GAME_TIMER());
num2=num / 1000f;
return num2;
}
if(NETWORK::NETWORK_IS_GAME_IN_PROGRESS()){
networkTime=NETWORK::GET_NETWORK_TIME();
num3=SYSTEM::TO_FLOAT(networkTime);
num4=num3 / 1000f;
return num4;
}
return SYSTEM::TO_FLOAT(MISC::GET_GAME_TIMER()) / 1000f;
}
BOOL func_13(int* piParam0) // Position - 0x1442{
return IS_BIT_SET(*piParam0, 2);
}
BOOL func_14(int* piParam0) // Position - 0x144F{
return IS_BIT_SET(*piParam0, 1);
}


void func_15(var uParam0) // Position - 0x145C{
var unk;
if(uLocal_57[0] !=0){
TEXT_LABEL_COPY(&unk,{
func_16(uParam0) 
}
, 6);
!MISC::IS_STRING_NULL(&unk);
}
return;
}


struct<8> func_16(int iParam0) // Position - 0x1483{
var unk;
switch (iParam0){
case 0:
TEXT_LABEL_ASSIGN_STRING(&unk, "TAXI_SC_N_NE", 32);
break;
case 1:
TEXT_LABEL_ASSIGN_STRING(&unk, "TAXI_SC_N_TE", 32);
break;
case 2:
TEXT_LABEL_ASSIGN_STRING(&unk, "TAXI_SC_N_DL", 32);
break;
case 3:
TEXT_LABEL_ASSIGN_STRING(&unk, "TAXI_SC_N_GB", 32);
break;
case 4:
TEXT_LABEL_ASSIGN_STRING(&unk, "TAXI_SC_N_TB", 32);
break;
case 5:
TEXT_LABEL_ASSIGN_STRING(&unk, "TAXI_SC_N_CY", 32);
break;
case 6:
TEXT_LABEL_ASSIGN_STRING(&unk, "TAXI_SC_N_GN", 32);
break;
case 7:
TEXT_LABEL_ASSIGN_STRING(&unk, "TAXI_SC_N_CC", 32);
break;
case 8:
TEXT_LABEL_ASSIGN_STRING(&unk, "TAXI_SC_N_FC", 32);
break;
case 9:
TEXT_LABEL_ASSIGN_STRING(&unk, "TAXI_BLIP_CAR", 32);
break;
default:
TEXT_LABEL_ASSIGN_STRING(&unk, "InvalidEnum", 32);
break;
}
return unk;
}


void func_17(var uParam0) // Position - 0x154C{
VEHICLE::REMOVE_ROAD_NODE_SPEED_ZONE(uParam0->f_51[0]);
return;
}


void func_18(var uParam0) // Position - 0x1560{
if(ENTITY::DOES_ENTITY_EXIST(uParam0->f_3)){
if(!ENTITY::IS_ENTITY_DEAD(uParam0->f_3, false)){
if(!PED::IS_PED_IN_ANY_VEHICLE(uParam0->f_3, false)) PED::RESET_PED_LAST_VEHICLE(uParam0->f_3);
PED::SET_BLOCKING_OF_NON_TEMPORARY_EVENTS(uParam0->f_3, false);
PED::SET_RELATIONSHIP_BETWEEN_GROUPS(255, uParam0->f_413, joaat("PLAYER"));
if(ENTITY::IS_ENTITY_PLAYING_ANIM(uParam0->f_3, "oddjobs@towingcome_here", "come_here_idle_a", 3)) TASK::STOP_ANIM_TASK(uParam0->f_3, "oddjobs@towingcome_here", "come_here_idle_a", -1056964608);
elseif(ENTITY::IS_ENTITY_PLAYING_ANIM(uParam0->f_3, "oddjobs@towingcome_here", "come_here_idle_c", 3)) TASK::STOP_ANIM_TASK(uParam0->f_3, "oddjobs@towingcome_here", "come_here_idle_c", -1056964608);
if(ENTITY::IS_ENTITY_PLAYING_ANIM(uParam0->f_3, "gestures@m@standing@casual", "gesture_nod_yes_hard", 3)) TASK::STOP_ANIM_TASK(uParam0->f_3, "gestures@m@standing@casual", "gesture_nod_yes_hard", -1056964608);
if(ENTITY::IS_ENTITY_PLAYING_ANIM(uParam0->f_3, "gestures@m@standing@casual", "gesture_you_hard", 3)) TASK::STOP_ANIM_TASK(uParam0->f_3, "gestures@m@standing@casual", "gesture_you_hard", -1056964608);
ENTITY::SET_PED_AS_NO_LONGER_NEEDED(&(uParam0->f_3));
}}
return;
}
Hash func_19() // Position - 0x165D{
return joaat("taxi");
}


void func_20(int iParam0, int iParam1) // Position - 0x166A{
func_21(iParam0, iParam1);
return;
}


void func_21(int iParam0, int iParam1) // Position - 0x167A{
*iParam0=*iParam0 - *iParam0 && iParam1;
return;
}
BOOL func_22(int iParam0, int iParam1) // Position - 0x168F{
return iParam0 && iParam1 !=false;
}


void func_23(BOOL bParam0, BOOL bParam1, BOOL bParam2, BOOL bParam3, BOOL bParam4, BOOL bParam5, BOOL bParam6) // Position - 0x169E{
if(bParam0){
PLAYER::SPECIAL_ABILITY_DEACTIVATE_FAST(PLAYER::PLAYER_ID(), 0);
PLAYER::SET_ALL_RANDOM_PEDS_FLEE(PLAYER::PLAYER_ID(), true);
PLAYER::SET_POLICE_IGNORE_PLAYER(PLAYER::PLAYER_ID(), true);
func_32(1);
HUD::THEFEED_FLUSH_QUEUE();
HUD::THEFEED_PAUSE();
if(Global_20383.f_1 > 3 && !bParam6){
if(AUDIO::IS_MOBILE_PHONE_CALL_ONGOING()) AUDIO::STOP_SCRIPTED_CONVERSATION(false);
if(!func_31()) Global_20383.f_1=3;
Global_21725=5;
}
func_30(true, bParam3, bParam2, false);
Global_63368=1;
Global_75696=1;
Global_78556=1;
}else{
func_32(0);
HUD::THEFEED_RESUME();
Global_63368=0;
if(bParam1) GRAPHICS::CASCADE_SHADOWS_INIT_SESSION();
PLAYER::SET_ALL_RANDOM_PEDS_FLEE(PLAYER::PLAYER_ID(), false);
PLAYER::SET_POLICE_IGNORE_PLAYER(PLAYER::PLAYER_ID(), false);
func_30(false, bParam3, bParam2, false);
if(NETWORK::NETWORK_IS_GAME_IN_PROGRESS())if(!PED::IS_PED_INJURED(PLAYER::PLAYER_PED_ID()) && !func_28(PLAYER::PLAYER_ID()) && !_NETWORK_IS_PLAYER_IN_SCTV(PLAYER::PLAYER_ID(), 0) && !func_24() && !bParam4 && !bParam5 && !NETWORK::NETWORK_IS_IN_SPECTATOR_MODE()) ENTITY::SET_ENTITY_INVINCIBLE(PLAYER::PLAYER_PED_ID(), false);
elseif(!PED::IS_PED_INJURED(PLAYER::PLAYER_PED_ID()) && !func_28(PLAYER::PLAYER_ID()) && !bParam4 && !bParam5) ENTITY::SET_ENTITY_INVINCIBLE(PLAYER::PLAYER_PED_ID(), false);
Global_78556=0;
}
return;
}
BOOL func_24() // Position - 0x17EB{
return IS_BIT_SET(Global_1853910[PLAYER::PLAYER_ID() /*862*/].f_36.f_18, 14);
}
BOOL _NETWORK_IS_PLAYER_IN_SCTV(Player player, int bCheckTeam) // Position - 0x1805{
BOOL flag;
if(player==PLAYER::PLAYER_ID()) flag=func_26(-1, false)==8;
else flag=Global_1853910[player /*862*/].f_205==8;
if(bCheckTeam==1)if(NETWORK::NETWORK_IS_PLAYER_ACTIVE(player)) flag=PLAYER::GET_PLAYER_TEAM(player)==8;
return flag;
}

int func_26(int iParam0, BOOL bParam1) // Position - 0x1850{
int num;
int num2;
num2=iParam0;
if(num2==-1) num2=func_27();
if(Global_1575040[num2]==1){
bParam1;
num=8;
}else{
num=Global_1574912[num2];
bParam1;
}
return num;
}

int func_27() // Position - 0x1891{
return Global_1574918;
}
BOOL func_28(Player plParam0) // Position - 0x189D{
if(_NETWORK_IS_PLAYER_IN_SCTV(plParam0, 0)) return true;
if(func_29())if(plParam0==PLAYER::PLAYER_ID()) return true;
if(IS_BIT_SET(Global_2657589[plParam0 /*466*/].f_199, 2)) return true;
return false;
}
BOOL func_29() // Position - 0x18DC{
return IS_BIT_SET(Global_2621446, 3);
}

int func_30(BOOL bParam0, BOOL bParam1, BOOL bParam2, BOOL bParam3) // Position - 0x18EA{
int num;
num=0;
if(MISC::IS_PC_VERSION()){
if(CUTSCENE::IS_MULTIHEAD_FADE_UP() !=bParam0 && bParam2){
CUTSCENE::SET_CUTSCENE_MULTIHEAD_FADE(bParam0, bParam1, true, bParam3);
num=1;
}}
return num;
}
BOOL func_31() // Position - 0x191D{
if(Global_20383.f_1==1 || Global_20383.f_1==0) return true;
return false;
}


void func_32(int iParam0) // Position - 0x1944{
if(iParam0==1) MISC::SET_BIT(&Global_8253, 13);
else MISC::CLEAR_BIT(&Global_8253, 13);
return;
}
BOOL func_33() // Position - 0x1967{
if(!func_35() && !func_34())if(!PLAYER::IS_PLAYER_SCRIPT_CONTROL_ON(PLAYER::GET_PLAYER_INDEX())) return true;
return false;
}
BOOL func_34() // Position - 0x1992{
if(SCRIPT::GET_NUMBER_OF_THREADS_RUNNING_THE_SCRIPT_WITH_THIS_HASH(joaat("appcamera")) > 0) return true;
return false;
}
BOOL func_35() // Position - 0x19AC{
if(SCRIPT::GET_NUMBER_OF_THREADS_RUNNING_THE_SCRIPT_WITH_THIS_HASH(joaat("appinternet")) > 0) return true;
return false;
}


void func_36(var uParam0, int iParam1) // Position - 0x19C6{
if(uParam0->[iParam1 /*10*/].f_7==1) uParam0->[iParam1 /*10*/].f_7=0;
return;
}


void func_37(var uParam0, var uParam1, var uParam2, BOOL bParam3) // Position - 0x19E3{
Vector3 vector;
Vector3 vector2;
if(!func_39(uParam0, func_40(), false)){
vector={
func_38(uParam0, 1f, -30f, -30f, -10f) 
};
vector2={
func_38(uParam0, 1f, 30f, 30f, 10f) 
};
VEHICLE::SET_ALL_VEHICLE_GENERATORS_ACTIVE_IN_AREA(vector, vector2, bParam3, true);
}
return;
}


Vector3 func__38(var uParam0, var uParam1, var uParam2, float fParam3, float fParam4, float fParam5, float fParam6) // Position - 0x1A43{
float num;
float value;
float num2;
float num3;
var unk3;
value=fParam3;
num2=SYSTEM::COS(value);
num3=SYSTEM::SIN(value);
num=(fParam4 * num2) + (fParam4.f_1 * num3);
num.f_1=(fParam4.f_1 * num2) - (fParam4 * num3);
unk3={
uParam0 + num 
};
return unk3;
}
BOOL func_39(float fParam0, var uParam1, var uParam2, float fParam3, float fParam4, float fParam5, BOOL bParam6) // Position - 0x1A90{
if(bParam6) return fParam0==fParam3 && fParam0.f_1==fParam3.f_1;
return fParam0==fParam3 && fParam0.f_1==fParam3.f_1 && fParam0.f_2==fParam3.f_2;
}


Vector3 func__40() // Position - 0x1AD7{
var unk;
return unk;
}


void func_41(int iParam0) // Position - 0x1AE3{
if(func_45()) return;
if(Global_20584)if(func_44()) func_42(true, true);
else func_42(false, false);
if(Global_20383.f_1==10 || Global_20383.f_1==9) MISC::SET_BIT(&Global_8254, 16);
if(AUDIO::IS_MOBILE_PHONE_CALL_ONGOING()) AUDIO::STOP_SCRIPTED_CONVERSATION(false);
Global_21725=5;
if(iParam0==1) MISC::SET_BIT(&Global_8253, 30);
else MISC::CLEAR_BIT(&Global_8253, 30);
if(!func_31()) Global_20383.f_1=3;
return;
}


void func_42(BOOL bParam0, BOOL bParam1) // Position - 0x1B6D{
if(bParam0){
if(func_43(0)){
Global_20584=true;
if(bParam1) MOBILE::GET_MOBILE_PHONE_POSITION(&Global_20320);
Global_20311={
Global_20329[Global_20328 /*3*/] 
};
MOBILE::SET_MOBILE_PHONE_POSITION(Global_20311);
}}elseif(Global_20584==true){
Global_20584=false;
Global_20311={
Global_20336[Global_20328 /*3*/] 
};
if(bParam1) MOBILE::SET_MOBILE_PHONE_POSITION(Global_20320);
else MOBILE::SET_MOBILE_PHONE_POSITION(Global_20311);
}
return;
}
BOOL func_43(int iParam0) // Position - 0x1BE1{
if(iParam0==1)if(Global_20383.f_1 > 3)if(IS_BIT_SET(Global_8253, 14)) return true;
else return false;
else return false;
if(SCRIPT::GET_NUMBER_OF_THREADS_RUNNING_THE_SCRIPT_WITH_THIS_HASH(joaat("cellphone_flashhand")) > 0) return true;
if(Global_20383.f_1 > 3) return true;
return false;
}
BOOL func_44() // Position - 0x1C38{
return IS_BIT_SET(Global_1962996, 5);
}
BOOL func_45() // Position - 0x1C46{
return IS_BIT_SET(Global_1962996, 19);
}


void func_46() // Position - 0x1C55{
int i;
for (i=0;
i < 8;
i=i + 1){
if(Global_97614[i /*17*/] && !Global_97614[i /*17*/].f_1)if(Global_97614[i /*17*/].f_3==0)if(Global_97614[i /*17*/].f_5 !=88 && Global_97614[i /*17*/].f_5 !=89 && Global_97614[i /*17*/].f_5 !=92) func_47(Global_97614[i /*17*/].f_5, true);
}
return;
}


void func_47(int iParam0, BOOL bParam1) // Position - 0x1CDC{
if(bParam1)if(iParam0 !=88 && iParam0 !=89 && iParam0 !=92) Global_94666[iParam0 /*2*/]=1;
else Global_94666[iParam0 /*2*/]=0;
return;
}


void func_48() // Position - 0x1D1A{
Global_20591=0;
func_49();
return;
}


void func_49() // Position - 0x1D2A{
AUDIO::RESTART_SCRIPTED_CONVERSATION();
Global_22736=0;
if(AUDIO::IS_SCRIPTED_CONVERSATION_ONGOING()){
AUDIO::STOP_SCRIPTED_CONVERSATION(false);
Global_21725=6;
}
return;
}


float func_50(Ped pedParam0, Ped pedParam1) // Position - 0x1D4B{
return func_51(pedParam0, pedParam1, true);
}


float func_51(Ped pedParam0, Ped pedParam1, BOOL bParam2) // Position - 0x1D5C{
Vector3 entityCoords;
Vector3 entityCoords2;
if(!ENTITY::IS_ENTITY_DEAD(pedParam0, false)) entityCoords={
ENTITY::GET_ENTITY_COORDS(pedParam0, true) 
};
else entityCoords={
ENTITY::GET_ENTITY_COORDS(pedParam0, false) 
};
if(!ENTITY::IS_ENTITY_DEAD(pedParam1, false)) entityCoords2={
ENTITY::GET_ENTITY_COORDS(pedParam1, true) 
};
else entityCoords2={
ENTITY::GET_ENTITY_COORDS(pedParam1, false) 
};
return MISC::GET_DISTANCE_BETWEEN_COORDS(entityCoords, entityCoords2, bParam2);
}


float func_52(var uParam0, var uParam1, var uParam2, BOOL bParam3) // Position - 0x1DBA{
return func_53(PLAYER::GET_PLAYER_PED(PLAYER::GET_PLAYER_INDEX()), uParam0, bParam3);
}


float func_53(Vehicle veParam0, Vector3 vParam1, var uParam2, var uParam3, BOOL bParam4) // Position - 0x1DD4{
if(ENTITY::IS_ENTITY_DEAD(veParam0, false)) return -1f;
return MISC::GET_DISTANCE_BETWEEN_COORDS(ENTITY::GET_ENTITY_COORDS(veParam0, true), vParam1, bParam4);
}


void func_54(BOOL bParam0, var uParam1, BOOL bParam2) // Position - 0x1DFE{
if(bParam0){
func_57(uParam1);
if(!PED::IS_PED_INJURED(uParam1->f_3)) PED::SET_PED_CONFIG_FLAG(uParam1->f_3, 317, true);
}else{
func_55(1, 0);
}
func_10(uParam1, bParam2);
return;
}


void func_55(int iParam0, int iParam1) // Position - 0x1E3A{
switch (iParam0){
case 0:
Global_113648.f_19099.f_22[0]=Global_113648.f_19099.f_22[0] + 1;
func_56("Fares Completed ++=", Global_113648.f_19099.f_22[0]);
break;
case 1:
Global_113648.f_19099.f_22[1]=Global_113648.f_19099.f_22[1] + 1;
func_56("Fares Failed ++=", Global_113648.f_19099.f_22[1]);
break;
case 2:
Global_113648.f_19099.f_22[2]=Global_113648.f_19099.f_22[2] + 1;
func_56("Fares Accepted ++ ", Global_113648.f_19099.f_22[2]);
break;
case 3:
Global_113648.f_19099.f_22[3]=Global_113648.f_19099.f_22[3] + 1;
func_56("Fares Expired ++ ", Global_113648.f_19099.f_22[3]);
break;
case 13:
Global_113648.f_19099.f_22[13]=Global_113648.f_19099.f_22[13] + 1;
func_56("Passengers run ++=", Global_113648.f_19099.f_22[13]);
break;
case 14:
Global_113648.f_19099.f_22[14]=Global_113648.f_19099.f_22[14] + 1;
func_56("Passenger Forced to Pay ++=", Global_113648.f_19099.f_22[14]);
break;
case 4:
if(iParam1 !=0){
if(iParam1 > Global_113648.f_19099.f_22[4]){
Global_113648.f_19099.f_22[4]=iParam1;
func_56("This distance ", iParam1);
func_56(" is longer than current best", Global_113648.f_19099.f_22[4]);
}else{
func_56("Longest Distance Not Beat ", Global_113648.f_19099.f_22[4]);
}}
break;
case 5:
Global_113648.f_19099.f_22[5]=Global_113648.f_19099.f_22[5] + iParam1;
func_56("Total Distance w/ Passenger=", Global_113648.f_19099.f_22[5]);
break;
case 6:
if(iParam1==0) Global_113648.f_19099.f_22[6]=Global_113648.f_19099.f_22[6] + 1;
else Global_113648.f_19099.f_22[6]=Global_113648.f_19099.f_22[6] + iParam1;
func_56("Wanted Levels ++=", Global_113648.f_19099.f_22[6]);
break;
case 7:
if(iParam1 > 0) Global_113648.f_19099.f_22[7]=Global_113648.f_19099.f_22[7] + iParam1;
else Global_113648.f_19099.f_22[7]=Global_113648.f_19099.f_22[7] + 1;
func_56("Wanted Levels Lost=", Global_113648.f_19099.f_22[7]);
break;
case 8:
Global_113648.f_19099.f_22[8]=Global_113648.f_19099.f_22[8] + 1;
func_56("Taxis wrecked ++=", Global_113648.f_19099.f_22[8]);
break;
case 9:
Global_113648.f_19099.f_22[9]=Global_113648.f_19099.f_22[9] + 1;
func_56("Horn Honked ++=", Global_113648.f_19099.f_22[9]);
break;
case 10:
Global_113648.f_19099.f_22[10]=Global_113648.f_19099.f_22[10] + iParam1;
func_56("Total Money Earned=", Global_113648.f_19099.f_22[10]);
break;
case 11:
Global_113648.f_19099.f_22[11]=Global_113648.f_19099.f_22[11] + iParam1;
func_56("Total Tips Earned=", Global_113648.f_19099.f_22[11]);
break;
case 12:
if(iParam1 > Global_113648.f_19099.f_22[12]){
Global_113648.f_19099.f_22[12]=iParam1;
func_56("New Highest Tip=", Global_113648.f_19099.f_22[12]);
}else{
func_56("Highest Tip Not Reached=", Global_113648.f_19099.f_22[12]);
}
break;
}
return;
}


void func_56(char* sParam0, int iParam1) // Position - 0x222B{
return;
}


void func_57(var uParam0) // Position - 0x2233{
func_55(0, 0);
if(uParam0->f_411 !=9){
func_462(1);
func_69(15, 1);
}
func_67(&(Global_113648.f_19099), 1024);
if(!func_22(Global_113648.f_19099, 64)) func_58(func_65(func_66(uParam0)), 0, 0);
return;
}


void func_58(int iParam0, int iParam1, int iParam2) // Position - 0x2287{
BOOL flag;
iParam0 < 0;
if(iParam0==321 || iParam0 > 321){}else{
_STAT_SET_PACKED_BOOL(891 + iParam0, 1, -1);
}
flag=true;
if(Global_113648.f_10196[iParam0 /*12*/].f_5==1){
if(Global_113648.f_10196[iParam0 /*12*/].f_6==11 || Global_113648.f_10196[iParam0 /*12*/].f_6==12) flag=false;
}else{
Global_113648.f_10196[iParam0 /*12*/].f_5=1;
Global_113648.f_10196[iParam0 /*12*/].f_10=iParam1;
Global_113648.f_10196[iParam0 /*12*/].f_11=iParam2;
if(iParam0==287) STATS::PRESENCE_EVENT_UPDATESTAT_INT(joaat("NUM_HIDDEN_PACKAGES_0"), 50, 0);
if(iParam0==286) STATS::PRESENCE_EVENT_UPDATESTAT_INT(joaat("NUM_HIDDEN_PACKAGES_1"), 50, 0);
if(iParam0==299) STATS::PRESENCE_EVENT_UPDATESTAT_INT(joaat("NUM_HIDDEN_PACKAGES_3"), 50, 0);
}
if(flag) func_59();
return;
}


void func_59() // Position - 0x236D{
int num;
float num2;
float num3;
float num4;
float num5;
float num6;
float num7;
float num8;
float value;
int value2;
num=0;
Global_113384=0;
Global_113385=0;
Global_113386=0;
Global_113387=0;
Global_113388=0;
Global_113389=0;
Global_113390=0;
num2=0f;
num3=0f;
num4=0f;
num5=0f;
num6=0f;
num7=0f;
num8=0f;
value=Global_113648.f_10196.f_3853;
Global_113648.f_10196.f_3853=0f;
while (num < 321){
if(Global_113648.f_10196[num /*12*/].f_5==1){
switch (Global_113648.f_10196[num /*12*/].f_6){
case 1:
Global_113384=Global_113384 + 1;
num2=num2 + Global_113648.f_10196[num /*12*/].f_4;
break;
case 3:
Global_113385=Global_113385 + 1;
num3=num3 + Global_113648.f_10196[num /*12*/].f_4;
break;
case 5:
Global_113386=Global_113386 + 1;
num4=num4 + Global_113648.f_10196[num /*12*/].f_4;
break;
case 7:
Global_113387=Global_113387 + 1;
num5=num5 + Global_113648.f_10196[num /*12*/].f_4;
break;
case 9:
Global_113388=Global_113388 + 1;
num6=num6 + (Global_113648.f_10196[num /*12*/].f_4 * 4f);
break;
case 11:
Global_113389=Global_113389 + 1;
num7=num7 + Global_113648.f_10196[num /*12*/].f_4;
break;
case 13:
Global_113390=Global_113390 + 1;
num8=num8 + Global_113648.f_10196[num /*12*/].f_4;
break;
default:
break;
}}
num=num + 1;
}
if(Global_113367 > 0)if(Global_113384==Global_113367) num2=55f;
if(Global_113368 > 0)if(Global_113385==Global_113368) num3=10f;
if(Global_113369 > 0)if(Global_113386==Global_113369) num4=0f;
if(Global_113370 > 0)if(Global_113387==Global_113370) num5=10f;
if(Global_113371 > 0){
if(Global_113388==Global_113371 || (Global_113371 * 10) / Global_113388 < 41 || Global_113388 > Global_113374 || Global_113388==Global_113374){
if(!IS_BIT_SET(Global_113648.f_10196.f_3856, 14)){
if(Global_113388==Global_113371){
STATS::PRESENCE_EVENT_UPDATESTAT_INT(joaat("NUM_RNDEVENTS_COMPLETED"), Global_113371, 0);
MISC::SET_BIT(&(Global_113648.f_10196.f_3856), 14);
}}
num6=5f;
}}
if(Global_113372 > 0)if(Global_113389==Global_113372) num7=15f;
if(Global_113373 > 0)if(Global_113390==Global_113373) num8=5f;
Global_113648.f_10196.f_3853=num2 + num3 + num4 + num5 + num6 + num7 + num8;
if(Global_113388 > Global_113374 || Global_113388==Global_113374) value2=Global_113374;
else value2=Global_113388;
STATS::STAT_SET_INT(joaat("NUM_MISSIONS_COMPLETED"), Global_113384, true);
STATS::STAT_SET_INT(joaat("NUM_MISSIONS_AVAILABLE"), Global_113367, true);
STATS::STAT_SET_INT(joaat("NUM_MINIGAMES_COMPLETED"), Global_113385, true);
STATS::STAT_SET_INT(joaat("NUM_MINIGAMES_AVAILABLE"), Global_113368, true);
STATS::STAT_SET_INT(joaat("NUM_ODDJOBS_COMPLETED"), Global_113386, true);
STATS::STAT_SET_INT(joaat("NUM_ODDJOBS_AVAILABLE"), Global_113369, true);
STATS::STAT_SET_INT(joaat("NUM_RNDPEOPLE_COMPLETED"), Global_113387, true);
STATS::STAT_SET_INT(joaat("NUM_RNDPEOPLE_AVAILABLE"), Global_113370, true);
STATS::STAT_SET_INT(joaat("NUM_RNDEVENTS_COMPLETED"), value2, true);
STATS::STAT_SET_INT(joaat("NUM_RNDEVENTS_AVAILABLE"), Global_113374, true);
STATS::STAT_SET_INT(joaat("NUM_MISC_COMPLETED"), Global_113390 + Global_113389, true);
STATS::STAT_SET_INT(joaat("NUM_MISC_AVAILABLE"), Global_113373 + Global_113372, true);
Global_113391=(Global_113384 * 100) / Global_113367;
Global_113393=((Global_113386 + Global_113385) * 100) / (Global_113369 + Global_113368);
Global_113392=((Global_113387 + value2) * 100) / (Global_113370 + Global_113374);
Global_113394=((Global_113389 + Global_113390) * 100) / (Global_113372 + Global_113373);
STATS::STAT_SET_FLOAT(joaat("TOTAL_PROGRESS_MADE"), Global_113648.f_10196.f_3853, true);
STATS::STAT_SET_INT(joaat("PERCENT_STORY_MISSIONS"), Global_113391, true);
STATS::STAT_SET_INT(joaat("PERCENT_AMBIENT_MISSIONS"), Global_113392, true);
STATS::STAT_SET_INT(joaat("PERCENT_ODDJOBS"), Global_113393, true);
if(value > 0f && SYSTEM::FLOOR(value) < SYSTEM::FLOOR(Global_113648.f_10196.f_3853)) func_63(13, SYSTEM::FLOOR(Global_113648.f_10196.f_3853));
if(!DATAFILE::DATAFILE_IS_SAVE_PENDING()){
if(!Global_78558){
if(func_62()==2==false && !NETWORK::NETWORK_IS_GAME_IN_PROGRESS()){
if(NETWORK::NETWORK_IS_CLOUD_AVAILABLE()) Global_113382=0;
if(!Global_63362) func_60();
}}}
return;
}

int func_60() // Position - 0x282B{
if(_IS_MISSION_REPEAT_ACTIVE(false)) return 0;
if(Global_100720.f_8)if(Global_100720.f_10 > 0) return 0;
elseif(Global_100720.f_10 > 1) return 0;
Global_100720.f_10=Global_100720.f_10 + 1;
return 1;
}
BOOL _IS_MISSION_REPEAT_ACTIVE(BOOL bExcludeBenchmark) // Position - 0x2876{
if(!bExcludeBenchmark && SCRIPT::GET_NUMBER_OF_THREADS_RUNNING_THE_SCRIPT_WITH_THIS_HASH(joaat("benchmark")) > 0) return true;
return IS_BIT_SET(Global_78807, 0);
}

int func_62() // Position - 0x289E{
return Global_32163;
}
BOOL func_63(int iParam0, int iParam1) // Position - 0x28A9{
int achievementProgress;
if(iParam0 < 0) return false;
if(iParam0 > 78) return false;
if(iParam1 <=0 || iParam1 > 100) return false;
achievementProgress=PLAYER::GET_ACHIEVEMENT_PROGRESS(iParam0);
if(iParam1 > achievementProgress) return PLAYER::SET_ACHIEVEMENT_PROGRESS(iParam0, iParam1);
return false;
}


void _STAT_SET_PACKED_BOOL(int iParam0, int iParam1, int iParam2) // Position - 0x28FA{
if(iParam2==-1) iParam2=func_27();
unk_0x0111091C0EE35B9C(iParam0, iParam1, iParam2);
return;
}

int func_65(int iParam0) // Position - 0x2918{
int num;
switch (iParam0){
case 0:
num=199;
break;
case 1:
num=200;
break;
case 2:
num=201;
break;
case 3:
num=202;
break;
case 4:
num=203;
break;
case 5:
num=204;
break;
case 6:
num=205;
break;
case 7:
num=206;
break;
case 8:
num=207;
break;
case 9:
break;
default:
num=199;
break;
}
return num;
}

int func_66(var uParam0) // Position - 0x29AE{
return uParam0->f_411;
}


void func_67(int iParam0, int iParam1) // Position - 0x29BB{
func_68(iParam0, iParam1);
return;
}


void func_68(int iParam0, int iParam1) // Position - 0x29CB{
*iParam0=*iParam0 || iParam1;
return;
}

int func_69(int iParam0, int iParam1) // Position - 0x29DC{
if(iParam0 >=78) return 0;
return func_70(iParam0, iParam1);
}

int func_70(int iParam0, int iParam1) // Position - 0x29F7{
if(func_82(14) && !func_81(iParam0)) return 0;
if(PLAYER::HAS_ACHIEVEMENT_BEEN_PASSED(iParam0) && iParam1==1) return 0;
if(Global_32414 !=0 && !Global_78558) return 0;
if(func_80(&Global_4542597)){
if(func_78(&Global_4542597, iParam0)) return 0;
if(func_71(&Global_4542597, iParam0)) return 1;
}else{
if(!PLAYER::GIVE_ACHIEVEMENT_TO_PLAYER(iParam0)) return 0;
if(PLAYER::HAS_ACHIEVEMENT_BEEN_PASSED(iParam0)) return 1;
return 0;
}
return 0;
}
BOOL func_71(var uParam0, int iParam1) // Position - 0x2A94{
int i;
var unk;
unk=78;
if(PLAYER::HAS_ACHIEVEMENT_BEEN_PASSED(iParam1)) return false;
if(func_82(14) && !func_81(iParam1)) return false;
if(func_78(uParam0, iParam1)) return false;
if(func_77(uParam0) < 0f) func_76(uParam0, 0);
func_74(&unk);
i=0;
for (i=0;
i < *uParam0 - 1;
i=i + 1){
unk[i + 1]=uParam0->[i];
}
func_72(&unk, iParam1);
i=0;
for (i=0;
i < *uParam0;
i=i + 1){
uParam0->[i]=unk[i];
}
return true;
}

int func_72(var uParam0, int iParam1) // Position - 0x2B45{
int i;
if(PLAYER::HAS_ACHIEVEMENT_BEEN_PASSED(iParam1)) return 0;
if(func_82(14) && !func_81(iParam1)) return 0;
if(func_78(uParam0, iParam1)) return 0;
if(func_77(uParam0) < 0f) func_76(uParam0, 0);
for (i=0;
i < *uParam0;
i=i + 1){
if(func_73(uParam0, i)){
uParam0->[i]=iParam1;
return 1;
}}
return 0;
}
BOOL func_73(var uParam0, int iParam1) // Position - 0x2BC0{
return uParam0->[iParam1]==78;
}


void func_74(var uParam0) // Position - 0x2BD1{
int i;
for (i=0;
i < *uParam0;
i=i + 1){
func_75(uParam0, i);
}
func_76(uParam0, Global_4542596 - 0.5f);
return;
}


void func_75(var uParam0, int iParam1) // Position - 0x2C05{
uParam0->[iParam1]=78;
return;
}


void func_76(var uParam0, int iParam1) // Position - 0x2C15{
if(iParam1==0f) uParam0->f_80=0f;
else uParam0->f_80=iParam1;
return;
}


float func_77(var uParam0) // Position - 0x2C32{
return uParam0->f_80;
}
BOOL func_78(var uParam0, int iParam1) // Position - 0x2C3E{
return func_79(uParam0, iParam1) !=-1;
}

int func_79(var uParam0, int iParam1) // Position - 0x2C50{
int i;
for (i=0;
i < *uParam0;
i=i + 1){
if(uParam0->[i]==iParam1) return i;
}
return -1;
}
BOOL func_80(var uParam0) // Position - 0x2C7D{
return uParam0->f_79==1;
}
BOOL func_81(int iParam0) // Position - 0x2C8B{
switch (iParam0){
case 60:
case 61:
case 62:
case 63:
case 64:
case 65:
case 66:
case 67:
case 68:
case 69:
return true;
default:
}
return false;
}
BOOL func_82(int iParam0) // Position - 0x2CDB{
return Global_43257==iParam0;
}
BOOL func_83(var uParam0, var uParam1) // Position - 0x2CE9{
switch (iLocal_168){
case 0:
if(!_CONVERSATION_IS_DIALOGUE_IN_PROGRESS() && func_116(uParam0, 0) > 1f){
if(func_33()) PLAYER::SET_PLAYER_CONTROL(PLAYER::PLAYER_ID(), true, 0);
func_115(uParam0);
func_20(&(Global_113648.f_19099), 4096);
func_112(uParam1, "TAXI_FARE_TITLE", uParam0->f_50, uParam0->f_56, uParam0->f_50 + uParam0->f_56 + uParam0->f_105, uParam0->f_105, func_114(uParam0), "TAXI_FARE_MID", 4000, HUD_COLOUR_WHITE);
uParam1->f_1=4000;
AUDIO::PLAY_SOUND_FRONTEND(-1, "CHECKPOINT_UNDER_THE_BRIDGE", "HUD_MINI_GAME_SOUNDSET", false);
func_111(1);
iLocal_168=6;
}
break;
case 6:
if(!func_105(uParam1, 0)){
func_84(uParam0);
func_317(uParam0, 0, 0, false);
func_111(0);
iLocal_168=7;
return true;
}
break;
}
return false;
}


void func_84(var uParam0) // Position - 0x2DBB{
int num;
num=uParam0->f_50 + uParam0->f_56 + uParam0->f_105;
if(num > 0){
func_85(_GET_CURRENT_PLAYER_CHARACTER(), 21, num, false, false);
func_55(10, num);
uLocal_57[0]=num;
}
return;
}


void func_85(eCharacter echParam0, int iParam1, int iParam2, BOOL bParam3, BOOL bParam4) // Position - 0x2DF9{
int outValue;
Hash statHash;
if(func_102(echParam0)==3) return;
if(func_102(echParam0)==4) return;
func_86(func_102(echParam0), 1, iParam1, iParam2, false);
if(bParam3){
outValue=0;
if(bParam4){
switch (echParam0){
case CHAR_MICHAEL:
statHash=joaat("SP0_MONEY_MADE_FROM_RANDOM_PEDS");
break;
case CHAR_FRANKLIN:
statHash=joaat("SP1_MONEY_MADE_FROM_RANDOM_PEDS");
break;
case CHAR_TREVOR:
statHash=joaat("SP2_MONEY_MADE_FROM_RANDOM_PEDS");
break;
default:
return;
}}else{
switch (echParam0){
case CHAR_MICHAEL:
statHash=joaat("SP0_MONEY_MADE_FROM_MISSIONS");
break;
case CHAR_FRANKLIN:
statHash=joaat("SP1_MONEY_MADE_FROM_MISSIONS");
break;
case CHAR_TREVOR:
statHash=joaat("SP2_MONEY_MADE_FROM_MISSIONS");
break;
default:
return;
}}
STATS::STAT_GET_INT(statHash, &outValue, -1);
outValue=outValue + iParam2;
STATS::STAT_SET_INT(statHash, outValue, true);
}
return;
}

int func_86(int iParam0, int iParam1, int iParam2, int iParam3, BOOL bParam4) // Position - 0x2ECB{
float num;
int num2;
int num3;
int num4;
int num5;
int num6;
func_101();
if(iParam3 < 1) return 0;
num=1f;
switch (iParam1){
case 0:
switch (iParam0){
case 0:
func_100(99, 1);
func_99(joaat("SP0_MONEY_TOTAL_SPENT"), iParam3);
break;
case 1:
func_99(joaat("SP1_MONEY_TOTAL_SPENT"), iParam3);
break;
case 2:
func_99(joaat("SP2_MONEY_TOTAL_SPENT"), iParam3);
break;
}
func_98(false);
switch (iParam2){
case 127:
case 129:
case 125:
case 126:
case 128:
if(func_95(5)){
num=0.9f;
num2=5;
}
break;
case 63:
case 64:
case 65:
case 66:
case 67:
case 68:
switch (iParam0){
case 0:
func_99(joaat("SP0_MONEY_SPENT_ON_TATTOOS"), iParam3);
break;
case 1:
func_99(joaat("SP1_MONEY_SPENT_ON_TATTOOS"), iParam3);
break;
case 2:
func_99(joaat("SP2_MONEY_SPENT_ON_TATTOOS"), iParam3);
break;
}
if(func_95(1)){
num=0f;
num2=1;
}
break;
case 21:
switch (iParam0){
case 0:
func_99(joaat("SP0_MONEY_SPENT_ON_TAXIS"), iParam3);
break;
case 1:
func_99(joaat("SP1_MONEY_SPENT_ON_TAXIS"), iParam3);
break;
case 2:
func_99(joaat("SP2_MONEY_SPENT_ON_TAXIS"), iParam3);
break;
}
break;
case 25:
switch (iParam0){
case 0:
func_99(joaat("SP0_MONEY_SPENT_IN_STRIP_CLUBS"), iParam3);
break;
case 1:
func_99(joaat("SP1_MONEY_SPENT_IN_STRIP_CLUBS"), iParam3);
break;
case 2:
func_99(joaat("SP2_MONEY_SPENT_IN_STRIP_CLUBS"), iParam3);
break;
}
break;
case 99:
case 100:
case 101:
case 102:
case 104:
case 105:
case 106:
case 107:
case 108:
case 109:
case 110:
case 111:
case 112:
case 113:
switch (iParam0){
case 0:
func_99(joaat("SP0_MONEY_SPENT_PROPERTY"), iParam3);
break;
case 1:
func_99(joaat("SP1_MONEY_SPENT_PROPERTY"), iParam3);
break;
case 2:
func_99(joaat("SP2_MONEY_SPENT_PROPERTY"), iParam3);
break;
}
break;
default:
switch (SCRIPT::GET_HASH_OF_THIS_SCRIPT_NAME()){
case joaat("clothes_shop_sp"):
switch (iParam0){
case 0:
func_99(joaat("SP0_MONEY_SPENT_IN_CLOTHES"), iParam3);
break;
case 1:
func_99(joaat("SP1_MONEY_SPENT_IN_CLOTHES"), iParam3);
break;
case 2:
func_99(joaat("SP2_MONEY_SPENT_IN_CLOTHES"), iParam3);
break;
}
break;
case joaat("hairdo_shop_sp"):
switch (iParam0){
case 0:
func_99(joaat("SP0_MONEY_SPENT_ON_HAIRDOS"), iParam3);
break;
case 1:
func_99(joaat("SP1_MONEY_SPENT_ON_HAIRDOS"), iParam3);
break;
case 2:
func_99(joaat("SP2_MONEY_SPENT_ON_HAIRDOS"), iParam3);
break;
}
if(func_95(0)){
num=0f;
num2=0;
}
break;
case joaat("gunclub_shop"):
switch (iParam0){
case 0:
func_99(joaat("SP0_MONEY_SPENT_IN_BUYING_GUNS"), iParam3);
break;
case 1:
func_99(joaat("SP1_MONEY_SPENT_IN_BUYING_GUNS"), iParam3);
break;
case 2:
func_99(joaat("SP2_MONEY_SPENT_IN_BUYING_GUNS"), iParam3);
break;
}
break;
case joaat("carmod_shop"):
switch (iParam0){
case 0:
func_99(joaat("SP0_MONEY_SPENT_CAR_MODS"), iParam3);
break;
case 1:
func_99(joaat("SP1_MONEY_SPENT_CAR_MODS"), iParam3);
break;
case 2:
func_99(joaat("SP2_MONEY_SPENT_CAR_MODS"), iParam3);
break;
}
func_94(iParam3);
break;
}
break;
}
break;
case 1:
switch (iParam0){
case 0:
func_100(95, iParam3);
break;
case 1:
func_100(97, iParam3);
break;
case 2:
func_100(96, iParam3);
break;
}
func_100(98, iParam3);
break;
}
num3=iParam0;
iParam3=SYSTEM::FLOOR(num * SYSTEM::TO_FLOAT(iParam3));
num4=0;
num5=iParam3;
if(num==0f){
func_89(num2);
return 1;
}elseif(num !=1f){
func_89(num2);
}
num6=Global_60536[num3] + iParam3;
switch (iParam1){
case 1:
if(Global_60536[num3] >=0 && iParam3 > 0)if(num6 <=0) Global_60536[num3]=2147483647;
else Global_60536[num3]=Global_60536[num3] + iParam3;
switch (iParam0){
case 0:
func_99(joaat("SP0_TOTAL_CASH_EARNED"), iParam3);
break;
case 1:
func_99(joaat("SP1_TOTAL_CASH_EARNED"), iParam3);
break;
case 2:
func_99(joaat("SP2_TOTAL_CASH_EARNED"), iParam3);
break;
}
break;
case 0:
if(!bParam4)if(Global_60536[num3] - iParam3 < 0) return 0;
num4=Global_60536[num3];
Global_60536[num3]=Global_60536[num3] - iParam3;
if(bParam4) num5=num4;
break;
}
if(iParam2==1){
num5 > 20;
}else{
Global_113648.f_20566.f_233[num3 /*69*/].f_2[Global_113648.f_20566.f_233[num3 /*69*/].f_1 /*6*/]=iParam1;
Global_113648.f_20566.f_233[num3 /*69*/].f_2[Global_113648.f_20566.f_233[num3 /*69*/].f_1 /*6*/].f_1=iParam2;
Global_113648.f_20566.f_233[num3 /*69*/].f_2[Global_113648.f_20566.f_233[num3 /*69*/].f_1 /*6*/].f_2=iParam3;
Global_113648.f_20566.f_233[num3 /*69*/]=Global_113648.f_20566.f_233[num3 /*69*/] + 1;
Global_113648.f_20566.f_233[num3 /*69*/].f_1=Global_113648.f_20566.f_233[num3 /*69*/].f_1 + 1;
if(Global_113648.f_20566.f_233[num3 /*69*/].f_1 > 10) Global_113648.f_20566.f_233[num3 /*69*/].f_1=0;
}
func_88(iParam0);
if(Global_43257==15) func_87(false);
return 1;
}


void func_87(BOOL bParam0) // Position - 0x34CA{
int i;
int j;
i=0;
j=0;
for (i=0;
i < 3;
i=i + 1){
for (j=0;
j < 11;
j=j + 1){
Global_113648.f_20566.f_233[i /*69*/].f_2[j /*6*/].f_3=Global_113648.f_20566.f_233[i /*69*/].f_2[j /*6*/];
Global_113648.f_20566.f_233[i /*69*/].f_2[j /*6*/].f_4=Global_113648.f_20566.f_233[i /*69*/].f_2[j /*6*/].f_1;
Global_113648.f_20566.f_233[i /*69*/].f_2[j /*6*/].f_5=Global_113648.f_20566.f_233[i /*69*/].f_2[j /*6*/].f_2;
}}
for (i=0;
i < 10;
i=i + 1){
Global_60544[i /*3*/][0]=Global_113648.f_20566[i];
Global_60544.f_31[i /*3*/][0]=Global_113648.f_20566.f_11[i];
Global_60544.f_62[i /*3*/][0]=Global_113648.f_20566.f_22[i];
Global_60544.f_93[i /*3*/][0]=Global_113648.f_20566.f_33[i];
Global_60544.f_124[i /*3*/][0]=Global_113648.f_20566.f_44[i];
Global_60544.f_155[i /*3*/][0]=Global_113648.f_20566.f_55[i];
Global_60544.f_186[i /*3*/][0]=Global_113648.f_20566.f_66[i];
Global_60544.f_217[i /*3*/][0]=Global_113648.f_20566.f_77[i];
Global_60544.f_248[i /*3*/][0]=Global_113648.f_20566.f_88[i];
if(!bParam0){
Global_60544[i /*3*/][1]=Global_113648.f_20566[i];
Global_60544.f_31[i /*3*/][1]=Global_113648.f_20566.f_11[i];
Global_60544.f_62[i /*3*/][1]=Global_113648.f_20566.f_22[i];
Global_60544.f_93[i /*3*/][1]=Global_113648.f_20566.f_33[i];
Global_60544.f_124[i /*3*/][1]=Global_113648.f_20566.f_44[i];
Global_60544.f_155[i /*3*/][1]=Global_113648.f_20566.f_55[i];
Global_60544.f_186[i /*3*/][1]=Global_113648.f_20566.f_66[i];
Global_60544.f_217[i /*3*/][1]=Global_113648.f_20566.f_77[i];
Global_60544.f_248[i /*3*/][1]=Global_113648.f_20566.f_88[i];
}}
return;
}


void func_88(int iParam0) // Position - 0x374C{
int value;
value=Global_60536[iParam0];
switch (iParam0){
case 0:
STATS::STAT_SET_INT(joaat("SP0_TOTAL_CASH"), value, true);
break;
case 1:
STATS::STAT_SET_INT(joaat("SP1_TOTAL_CASH"), value, true);
break;
case 2:
STATS::STAT_SET_INT(joaat("SP2_TOTAL_CASH"), value, true);
break;
}
return;
}


void func_89(int iParam0) // Position - 0x37A6{
BOOL flag;
var txdName;
if(iParam0==8){
_STAT_SET_PACKED_BOOL(129, 0, -1);
return;
}
if(iParam0==9){
_STAT_SET_PACKED_BOOL(135, 0, -1);
return;
}
if(iParam0==10){
_STAT_SET_PACKED_BOOL(136, 0, -1);
return;
}
if(iParam0==11){
_STAT_SET_PACKED_BOOL(137, 0, -1);
return;
}
if(iParam0==12){
_MPCHAR_STAT_SET_INT(MP_STAT_DISCOUNT_PLANE_SITE, 0, -1, true, false);
return;
}
if(iParam0==13){
_MPCHAR_STAT_SET_INT(MP_STAT_DISCOUNT_BOAT_SITE, 0, -1, true, false);
return;
}
if(iParam0==14){
_MPCHAR_STAT_SET_INT(MP_STAT_DISCOUNT_CAR_SITE, 0, -1, true, false);
return;
}
if(iParam0==15){
_MPCHAR_STAT_SET_INT(MP_STAT_DISCOUNT_CAR_SITE2, 0, -1, true, false);
return;
}
if(iParam0==16){
_MPCHAR_STAT_SET_INT(MP_STAT_DISCOUNT_MIL_SITE, 0, -1, true, false);
return;
}
if(iParam0==17){
_MPCHAR_STAT_SET_INT(MP_STAT_DISCOUNT_BIKE_SITE, 0, -1, true, false);
return;
}
flag=false;
if(!NETWORK::NETWORK_IS_GAME_IN_PROGRESS()){
if(IS_BIT_SET(Global_113648.f_20566.f_471, iParam0)){
flag=true;
MISC::CLEAR_BIT(&(Global_113648.f_20566.f_471), iParam0);
}}elseif(IS_BIT_SET(Global_113648.f_20566.f_471, iParam0) || IS_BIT_SET(Global_2359296[func_91() /*5568*/].f_681.f_10, iParam0)){
flag=true;
MISC::CLEAR_BIT(&(Global_113648.f_20566.f_471), iParam0);
MISC::CLEAR_BIT(&(Global_2359296[func_91() /*5568*/].f_681.f_10), iParam0);
}
if(flag){
TEXT_LABEL_ASSIGN_STRING(&txdName, "CHAR_LIFEINVADER", 64);
HUD::BEGIN_TEXT_COMMAND_THEFEED_POST("COUP_RED" /*You have redeemed your promotion for ~a~*/);
HUD::ADD_TEXT_COMPONENT_SUBSTRING_TEXT_LABEL(AUDIO_SPEECH_GET_PARAM_STRING_FROM_ENUM(iParam0));
HUD::END_TEXT_COMMAND_THEFEED_POST_MESSAGETEXT(&txdName, &txdName, true, 0, "", 0);
}
return;
}
char* AUDIO_SPEECH_GET_PARAM_STRING_FROM_ENUM(int iParam0) // Position - 0x3926{
switch (iParam0){
case 0:
return "COUP_HAIRC" /*one free haircut.*/;
case 1:
return "COUP_TATTOO" /*one free tattoo.*/;
case 2:
return "COUP_WARSTOCK" /*10% off your next purchase at Warstock-Cache-and-Carry.com.*/;
case 3:
return "COUP_MOSPORT" /*10 percent off your next purchase at LegendaryMotorsport.net.*/;
case 4:
return "COUP_ELITAS" /*10 percent off your next purchase at ElitasTravel.com.*/;
case 5:
return "COUP_MEDSPENS" /*10 percent off your next medical expenses.*/;
case 6:
return "COUP_SPRUNK" /*one free can of Sprunk.*/;
case 7:
return "COUP_RESPRAY" /*one free respray.*/;
case 8:
return "COUP_XMAS2017";
case 9:
return "COUP_CAR_XMAS2018";
case 10:
return "COUP_HELI_XMAS2018";
case 11:
return "COUP_CAR2_XMAS2018";
case 12:
return "COUP_CAS_ELITAS" /*10 percent off your next purchase at ElitasTravel.com.*/;
case 13:
return "COUP_CAS_DOCKTEASE" /*10 percent off your next purchase at DockTease.com.*/;
case 14:
return "COUP_CAS_MOSPORT" /*10 percent off your next purchase at LegendaryMotorsport.net.*/;
case 15:
return "COUP_CAS_SSASA" /*10 percent off your next purchase at southernsanandreassuperautos.com.*/;
case 16:
return "COUP_CAS_WARSTOCK" /*10 percent off your next purchase at Warstock-Cache-and-Carry.com.*/;
case 17:
return "COUP_CAS_PANDM" /*10 percent off your next purchase at pandmcycles.com.*/;
default:
break;
}
return "";
}

int func_91() // Position - 0x3A29{
int num;
num=0;
return num;
}


void _MPCHAR_STAT_SET_INT(eMPStat empsParam0, int iParam1, int iParam2, BOOL bParam3, BOOL bParam4) // Position - 0x3A36{
Hash statName;
bParam4;
statName=Global_2805027[empsParam0 /*3*/][func_93(iParam2)];
if(statName !=0) STATS::STAT_SET_INT(statName, iParam1, bParam3);
return;
}

int func_93(int iParam0) // Position - 0x3A66{
int num;
int num2;
num=iParam0;
if(num==-1){
num2=func_27();
if(num2 > -1){
Global_2804739=0;
num=num2;
}else{
num=0;
Global_2804739=1;
}}
return num;
}


void func_94(int iParam0) // Position - 0x3A9A{
func_100(93, iParam0);
func_100(29, iParam0);
func_100(30, iParam0);
return;
}
BOOL func_95(int iParam0) // Position - 0x3ABA{
int cloudTimeAsInt;
int num;
int cloudTimeAsInt2;
int num2;
int cloudTimeAsInt3;
int num3;
int cloudTimeAsInt4;
int num4;
int cloudTimeAsInt5;
int num5;
int cloudTimeAsInt6;
int num6;
if(iParam0==8) return func_97(129, -1);
if(iParam0==9) return func_97(135, -1);
if(iParam0==10) return func_97(136, -1);
if(iParam0==11) return func_97(137, -1);
if(iParam0==12){
cloudTimeAsInt=NETWORK::GET_CLOUD_TIME_AS_INT();
num=_MPCHAR_STAT_GET_INT(MP_STAT_DISCOUNT_PLANE_SITE, -1, 0);
if(num==0 || cloudTimeAsInt >=num) return false;
return true;
}
if(iParam0==13){
cloudTimeAsInt2=NETWORK::GET_CLOUD_TIME_AS_INT();
num2=_MPCHAR_STAT_GET_INT(MP_STAT_DISCOUNT_BOAT_SITE, -1, 0);
if(num2==0 || cloudTimeAsInt2 >=num2) return false;
return true;
}
if(iParam0==14){
cloudTimeAsInt3=NETWORK::GET_CLOUD_TIME_AS_INT();
num3=_MPCHAR_STAT_GET_INT(MP_STAT_DISCOUNT_CAR_SITE, -1, 0);
if(num3==0 || cloudTimeAsInt3 >=num3) return false;
return true;
}
if(iParam0==15){
cloudTimeAsInt4=NETWORK::GET_CLOUD_TIME_AS_INT();
num4=_MPCHAR_STAT_GET_INT(MP_STAT_DISCOUNT_CAR_SITE2, -1, 0);
if(num4==0 || cloudTimeAsInt4 >=num4) return false;
return true;
}
if(iParam0==16){
cloudTimeAsInt5=NETWORK::GET_CLOUD_TIME_AS_INT();
num5=_MPCHAR_STAT_GET_INT(MP_STAT_DISCOUNT_MIL_SITE, -1, 0);
if(num5==0 || cloudTimeAsInt5 >=num5) return false;
return true;
}
if(iParam0==17){
cloudTimeAsInt6=NETWORK::GET_CLOUD_TIME_AS_INT();
num6=_MPCHAR_STAT_GET_INT(MP_STAT_DISCOUNT_BIKE_SITE, -1, 0);
if(num6==0 || cloudTimeAsInt6 >=num6) return false;
return true;
}
if(!NETWORK::NETWORK_IS_GAME_IN_PROGRESS()) return IS_BIT_SET(Global_113648.f_20566.f_471, iParam0);
return IS_BIT_SET(Global_2359296[func_91() /*5568*/].f_681.f_10, iParam0);
}
int _MPCHAR_STAT_GET_INT(eMPStat empsParam0, int iParam1, int iParam2) // Position - 0x3C60{
Hash statHash;
int outValue;
if(empsParam0 !=14192){
iParam2==0;
statHash=Global_2805027[empsParam0 /*3*/][func_93(iParam1)];
if(STATS::STAT_GET_INT(statHash, &outValue, -1)) return outValue;
}
return 0;
}
BOOL func_97(int iParam0, int iParam1) // Position - 0x3C9D{
if(iParam1==-1) iParam1=func_27();
return unk_0xD03506C6E58E4E95(iParam0, iParam1);
}

int func_98(BOOL bParam0) // Position - 0x3CB9{
var outValue;
int value;
int outValue2;
value=0;
if(PLAYER::HAS_ACHIEVEMENT_BEEN_PASSED(27)) return 0;
if(STATS::STAT_GET_INT(joaat("SP0_MONEY_TOTAL_SPENT"), &outValue, -1)) value=value + outValue;
if(STATS::STAT_GET_INT(joaat("SP1_MONEY_TOTAL_SPENT"), &outValue, -1)) value=value + outValue;
if(STATS::STAT_GET_INT(joaat("SP2_MONEY_TOTAL_SPENT"), &outValue, -1)) value=value + outValue;
bParam0;
outValue2=0;
STATS::STAT_GET_INT(joaat("NUM_CASH_SPENT"), &outValue2, -1);
if(value > 0 && outValue2 / 2000000 !=value / 2000000){
STATS::STAT_SET_INT(joaat("NUM_CASH_SPENT"), value, true);
func_63(27, value);
}
if(value < 200000000) return 0;
func_69(27, 1);
return 1;
}


void func_99(Hash hParam0, int iParam1) // Position - 0x3D70{
int outValue;
STATS::STAT_GET_INT(hParam0, &outValue, -1);
outValue=outValue + iParam1;
STATS::STAT_SET_INT(hParam0, outValue, true);
return;
}


void func_100(int iParam0, int iParam1) // Position - 0x3D93{
int outValue;
if(iParam1 < 1) return;
if(Global_59104[iParam0 /*7*/].f_2) return;
if(NETWORK::NETWORK_IS_GAME_IN_PROGRESS()) return;
if(Global_59104[iParam0 /*7*/]){
STATS::STAT_GET_INT(Global_59104[iParam0 /*7*/].f_1, &outValue, -1);
outValue=outValue + iParam1;
STATS::STAT_SET_INT(Global_59104[iParam0 /*7*/].f_1, outValue, true);
}
return;
}


void func_101() // Position - 0x3DF0{
int outValue;
if(NETWORK::NETWORK_HAS_VALID_ROS_CREDENTIALS()){
STATS::STAT_GET_INT(joaat("SP0_TOTAL_CASH"), &outValue, -1);
if(!Global_60536[0]==outValue) Global_60536[0]=outValue;
STATS::STAT_GET_INT(joaat("SP1_TOTAL_CASH"), &outValue, -1);
if(!Global_60536[1]==outValue) Global_60536[1]=outValue;
STATS::STAT_GET_INT(joaat("SP2_TOTAL_CASH"), &outValue, -1);
if(!Global_60536[2]==outValue) Global_60536[2]=outValue;
}
return;
}

int func_102(eCharacter echParam0) // Position - 0x3E65{
return Global_2028[echParam0 /*29*/].f_17;
}
eCharacter _GET_CURRENT_PLAYER_CHARACTER() // Position - 0x3E76{
func_104();
return Global_113648.f_2365.f_539.f_4321;
}


void func_104() // Position - 0x3E8F{
eCharacter character;
if(ENTITY::DOES_ENTITY_EXIST(PLAYER::PLAYER_PED_ID())){
if(_GET_CHARACTER_MODEL(Global_113648.f_2365.f_539.f_4321) !=ENTITY::GET_ENTITY_MODEL(PLAYER::PLAYER_PED_ID())){
character=_GET_PLAYER_CHARACTER_FROM_PED(PLAYER::PLAYER_PED_ID());
if(func_6(character) && !func_82(14) || Global_112599){
if(Global_113648.f_2365.f_539.f_4321 !=character && func_6(Global_113648.f_2365.f_539.f_4321)) Global_113648.f_2365.f_539.f_4322=Global_113648.f_2365.f_539.f_4321;
Global_113648.f_2365.f_539.f_4323=character;
Global_113648.f_2365.f_539.f_4321=character;
return;
}}else{
if(Global_113648.f_2365.f_539.f_4321 !=_CHAR_NULL) Global_113648.f_2365.f_539.f_4323=Global_113648.f_2365.f_539.f_4321;
return;
}}
Global_113648.f_2365.f_539.f_4321=145;
return;
}
BOOL func_105(var uParam0, int iParam1) // Position - 0x3F8C{
if(!func_14(&(uParam0->f_2))) func_109(&(uParam0->f_2));
HUD::HIDE_HUD_COMPONENT_THIS_FRAME(HUD_RETICLE);
GRAPHICS::DRAW_SCALEFORM_MOVIE_FULLSCREEN(*uParam0, 255, 255, 255, 255, 0);
if(iParam1 || uParam0->f_8){
if(PAD::IS_CONTROL_JUST_PRESSED(FRONTEND_CONTROL, INPUT_FRONTEND_ACCEPT) || uParam0->f_8){
if(!func_14(&(uParam0->f_5))){
func_109(&(uParam0->f_5));
func_108(uParam0, 1051260355);
}}
if(func_14(&(uParam0->f_5))){
if(func_107(&(uParam0->f_5)) > 0.33f){
func_106(&(uParam0->f_5));
return false;
}}}
if(uParam0->f_1==-1) return true;
if(func_107(&(uParam0->f_2)) * 1000f > SYSTEM::TO_FLOAT(uParam0->f_1)){
if(!func_14(&(uParam0->f_5))){
func_109(&(uParam0->f_5));
func_108(uParam0, 1051260355);
}elseif(func_107(&(uParam0->f_5)) > 0.33f){
func_106(&(uParam0->f_2));
return false;
}}
return true;
}


void func_106(var uParam0) // Position - 0x4090{
uParam0->f_1=0f;
uParam0->f_2=0f;
*uParam0=0;
return;
}


float func_107(int* piParam0) // Position - 0x40A6{
if(func_14(piParam0))if(func_13(piParam0)) return piParam0->f_2;
else return func_12(IS_BIT_SET(*piParam0, 4)) - piParam0->f_1;
return piParam0->f_1;
}


void func_108(var uParam0, int iParam1) // Position - 0x40E2{
NETWORK::NETWORK_LEAVE_PED_BEHIND_BEFORE_CUTSCENE(*uParam0, "SHARD_ANIM_OUT");
GRAPHICS::SCALEFORM_MOVIE_METHOD_ADD_PARAM_INT(uParam0->f_9);
GRAPHICS::SCALEFORM_MOVIE_METHOD_ADD_PARAM_FLOAT(iParam1);
GRAPHICS::END_SCALEFORM_MOVIE_METHOD();
return;
}


void func_109(int* piParam0) // Position - 0x4108{
func_110(piParam0, 0f);
return;
}


void func_110(int* piParam0, float fParam1) // Position - 0x4117{
piParam0->f_1=func_12(IS_BIT_SET(*piParam0, 4)) - fParam1;
MISC::SET_BIT(piParam0, 1);
MISC::CLEAR_BIT(piParam0, 2);
piParam0->f_2=0f;
return;
}


void func_111(int iParam0) // Position - 0x4142{
Global_78819=iParam0;
Global_78820=iParam0;
return;
}


void func_112(var uParam0, char* sParam1, int iParam2, int iParam3, int iParam4, int iParam5, char* sParam6, char* sParam7, int iParam8, eHudColour ehcParam9) // Position - 0x4156{
NETWORK::NETWORK_LEAVE_PED_BEHIND_BEFORE_CUTSCENE(*uParam0, func_113());
GRAPHICS::BEGIN_TEXT_COMMAND_SCALEFORM_STRING("STRING");
HUD::SET_COLOUR_OF_NEXT_TEXT_COMPONENT(ehcParam9);
HUD::ADD_TEXT_COMPONENT_SUBSTRING_TEXT_LABEL(sParam1);
GRAPHICS::END_TEXT_COMMAND_SCALEFORM_STRING();
GRAPHICS::BEGIN_TEXT_COMMAND_SCALEFORM_STRING(sParam7);
HUD::ADD_TEXT_COMPONENT_INTEGER(iParam2);
HUD::ADD_TEXT_COMPONENT_INTEGER(iParam3);
HUD::ADD_TEXT_COMPONENT_SUBSTRING_TEXT_LABEL(sParam6);
HUD::ADD_TEXT_COMPONENT_INTEGER(iParam5);
HUD::ADD_TEXT_COMPONENT_INTEGER(iParam4);
GRAPHICS::END_TEXT_COMMAND_SCALEFORM_STRING();
GRAPHICS::END_SCALEFORM_MOVIE_METHOD();
func_109(&(uParam0->f_2));
uParam0->f_1=iParam8;
uParam0->f_9=1;
return;
}


char* func_113() // Position - 0x41C1{
if(NETWORK::NETWORK_IS_GAME_IN_PROGRESS()) return "SHOW_COND_SHARD_MESSAGE";
return "SHOW_SHARD_MIDSIZED_MESSAGE";
}


char* func_114(var uParam0) // Position - 0x41DB{
char* str;
switch (uParam0->f_411){
case 0:
str="TAXI_SC_BN_02";
break;
case 1:
str="TAXI_SC_BN_01";
break;
case 2:
str="TAXI_SC_BN_03";
break;
case 3:
str="TAXI_SC_BN_12";
break;
case 4:
str="TAXI_SC_BN_08";
break;
case 5:
str="TAXI_SC_BN_07";
break;
case 6:
str="TAXI_SC_KO";
break;
case 7:
str="TAXI_SC_BN_10";
break;
case 8:
str="TAXI_SC_BN_04";
break;
}
return str;
}


void func_115(var uParam0) // Position - 0x4276{
int i;
uLocal_169.f_1=SYSTEM::TO_FLOAT(uParam0->f_50);
uLocal_169.f_2=SYSTEM::TO_FLOAT(uParam0->f_56);
func_55(11, uParam0->f_56);
func_55(12, uParam0->f_56);
uLocal_57[1]=uParam0->f_56;
uLocal_57[2]=uParam0->f_56;
i=0;
for (i=0;
i < uParam0->f_60;
i=i + 1){
uLocal_169.f_4[i /*3*/]={
uParam0->f_60[i /*3*/] 
};
if(IS_BIT_SET(uLocal_169.f_4[i /*3*/], 2)) uLocal_169.f_3=uLocal_169.f_3 + (float)uParam0->f_60[i /*3*/].f_1;
}
uLocal_169=uParam0->f_411;
uLocal_169.f_20=uLocal_169.f_1 + uLocal_169.f_2 + uLocal_169.f_3;
return;
}


float func_116(var uParam0, int iParam1) // Position - 0x4322{
if(!func_14(&uParam0->f_146[iParam1 /*3*/])) func_117(&uParam0->f_146[iParam1 /*3*/]);
return func_107(&uParam0->f_146[iParam1 /*3*/]);
}


void func_117(int* piParam0) // Position - 0x4352{
if(!func_14(piParam0)) func_109(piParam0);
return;
}


void func_118(var uParam0) // Position - 0x436A{
if(uParam0->f_56 >=uParam0->f_59) uParam0->f_56=SYSTEM::CEIL((float)uParam0->f_50 * 0.4f);
elseif(uParam0->f_56 < uParam0->f_59 && uParam0->f_56 >=uParam0->f_58) uParam0->f_56=SYSTEM::CEIL((float)uParam0->f_50 * 0.15f);
else uParam0->f_56=0;
if(!func_22(uParam0->f_55, 1)) func_67(&(uParam0->f_55), 1);
return;
}


void func_119(var uParam0) // Position - 0x43DE{
func_121();
HUD::CLEAR_PRINTS();
if(uParam0->f_56 < uParam0->f_58){
if(uParam0->f_411==0) func_254(uParam0, 105, 1, false, false);
else func_254(uParam0, 103, 1, false, false);
func_120(1);
}elseif(uParam0->f_56 >=uParam0->f_59){
func_254(uParam0, 101, 1, false, false);
}else{
func_254(uParam0, 102, 1, false, false);
}
func_317(uParam0, 16, 4f, false);
return;
}


void func_120(int iParam0) // Position - 0x4451{
Global_112358.f_221=iParam0;
return;
}


void func_121() // Position - 0x4461{
Global_20591=0;
func_122();
return;
}


void func_122() // Position - 0x4471{
if(AUDIO::IS_SCRIPTED_CONVERSATION_ONGOING()){
AUDIO::RESTART_SCRIPTED_CONVERSATION();
Global_22736=0;
AUDIO::STOP_SCRIPTED_CONVERSATION(true);
Global_21725=6;
return;
}
return;
}


void func_123(var uParam0) // Position - 0x4495{
float value;
value=uParam0->f_41;
value=func_124(value);
uLocal_57[4]=SYSTEM::CEIL(value);
uLocal_57[5]=SYSTEM::CEIL(value);
func_55(4, SYSTEM::CEIL(value));
func_55(5, SYSTEM::CEIL(value));
uParam0->f_50=SYSTEM::CEIL(value * 100f);
return;
}


float func_124(float fParam0) // Position - 0x44E7{
return fParam0 * 0.0006213712f;
}


void func_125(var uParam0, int iParam1) // Position - 0x44F7{
if(iParam1 < 5){
MISC::SET_BIT(&uParam0->f_60[iParam1 /*3*/], 2);
uParam0->f_105=uParam0->f_105 + uParam0->f_60[iParam1 /*3*/].f_1;
}
return;
}
BOOL func_126(var uParam0, BOOL bParam1, int iParam2) // Position - 0x4525{
if(VEHICLE::IS_VEHICLE_DRIVEABLE(uParam0->f_4, false)){
if(PED::IS_PED_IN_VEHICLE(uParam0->f_2, uParam0->f_4, false)){
if(func_43(1)) func_41(0);
if(func_33()){
func_129();
return true;
}elseif(func_127(uParam0->f_4, iParam2, 1, 1056964608, false, true, false)){
if(bParam1) PLAYER::SET_PLAYER_CONTROL(PLAYER::GET_PLAYER_INDEX(), false, SPC_LEAVE_CAMERA_CONTROL_ON);
else PLAYER::SET_PLAYER_CONTROL(PLAYER::GET_PLAYER_INDEX(), false, 0);
}
VEHICLE::SET_VEHICLE_BRAKE_LIGHTS(uParam0->f_4, true);
}}
return false;
}
BOOL func_127(Vehicle veParam0, int iParam1, int iParam2, int iParam3, BOOL bParam4, BOOL bParam5, BOOL bParam6) // Position - 0x45A6{
PAD::DISABLE_CONTROL_ACTION(PLAYER_CONTROL, INPUT_VEH_ACCELERATE, true);
PAD::DISABLE_CONTROL_ACTION(PLAYER_CONTROL, INPUT_VEH_BRAKE, true);
PAD::DISABLE_CONTROL_ACTION(PLAYER_CONTROL, INPUT_VEH_HANDBRAKE, true);
PAD::DISABLE_CONTROL_ACTION(PLAYER_CONTROL, INPUT_VEH_DUCK, true);
PAD::DISABLE_CONTROL_ACTION(PLAYER_CONTROL, INPUT_VEH_MOVE_LR, true);
PAD::DISABLE_CONTROL_ACTION(PLAYER_CONTROL, INPUT_VEH_MOVE_UD, true);
if(bParam5) PAD::DISABLE_CONTROL_ACTION(PLAYER_CONTROL, INPUT_VEH_EXIT, true);
PAD::DISABLE_CONTROL_ACTION(PLAYER_CONTROL, INPUT_VEH_CIN_CAM, true);
if(!bParam6){
PAD::DISABLE_CONTROL_ACTION(PLAYER_CONTROL, INPUT_VEH_ATTACK, true);
PAD::DISABLE_CONTROL_ACTION(PLAYER_CONTROL, INPUT_VEH_ATTACKRIGHT, true);
PAD::DISABLE_CONTROL_ACTION(PLAYER_CONTROL, INPUT_VEH_AIM, true);
}
PAD::DISABLE_CONTROL_ACTION(PLAYER_CONTROL, INPUT_VEH_HEADLIGHT, true);
PAD::DISABLE_CONTROL_ACTION(PLAYER_CONTROL, INPUT_VEH_HORN, true);
PAD::DISABLE_CONTROL_ACTION(PLAYER_CONTROL, INPUT_VEH_NEXT_RADIO, true);
PAD::DISABLE_CONTROL_ACTION(PLAYER_CONTROL, INPUT_VEH_PREV_RADIO, true);
PAD::DISABLE_CONTROL_ACTION(PLAYER_CONTROL, INPUT_VEH_PUSHBIKE_FRONT_BRAKE, true);
PAD::DISABLE_CONTROL_ACTION(PLAYER_CONTROL, INPUT_VEH_PUSHBIKE_PEDAL, true);
PAD::DISABLE_CONTROL_ACTION(PLAYER_CONTROL, INPUT_VEH_FLY_ATTACK, true);
PAD::DISABLE_CONTROL_ACTION(PLAYER_CONTROL, INPUT_VEH_FLY_ROLL_LR, true);
PAD::DISABLE_CONTROL_ACTION(PLAYER_CONTROL, INPUT_VEH_FLY_PITCH_UD, true);
PAD::DISABLE_CONTROL_ACTION(PLAYER_CONTROL, INPUT_VEH_FLY_YAW_LEFT, true);
PAD::DISABLE_CONTROL_ACTION(PLAYER_CONTROL, INPUT_VEH_FLY_YAW_LEFT, true);
PAD::DISABLE_CONTROL_ACTION(PLAYER_CONTROL, INPUT_VEH_FLY_THROTTLE_UP, true);
PAD::DISABLE_CONTROL_ACTION(PLAYER_CONTROL, INPUT_VEH_FLY_THROTTLE_DOWN, true);
PAD::DISABLE_CONTROL_ACTION(PLAYER_CONTROL, INPUT_VEH_FLY_UNDERCARRIAGE, true);
PAD::DISABLE_CONTROL_ACTION(PLAYER_CONTROL, INPUT_VEH_FLY_SELECT_NEXT_WEAPON, true);
PAD::DISABLE_CONTROL_ACTION(PLAYER_CONTROL, INPUT_VEH_FLY_SELECT_PREV_WEAPON, true);
PAD::DISABLE_CONTROL_ACTION(PLAYER_CONTROL, INPUT_VEH_FLY_SELECT_TARGET_LEFT, true);
PAD::DISABLE_CONTROL_ACTION(PLAYER_CONTROL, INPUT_VEH_FLY_SELECT_TARGET_RIGHT, true);
PAD::DISABLE_CONTROL_ACTION(PLAYER_CONTROL, INPUT_VEH_FLY_VERTICAL_FLIGHT_MODE, true);
PAD::DISABLE_CONTROL_ACTION(PLAYER_CONTROL, INPUT_VEH_FLY_BOOST, true);
PAD::DISABLE_CONTROL_ACTION(PLAYER_CONTROL, INPUT_VEH_SUB_ASCEND, true);
PAD::DISABLE_CONTROL_ACTION(PLAYER_CONTROL, INPUT_VEH_SUB_DESCEND, true);
PAD::DISABLE_CONTROL_ACTION(PLAYER_CONTROL, INPUT_VEH_SUB_TURN_LR, true);
PAD::DISABLE_CONTROL_ACTION(PLAYER_CONTROL, INPUT_VEH_SUB_PITCH_UD, true);
PAD::DISABLE_CONTROL_ACTION(PLAYER_CONTROL, INPUT_VEH_SUB_THROTTLE_UP, true);
PAD::DISABLE_CONTROL_ACTION(PLAYER_CONTROL, INPUT_VEH_SUB_THROTTLE_DOWN, true);
PAD::DISABLE_CONTROL_ACTION(PLAYER_CONTROL, INPUT_VEH_SUB_TURN_HARD_LEFT, true);
PAD::DISABLE_CONTROL_ACTION(PLAYER_CONTROL, INPUT_VEH_SUB_TURN_HARD_RIGHT, true);
CAM::DISABLE_CINEMATIC_SLOW_MO_THIS_UPDATE();
func_128(veParam0);
if(MISC::GET_GAME_TIMER() - Global_29 > 500) VEHICLE::BRING_VEHICLE_TO_HALT(veParam0, iParam1, iParam2, bParam4);
Global_29=MISC::GET_GAME_TIMER();
if(!ENTITY::IS_ENTITY_DEAD(veParam0, false))if(MISC::ABSF(ENTITY::GET_ENTITY_SPEED(veParam0)) <=iParam3) return true;
return false;
}


void func_128(Vehicle veParam0) // Position - 0x473E{
if(!ENTITY::IS_ENTITY_DEAD(veParam0, false))if(VEHICLE::GET_HAS_ROCKET_BOOST(veParam0))if(VEHICLE::IS_ROCKET_BOOST_ACTIVE(veParam0)) VEHICLE::SET_ROCKET_BOOST_ACTIVE(veParam0, false);
return;
}


void func_129() // Position - 0x476A{
if(PLAYER::IS_SPECIAL_ABILITY_ACTIVE(PLAYER::PLAYER_ID(), 0)) PLAYER::SPECIAL_ABILITY_DEACTIVATE(PLAYER::PLAYER_ID(), 0);
return;
}
Blip func_130(var uParam0, var uParam1, var uParam2, BOOL bParam3) // Position - 0x4787{
Blip vehicleWheelType;
vehicleWheelType=VEHICLE::GET_VEHICLE_WHEEL_TYPE(uParam0);
HUD::SET_BLIP_SCALE(vehicleWheelType, NETWORK::NETWORK_IS_GAME_IN_PROGRESS() ? 1f :
1f);
HUD::SET_BLIP_ROUTE(vehicleWheelType, bParam3);
return vehicleWheelType;
}


var func__131(BOOL bParam0, var uParam1, var uParam2) // Position - 0x47B3{
if(bParam0) return uParam1;
return uParam2;
}


void func_132(var uParam0, Ped pedParam1, BOOL bParam2, BOOL bParam3) // Position - 0x47CA{
if(ENTITY::DOES_ENTITY_EXIST(pedParam1)){
if(bParam2)if(!ENTITY::IS_ENTITY_DEAD(pedParam1, false))if(PED::IS_PED_BEING_JACKED(pedParam1))if(PED::IS_PED_JACKING(PLAYER::PLAYER_PED_ID()))if(caLocal_423.f_109==0) func_361(&caLocal_423, "Driver jacked the fiance", 7);
if(PED::IS_PED_INJURED(pedParam1)){
if(bParam3){
if(!ENTITY::IS_ENTITY_DEAD(pedLocal_890, false)){
TASK::CLEAR_PED_TASKS(pedLocal_890);
TASK::TASK_SMART_FLEE_PED(pedLocal_890, PLAYER::PLAYER_PED_ID(), 100f, 20000, false, false);
PED::SET_PED_KEEP_TASK(pedLocal_890, true);
}
func_361(uParam0, "Target injured.", 13);
}else{
if(!ENTITY::IS_ENTITY_DEAD(hLocal_853.f_2, false)){
TASK::CLEAR_PED_TASKS(hLocal_853.f_2);
TASK::TASK_SMART_FLEE_PED(hLocal_853.f_2, PLAYER::PLAYER_PED_ID(), 100f, 20000, false, false);
PED::SET_PED_KEEP_TASK(hLocal_853.f_2, true);
}
func_361(uParam0, "Mistress injured.", 14);
}}elseif(PLAYER::HAS_PLAYER_DAMAGED_AT_LEAST_ONE_PED(PLAYER::PLAYER_ID())){
if(WEAPON::HAS_PED_BEEN_DAMAGED_BY_WEAPON(pedParam1, joaat("WEAPON_STUNGUN"), 0) || WEAPON::HAS_PED_BEEN_DAMAGED_BY_WEAPON(pedParam1, 0, 2) || WEAPON::HAS_PED_BEEN_DAMAGED_BY_WEAPON(pedParam1, 0, 1)){
if(!ENTITY::IS_ENTITY_DEAD(pedLocal_890, false)){
TASK::CLEAR_PED_TASKS(pedLocal_890);
TASK::TASK_SMART_FLEE_PED(pedLocal_890, PLAYER::PLAYER_PED_ID(), 100f, 20000, false, false);
PED::SET_PED_KEEP_TASK(pedLocal_890, true);
}
if(!ENTITY::IS_ENTITY_DEAD(hLocal_853.f_2, false)){
TASK::CLEAR_PED_TASKS(hLocal_853.f_2);
TASK::TASK_SMART_FLEE_PED(hLocal_853.f_2, PLAYER::PLAYER_PED_ID(), 100f, 20000, false, false);
PED::SET_PED_KEEP_TASK(hLocal_853.f_2, true);
}
func_361(uParam0, "Passenger injured by player with weapon.", 14);
}
if(!bParam3) PLAYER::CLEAR_PLAYER_HAS_DAMAGED_AT_LEAST_ONE_PED(PLAYER::PLAYER_ID());
}}
return;
}


void func_133(var uParam0, float* pfParam1) // Position - 0x4960{
STATS::STAT_GET_FLOAT(uParam0->f_428, pfParam1, -1);
uParam0->f_41=*pfParam1 - uParam0->f_42;
return;
}
BOOL func_134() // Position - 0x4981{
var entityCoords;
func_154();
if(iLocal_1143 < 3 && iLocal_1143 > 0)if(func_150(iLocal_897)) iLocal_1143=3;
if(ENTITY::DOES_ENTITY_EXIST(pedLocal_890))if(!PED::IS_PED_INJURED(pedLocal_890)) entityCoords={
ENTITY::GET_ENTITY_COORDS(pedLocal_890, true) 
};
switch (iLocal_1143){
case 0:
if(func_149(true, true, true) && !caLocal_423.f_142){
iLocal_897=MISC::GET_GAME_TIMER();
func_147(&uLocal_1082);
func_146(&uLocal_1052, -1, true);
func_251(uLocal_958, false, 15f);
func_251(uLocal_961, false, 15f);
func_145(&caLocal_423, 0f, 0f, 0f, 0f, 0f, 0f, 1112014848);
func_144();
func_317(&caLocal_423, 19, 0, false);
iLocal_1143=1;
}else{
func_143("TX_FC CAN_PLAYER_START_CUTSCENE returns false", &(caLocal_423.f_78), 1000);
}
break;
case 1:
if(func_116(&caLocal_423, 19) > 0.5f){
func_142(0, false, true);
MISC::CLEAR_AREA_OF_VEHICLES(uLocal_958, 30f, false, false, false, false, false, false, 0);
MISC::CLEAR_AREA_OF_VEHICLES(uLocal_961, 30f, false, false, false, false, false, false, 0);
MISC::CLEAR_AREA_OF_PEDS(uLocal_958, 30f, 0);
MISC::CLEAR_AREA_OF_PEDS(uLocal_961, 30f, 0);
func_140(uLocal_958, 1114636288, true);
func_140(uLocal_961, 1114636288, true);
VEHICLE::SET_ALL_VEHICLE_GENERATORS_ACTIVE_IN_AREA(uLocal_946, uLocal_949, false, true);
func_254(&caLocal_423, 35, 1, true, false);
CAM::SET_CAM_COORD(caLocal_423, func_139(0));
CAM::SET_CAM_ROT(caLocal_423, func_138(0), 2);
CAM::SET_CAM_FOV(caLocal_423, 44.5167f);
CAM::SHAKE_CAM(caLocal_423, "HAND_SHAKE", 0.1f);
CAM::SET_CAM_ACTIVE(caLocal_423, true);
CAM::RENDER_SCRIPT_CAMS(true, false, 3000, true, false, 0);
if(VEHICLE::IS_VEHICLE_DRIVEABLE(hLocal_853.f_3, false)){
ENTITY::SET_ENTITY_COORDS(hLocal_853.f_3, uLocal_955, true, false, false, true);
ENTITY::SET_ENTITY_HEADING(hLocal_853.f_3, fLocal_971);
if(TASK::WAYPOINT_RECORDING_GET_CLOSEST_WAYPOINT(&uLocal_976, uLocal_955, &iLocal_899)){
}
if(TASK::WAYPOINT_RECORDING_GET_COORD(&uLocal_976, iLocal_899, &uLocal_952)){
}
if(!ENTITY::IS_ENTITY_DEAD(hLocal_853.f_2, false)) TASK::TASK_VEHICLE_FOLLOW_WAYPOINT_RECORDING(hLocal_853.f_2, hLocal_853.f_3, &uLocal_976, iLocal_1124, iLocal_899 + 4, 0, -1, -1082130432, false, 1073741824);
}
func_317(&caLocal_423, 19, 0, false);
iLocal_1143=2;
}
break;
case 2:
if(func_116(&caLocal_423, 19) > 5f){
func_317(&caLocal_423, 19, 0, false);
iLocal_1143=4;
}elseif(func_116(&caLocal_423, 19) > 4.7f){
if(func_137()){
if(!bLocal_915){
GRAPHICS::ANIMPOSTFX_PLAY("CamPushInNeutral", 0, false);
AUDIO::PLAY_SOUND_FRONTEND(-1, "1st_Person_Transition", "PLAYER_SWITCH_CUSTOM_SOUNDSET", true);
bLocal_915=true;
}}}
break;
case 3:
if(VEHICLE::IS_VEHICLE_DRIVEABLE(hLocal_853.f_3, false)){
ENTITY::SET_ENTITY_COORDS(hLocal_853.f_3, uLocal_922, true, false, false, true);
ENTITY::SET_ENTITY_HEADING(hLocal_853.f_3, fLocal_974);
VEHICLE::STOP_PLAYBACK_RECORDED_VEHICLE(hLocal_853.f_3);
}
func_317(&caLocal_423, 19, 0, false);
iLocal_1143=4;
break;
case 4:
if(VEHICLE::IS_VEHICLE_DRIVEABLE(caLocal_423.f_4, false)){
caLocal_423.f_141=0;
CAM::DO_SCREEN_FADE_IN(800);
CAM::SET_GAMEPLAY_CAM_RELATIVE_HEADING(0);
CAM::SET_GAMEPLAY_CAM_RELATIVE_PITCH(0, 1065353216);
if(VEHICLE::IS_VEHICLE_DRIVEABLE(hLocal_853.f_3, false)){
ENTITY::SET_ENTITY_COORDS(hLocal_853.f_3, uLocal_922, true, false, false, true);
ENTITY::SET_ENTITY_HEADING(hLocal_853.f_3, fLocal_974);
VEHICLE::STOP_PLAYBACK_RECORDED_VEHICLE(hLocal_853.f_3);
if(!ENTITY::IS_ENTITY_DEAD(hLocal_853.f_2, false)){
TASK::CLEAR_PED_TASKS_IMMEDIATELY(hLocal_853.f_2);
ENTITY::SET_ENTITY_COORDS(hLocal_853.f_2, -691.1571f, -1117.732f, 13.52498f, true, false, false, true);
ENTITY::SET_ENTITY_HEADING(hLocal_853.f_2, -49.274364f);
}}
CAM::DESTROY_CAM(caLocal_423, false);
CAM::DESTROY_CAM(caLocal_422, false);
func_135(true, true, true);
CAM::RENDER_SCRIPT_CAMS(false, false, 3000, true, false, 0);
while (!CAM::IS_SCREEN_FADED_IN()){
SYSTEM::WAIT(0);
}
func_208(&caLocal_423, 19, false);
iLocal_1143=5;
return true;
}
break;
}
return false;
}


void func_135(BOOL bParam0, BOOL bParam1, BOOL bParam2) // Position - 0x4D88{
if(bParam0) PLAYER::SET_PLAYER_CONTROL(PLAYER::GET_PLAYER_INDEX(), true, 0);
CUTSCENE::SET_PAD_CAN_SHAKE_DURING_CUTSCENE(true);
func_23(false, true, bParam2, false, false, false, false);
if(bParam1){
HUD::DISPLAY_RADAR(true);
HUD::DISPLAY_HUD(true);
}
func_136(23, false);
return;
}


void func_136(int iParam0, BOOL bParam1) // Position - 0x4DC6{
if(bParam1) MISC::SET_BIT(&Global_32412, iParam0);
else MISC::CLEAR_BIT(&Global_32412, iParam0);
return;
}
BOOL func_137() // Position - 0x4DE8{
if(CAM::GET_CAM_VIEW_MODE_FOR_CONTEXT(CAM::GET_CAM_ACTIVE_VIEW_MODE_CONTEXT())==FIRST_PERSON) return true;
return false;
}


Vector3 func__138(int iParam0) // Position - 0x4E01{
var unk;
switch (iParam0){
case 0:
unk={
1.9027f, 0f, 170.5764f 
};
break;
}
return unk;
}


Vector3 func__139(int iParam0) // Position - 0x4E2C{
var unk;
switch (iParam0){
case 0:
unk={
-686.0368f, -1073.2203f, 16.1762f 
};
break;
}
return unk;
}


void func_140(Vector3 vParam0, var uParam1, var uParam2, int iParam3, BOOL bParam4) // Position - 0x4E5B{
float outHeading;
var outPosition;
Vector3 vector;
Vector3 vector2;
PATHFIND::GET_CLOSEST_VEHICLE_NODE_WITH_HEADING(vParam0, &outPosition, &outHeading, 1, 1077936128, 0);
vector={
func_38(outPosition, func_141(outHeading), iParam3, iParam3, 5f) 
};
vector2={
func_38(outPosition, outHeading, iParam3, iParam3, -5f) 
};
vector2.f_2=vector2.f_2 - 22f;
vector.f_2=vector.f_2 + 22f;
if(bParam4) PATHFIND::SET_ROADS_IN_AREA(vector2, vector, false, true);
else PATHFIND::SET_ROADS_BACK_TO_ORIGINAL(vector2, vector, 1);
return;
}


float func_141(float fParam0) // Position - 0x4EE4{
if(fParam0 > 180f) return fParam0 - 180f;
return fParam0 + 180f;
}


void func_142(eSetPlayerControlFlags espcfParam0, BOOL bParam1, BOOL bParam2) // Position - 0x4F0D{
PLAYER::SET_PLAYER_CONTROL(PLAYER::GET_PLAYER_INDEX(), false, espcfParam0);
if(!PED::IS_PED_INJURED(PLAYER::PLAYER_PED_ID())) FIRE::STOP_FIRE_IN_RANGE(ENTITY::GET_ENTITY_COORDS(PLAYER::PLAYER_PED_ID(), true), 15f);
CUTSCENE::SET_PAD_CAN_SHAKE_DURING_CUTSCENE(bParam1);
func_41(0);
func_23(true, true, bParam2, false, false, false, false);
HUD::DISPLAY_RADAR(false);
HUD::DISPLAY_HUD(false);
func_136(23, true);
return;
}


void func_143(char* sParam0, var uParam1, int iParam2) // Position - 0x4F66{
if(MISC::GET_GAME_TIMER() < *uParam1 + iParam2) return;
*uParam1=MISC::GET_GAME_TIMER();
return;
}


void func_144() // Position - 0x4F85{
int taskSequenceId;
pedLocal_890=PED::CREATE_PED(PED_TYPE_MISSION, hLocal_887, uLocal_940, fLocal_970, true, true);
PED::SET_PED_MAX_HEALTH(pedLocal_890, 5);
PED::SET_PED_COMPONENT_VARIATION(pedLocal_890, PV_COMP_UPPR, 1, 2, 0);
PED::SET_PED_COMPONENT_VARIATION(pedLocal_890, PV_COMP_LOWR, 0, 1, 0);
PED::SET_PED_COMPONENT_VARIATION(pedLocal_890, PV_COMP_HAIR, 1, 2, 0);
PED::SET_PED_CONFIG_FLAG(pedLocal_890, 20, true);
_CONVERSATION_INITIALIZE_ACTOR(&(caLocal_423.f_244), 5, pedLocal_890, "TaxiCarrie", 0, 1);
if(!ENTITY::IS_ENTITY_DEAD(pedLocal_890, false)){
ENTITY::SET_ENTITY_HEADING(pedLocal_890, fLocal_970);
TASK::CLEAR_SEQUENCE_TASK(&taskSequenceId);
TASK::OPEN_SEQUENCE_TASK(&taskSequenceId);
TASK::TASK_STAND_STILL(0, 2500);
TASK::TASK_PLAY_ANIM(0, "oddjobs@towingcome_here", "come_here_idle_a", 8f, -1.5f, 2000, 0, 0, false, false, false);
TASK::TASK_GO_TO_COORD_ANY_MEANS(0, uLocal_943, 1f, 0, false, 786603, -1082130432);
TASK::CLOSE_SEQUENCE_TASK(taskSequenceId);
TASK::TASK_PERFORM_SEQUENCE(pedLocal_890, taskSequenceId);
TASK::CLEAR_SEQUENCE_TASK(&taskSequenceId);
}
return;
}


void func_145(var uParam0, float fParam1, float fParam2, float fParam3, float fParam4, float fParam5, float fParam6, int iParam7) // Position - 0x505D{
if(!CAM::DOES_CAM_EXIST(*uParam0)) *uParam0=CAM::CREATE_CAMERA_WITH_PARAMS(joaat("DEFAULT_SCRIPTED_CAMERA"), fParam1, fParam4, iParam7, false, 2);
return;
}


void func_146(var uParam0, int iParam1, BOOL bParam2) // Position - 0x5088{
if(bParam2) *uParam0=0;
else *uParam0=-1;
if(iParam1 > -1) uParam0->f_27=iParam1;
return;
}


void func_147(var uParam0) // Position - 0x50AC{
int i;
for (i=0;
i < 5;
i=i + 1){
uParam0->[i /*8*/].f_6=0;
uParam0->[i /*8*/].f_7=0;
TEXT_LABEL_ASSIGN_STRING(&uParam0->[i /*8*/], func_148(), 24);
}
HUD::CLEAR_PRINTS();
func_48();
return;
}


char* func_148() // Position - 0x50EC{
char* unk;
return unk;
}
BOOL func_149(BOOL bParam0, BOOL bParam1, BOOL bParam2) // Position - 0x50F6{
Vehicle vehiclePedIsIn;
if(MISC::IS_MINIGAME_IN_PROGRESS()) return 0;
if(bParam0)if(ENTITY::IS_ENTITY_DEAD(PLAYER::PLAYER_PED_ID(), false)) return 0;
vehiclePedIsIn=0;
if(PED::IS_PED_IN_ANY_VEHICLE(PLAYER::PLAYER_PED_ID(), false)){
if(!PED::IS_PED_SITTING_IN_ANY_VEHICLE(PLAYER::PLAYER_PED_ID())) return 0;
vehiclePedIsIn=PED::GET_VEHICLE_PED_IS_IN(PLAYER::PLAYER_PED_ID(), false);
if(bParam0)if(ENTITY::IS_ENTITY_DEAD(vehiclePedIsIn, false)) return 0;
if(bParam2)if(!ENTITY::IS_ENTITY_DEAD(vehiclePedIsIn, false))if(VEHICLE::GET_PED_IN_VEHICLE_SEAT(vehiclePedIsIn, -1, false) !=PLAYER::PLAYER_PED_ID()) return 0;
if(!ENTITY::IS_ENTITY_DEAD(vehiclePedIsIn, false))if(ENTITY::GET_ENTITY_UPRIGHT_VALUE(vehiclePedIsIn) < 0.95f || ENTITY::GET_ENTITY_UPRIGHT_VALUE(vehiclePedIsIn) > 1.011f) return 0;
}elseif(bParam1){
return 0;
}
if(!PLAYER::IS_PLAYER_READY_FOR_CUTSCENE(PLAYER::PLAYER_ID())) return 0;
if(!PLAYER::CAN_PLAYER_START_MISSION(PLAYER::PLAYER_ID())) return 0;
return 1;
}
BOOL func_150(int iParam0) // Position - 0x51DB{
if(func_153() && MISC::GET_GAME_TIMER() >=iParam0 + 1000){
CAM::DO_SCREEN_FADE_OUT(500);
while (!CAM::IS_SCREEN_FADED_OUT()){
SYSTEM::WAIT(0);
}
func_41(0);
func_151();
return true;
}
return false;
}


void func_151() // Position - 0x521E{
Global_20591=0;
func_152();
return;
}


void func_152() // Position - 0x522E{
AUDIO::RESTART_SCRIPTED_CONVERSATION();
Global_22736=0;
if(AUDIO::IS_MOBILE_PHONE_CALL_ONGOING() || Global_20383.f_1==9 || Global_20382==1){
AUDIO::STOP_SCRIPTED_CONVERSATION(false);
Global_21725=6;
Global_20383.f_1=3;
return;
}
if(AUDIO::IS_SCRIPTED_CONVERSATION_ONGOING()){
AUDIO::STOP_SCRIPTED_CONVERSATION(true);
Global_21725=6;
return;
}
return;
}
BOOL func_153() // Position - 0x5285{
if(HUD::IS_PAUSE_MENU_ACTIVE()) return false;
if(PAD::IS_CONTROL_JUST_PRESSED(PLAYER_CONTROL, INPUT_SKIP_CUTSCENE) || PAD::IS_CONTROL_JUST_PRESSED(FRONTEND_CONTROL, INPUT_SKIP_CUTSCENE)) return true;
return false;
}


void func_154() // Position - 0x52B7{
if(func_35()) MISC::TERMINATE_ALL_SCRIPTS_WITH_THIS_NAME("appInternet");
if(func_34()) MISC::TERMINATE_ALL_SCRIPTS_WITH_THIS_NAME("appCamera");
if(func_43(1)) func_41(0);
return;
}
BOOL func_155() // Position - 0x52EA{
if(!STREAMING::HAS_MODEL_LOADED(hLocal_887)) return false;
if(!STREAMING::HAS_ANIM_DICT_LOADED("MOVE_DUCK_FOR_COVER")){
func_143("TAXI_ASSETS_STREAMED - Loading MOVE_DUCK_FOR_COVER", &iLocal_896, 1000);
return false;
}
return true;
}


void func_156() // Position - 0x5320{
STREAMING::REQUEST_MODEL(hLocal_887);
STREAMING::REQUEST_ANIM_DICT("MOVE_DUCK_FOR_COVER");
STREAMING::REQUEST_ANIM_DICT(&uLocal_980);
STREAMING::REQUEST_ANIM_DICT(&uLocal_996);
STREAMING::REQUEST_ANIM_DICT(&uLocal_1012);
STREAMING::REQUEST_ANIM_DICT(&uLocal_1028);
return;
}


void func_157(var uParam0, const char* sParam1, BOOL bParam2) // Position - 0x5353{
const char* str;
if(NETWORK::NETWORK_IS_GAME_IN_PROGRESS())if(IS_BIT_SET(Global_2793044.f_4690, 26)) return;
if(CAM::IS_GAMEPLAY_HINT_ACTIVE()){
CAM::STOP_GAMEPLAY_HINT(bParam2);
GRAPHICS::ANIMPOSTFX_STOP("FocusIn");
AUDIO::STOP_AUDIO_SCENE("HINT_CAM_SCENE");
if(uParam0->f_11){
GRAPHICS::ANIMPOSTFX_PLAY("FocusOut", 0, false);
AUDIO::PLAY_SOUND_FRONTEND(-1, "FocusOut", "HintCamSounds", true);
uParam0->f_11=0;
}}
CAM::SET_CINEMATIC_BUTTON_ACTIVE(true);
uParam0->f_1=0;
*uParam0=0;
uParam0->f_2=-1;
uParam0->f_8=0;
uParam0->f_5=0;
uParam0->f_6=0;
str=sParam1;
if(MISC::IS_STRING_NULL(str))if(!NETWORK::NETWORK_IS_GAME_IN_PROGRESS()) str="CMN_HINT" /*~s~Press ~INPUT_VEH_CIN_CAM~ to toggle focus on the target.*/;
else str="FM_IHELP_HNT" /*~s~Press ~INPUT_VEH_CIN_CAM~ to toggle focus.*/;
if(!MISC::IS_STRING_NULL(uParam0->f_3))if(_IS_THIS_HELP_MESSAGE_BEING_DISPLAYED(uParam0->f_3)) HUD::SET_SCRIPT_VARIABLE_HUD_COLOUR(1);
if(!MISC::IS_STRING_NULL(str))if(_IS_THIS_HELP_MESSAGE_BEING_DISPLAYED(str)) HUD::SET_SCRIPT_VARIABLE_HUD_COLOUR(1);
return;
}
BOOL _IS_THIS_HELP_MESSAGE_BEING_DISPLAYED(const char* message) // Position - 0x542D{
HUD::BEGIN_TEXT_COMMAND_IS_THIS_HELP_MESSAGE_BEING_DISPLAYED(message);
return HUD::END_TEXT_COMMAND_IS_THIS_HELP_MESSAGE_BEING_DISPLAYED(0);
}
BOOL func_159() // Position - 0x5440{
if(func_116(&caLocal_423, 20) > 2f)if(!caLocal_423.f_142) func_188(&caLocal_423, &hLocal_853, MISC::GET_GAME_TIMER() - iLocal_975 > 15000, false);
if(VEHICLE::IS_VEHICLE_DRIVEABLE(hLocal_853.f_3, false)){
if(VEHICLE::IS_VEHICLE_DRIVEABLE(caLocal_423.f_4, false)){
if(ENTITY::IS_ENTITY_IN_ANGLED_AREA(caLocal_423.f_4, uLocal_1044, uLocal_1047, fLocal_1050, false, true, 0)){
VEHICLE::BRING_VEHICLE_TO_HALT(caLocal_423.f_4, 5f, 1, false);
return true;
}}
func_160(&uLocal_45, hLocal_853.f_3, 0, 0, true, true, true);
func_133(&caLocal_423, &(caLocal_423.f_43));
if(!bLocal_903){
if(!ENTITY::IS_ENTITY_DEAD(hLocal_853.f_2, false)){
if(!VEHICLE::IS_PLAYBACK_GOING_ON_FOR_VEHICLE(hLocal_853.f_3) && (float)MISC::GET_GAME_TIMER() - iLocal_975 > VEHICLE::GET_TOTAL_DURATION_OF_VEHICLE_RECORDING(120, "txm_fc_h1_")){
TASK::TASK_VEHICLE_DRIVE_TO_COORD(hLocal_853.f_2, hLocal_853.f_3, uLocal_955, 28f, 0, hLocal_853.f_1, iLocal_1123, 13.75f, -1f);
bLocal_903=true;
}}}}
return false;
}


void func_160(var uParam0, Ped pedParam1, int iParam2, int iParam3, BOOL bParam4, BOOL bParam5, BOOL bParam6) // Position - 0x553F{
func_161(uParam0, pedParam1, iParam2, iParam3, bParam4, bParam5, bParam6);
return;
}


void func_161(var uParam0, Ped pedParam1, int iParam2, int iParam3, BOOL bParam4, BOOL bParam5, BOOL bParam6) // Position - 0x5559{
uParam0->f_6=0;
func_162(uParam0, pedParam1, 0f, 0f, 0f, iParam2, iParam3, bParam4, bParam5, bParam6);
return;
}


void func_162(var uParam0, Ped pedParam1, float fParam2, float fParam3, float fParam4, const char* sParam5, int iParam6, BOOL bParam7, BOOL bParam8, BOOL bParam9) // Position - 0x557B{
const char* string2;
BOOL flag;
if(uParam0->f_1 && CAM::IS_GAMEPLAY_HINT_ACTIVE())if(MISC::GET_GAME_TIMER() >=uParam0->f_8 + uParam0->f_9) uParam0->f_1=0;
string2=sParam5;
if(MISC::IS_STRING_NULL(string2))if(!NETWORK::NETWORK_IS_GAME_IN_PROGRESS()) string2="CMN_HINT" /*~s~Press ~INPUT_VEH_CIN_CAM~ to toggle focus on the target.*/;
else string2="FM_IHELP_HNT" /*~s~Press ~INPUT_VEH_CIN_CAM~ to toggle focus.*/;
if(_IS_THIS_HELP_MESSAGE_BEING_DISPLAYED(string2)) func_187();
if(func_186(pedParam1) && ENTITY::IS_ENTITY_VISIBLE(pedParam1)){
flag=false;
if(ENTITY::IS_ENTITY_A_PED(pedParam1)){
PED::REQUEST_PED_VISIBILITY_TRACKING(ENTITY::GET_PED_INDEX_FROM_ENTITY_INDEX(pedParam1));
PED::REQUEST_PED_VEHICLE_VISIBILITY_TRACKING(ENTITY::GET_PED_INDEX_FROM_ENTITY_INDEX(pedParam1), true);
if(PED::IS_TRACKED_PED_VISIBLE(ENTITY::GET_PED_INDEX_FROM_ENTITY_INDEX(pedParam1))) flag=true;
}elseif(ENTITY::IS_ENTITY_A_VEHICLE(pedParam1)){
VEHICLE::TRACK_VEHICLE_VISIBILITY(ENTITY::GET_VEHICLE_INDEX_FROM_ENTITY_INDEX(pedParam1));
if(VEHICLE::IS_VEHICLE_VISIBLE(ENTITY::GET_VEHICLE_INDEX_FROM_ENTITY_INDEX(pedParam1))) flag=true;
}elseif(ENTITY::IS_ENTITY_AN_OBJECT(pedParam1)){
OBJECT::TRACK_OBJECT_VISIBILITY(ENTITY::GET_OBJECT_INDEX_FROM_ENTITY_INDEX(pedParam1));
if(OBJECT::IS_OBJECT_VISIBLE(ENTITY::GET_OBJECT_INDEX_FROM_ENTITY_INDEX(pedParam1))) flag=true;
}
if(!CAM::IS_GAMEPLAY_HINT_ACTIVE()){
if(func_181(uParam0, bParam7, bParam9, false)) func_178(uParam0, pedParam1, fParam2, iParam6);
if(*uParam0){
*uParam0=0;
}elseif(uParam0->f_6==2){
if(func_167(string2)){
if(MISC::IS_STRING_NULL(uParam0->f_3) && !MISC::IS_STRING_NULL(string2) && PED::IS_PED_IN_ANY_VEHICLE(PLAYER::PLAYER_PED_ID(), false)){
if(flag && !HUD::IS_HELP_MESSAGE_BEING_DISPLAYED() && bParam8){
if(!_IS_THIS_HELP_MESSAGE_BEING_DISPLAYED(string2)){
_DISPLAY_HELP_TEXT(string2, -1);
uParam0->f_3=string2;
if(MISC::ARE_STRINGS_EQUAL("CMN_HINT" /*~s~Press ~INPUT_VEH_CIN_CAM~ to toggle focus on the target.*/, string2)) func_165(true);
}
}}}}elseif(func_167(string2)){
if(MISC::IS_STRING_NULL(uParam0->f_3) && !MISC::IS_STRING_NULL(string2)){
if(ENTITY::IS_ENTITY_ON_SCREEN(pedParam1) && flag && !HUD::IS_HELP_MESSAGE_BEING_DISPLAYED() && bParam8){
if(!_IS_THIS_HELP_MESSAGE_BEING_DISPLAYED(string2)){
_DISPLAY_HELP_TEXT(string2, -1);
uParam0->f_3=string2;
if(MISC::ARE_STRINGS_EQUAL("CMN_HINT" /*~s~Press ~INPUT_VEH_CIN_CAM~ to toggle focus on the target.*/, string2)) func_165(true);
}}}}}else{
if(!MISC::IS_STRING_NULL(sParam5))if(_IS_THIS_HELP_MESSAGE_BEING_DISPLAYED(sParam5)) HUD::SET_SCRIPT_VARIABLE_HUD_COLOUR(1);
if(PED::IS_PED_IN_ANY_VEHICLE(PLAYER::PLAYER_PED_ID(), true))if(PED::IS_PED_IN_ANY_BOAT(PLAYER::PLAYER_PED_ID()))if(CAM::GET_CAM_VIEW_MODE_FOR_CONTEXT(IN_BOAT)==CINEMATIC || CAM::GET_CAM_VIEW_MODE_FOR_CONTEXT(IN_BOAT)==FIRST_PERSON) func_157(uParam0, string2, true);
elseif(PED::IS_PED_IN_ANY_HELI(PLAYER::PLAYER_PED_ID()))if(CAM::GET_CAM_VIEW_MODE_FOR_CONTEXT(IN_HELI)==CINEMATIC || CAM::GET_CAM_VIEW_MODE_FOR_CONTEXT(IN_HELI)==FIRST_PERSON) func_157(uParam0, string2, true);
elseif(PED::IS_PED_IN_ANY_PLANE(PLAYER::PLAYER_PED_ID()))if(CAM::GET_CAM_VIEW_MODE_FOR_CONTEXT(IN_AIRCRAFT)==CINEMATIC || CAM::GET_CAM_VIEW_MODE_FOR_CONTEXT(IN_AIRCRAFT)==FIRST_PERSON) func_157(uParam0, string2, true);
elseif(PED::IS_PED_IN_ANY_SUB(PLAYER::PLAYER_PED_ID()))if(CAM::GET_CAM_VIEW_MODE_FOR_CONTEXT(IN_SUBMARINE)==CINEMATIC || CAM::GET_CAM_VIEW_MODE_FOR_CONTEXT(IN_SUBMARINE)==FIRST_PERSON) func_157(uParam0, string2, true);
elseif(PED::IS_PED_ON_ANY_BIKE(PLAYER::PLAYER_PED_ID()))if(CAM::GET_CAM_VIEW_MODE_FOR_CONTEXT(ON_BIKE)==CINEMATIC || CAM::GET_CAM_VIEW_MODE_FOR_CONTEXT(ON_BIKE)==FIRST_PERSON) func_157(uParam0, string2, true);
elseif(CAM::GET_FOLLOW_VEHICLE_CAM_VIEW_MODE()==CINEMATIC || CAM::GET_FOLLOW_VEHICLE_CAM_VIEW_MODE()==FIRST_PERSON) func_157(uParam0, string2, true);
if(!func_181(uParam0, bParam7, bParam9, false))if(!*uParam0 && !uParam0->f_1 && !func_164(uParam0)) func_163(uParam0);
}}else{
func_157(uParam0, string2, false);
}
return;
}


void func_163(var uParam0) // Position - 0x58E8{
if(func_186(PLAYER::PLAYER_PED_ID())) TASK::TASK_CLEAR_LOOK_AT(PLAYER::PLAYER_PED_ID());
if(CAM::IS_GAMEPLAY_HINT_ACTIVE()){
CAM::SET_CINEMATIC_BUTTON_ACTIVE(true);
CAM::STOP_GAMEPLAY_HINT(false);
AUDIO::STOP_AUDIO_SCENE("HINT_CAM_SCENE");
GRAPHICS::ANIMPOSTFX_STOP("FocusIn");
if(uParam0->f_11){
GRAPHICS::ANIMPOSTFX_PLAY("FocusOut", 0, false);
AUDIO::PLAY_SOUND_FRONTEND(-1, "FocusOut", "HintCamSounds", true);
uParam0->f_11=0;
}}
uParam0->f_2=-1;
*uParam0=1;
return;
}
BOOL func_164(var uParam0) // Position - 0x5951{
int num;
if(uParam0->f_2 > 0){
num=uParam0->f_10 / 2;
if(uParam0->f_2 + num > MISC::GET_GAME_TIMER()) return true;
}
return false;
}

int func_165(BOOL bParam0) // Position - 0x597C{
switch (Global_43257){
case 0:
case 3:
if(bParam0) Global_113648.f_10051.f_100=Global_113648.f_10051.f_100 + 1;
return Global_113648.f_10051.f_100;
case 4:
if(bParam0) Global_113648.f_10051.f_101=Global_113648.f_10051.f_101 + 1;
return Global_113648.f_10051.f_101;
case 5:
case 15:
if(bParam0) Global_113648.f_10051.f_102=Global_113648.f_10051.f_102 + 1;
return Global_113648.f_10051.f_102;
default:
break;
}
return 3;
}


void _DISPLAY_HELP_TEXT(const char* text, int iParam1) // Position - 0x5A26{
HUD::BEGIN_TEXT_COMMAND_DISPLAY_HELP(text);
HUD::END_TEXT_COMMAND_DISPLAY_HELP(0, false, true, iParam1);
return;
}
BOOL func_167(const char* sParam0) // Position - 0x5A3D{
if(!func_168(true, true, false)){
if(!MISC::IS_STRING_NULL_OR_EMPTY(sParam0) && _IS_THIS_HELP_MESSAGE_BEING_DISPLAYED(sParam0) || _IS_THIS_HELP_MESSAGE_BEING_DISPLAYED("CMN_HINT" /*~s~Press ~INPUT_VEH_CIN_CAM~ to toggle focus on the target.*/)) HUD::SET_SCRIPT_VARIABLE_HUD_COLOUR(1);
return false;
}
switch (Global_43257){
case 0:
case 3:
if(func_165(false) < 3) return true;
break;
case 4:
if(func_165(false) < 1) return true;
break;
case 5:
case 15:
if(func_165(false) < 1) return true;
break;
default:
break;
}
return false;
}
BOOL func_168(BOOL bParam0, BOOL bParam1, BOOL bParam2) // Position - 0x5AD6{
Vehicle vehiclePedIsIn;
int seatIndex;
if(bParam0)if(!PLAYER::IS_PLAYER_CONTROL_ON(PLAYER::PLAYER_ID())) return false;
if(bParam2) return true;
if(STREAMING::IS_PLAYER_SWITCH_IN_PROGRESS()) return false;
if(func_43(0)) return false;
if(func_177()) return false;
if(NETWORK::NETWORK_TEXT_CHAT_IS_TYPING()) return false;
if(Global_75693) return false;
if(SCRIPT::GET_NUMBER_OF_THREADS_RUNNING_THE_SCRIPT_WITH_THIS_HASH(joaat("appinternet")) > 0) return false;
if(Global_60543) return false;
if(bParam1){
if(PED::IS_PED_IN_ANY_VEHICLE(PLAYER::PLAYER_PED_ID(), true)){
if(PED::IS_PED_IN_ANY_BOAT(PLAYER::PLAYER_PED_ID()))if(CAM::GET_CAM_VIEW_MODE_FOR_CONTEXT(IN_BOAT)==CINEMATIC || CAM::GET_CAM_VIEW_MODE_FOR_CONTEXT(IN_BOAT)==FIRST_PERSON) return false;
elseif(PED::IS_PED_IN_ANY_HELI(PLAYER::PLAYER_PED_ID()))if(CAM::GET_CAM_VIEW_MODE_FOR_CONTEXT(IN_HELI)==CINEMATIC || CAM::GET_CAM_VIEW_MODE_FOR_CONTEXT(IN_HELI)==FIRST_PERSON) return false;
elseif(PED::IS_PED_IN_ANY_PLANE(PLAYER::PLAYER_PED_ID()))if(CAM::GET_CAM_VIEW_MODE_FOR_CONTEXT(IN_AIRCRAFT)==CINEMATIC || CAM::GET_CAM_VIEW_MODE_FOR_CONTEXT(IN_AIRCRAFT)==FIRST_PERSON) return false;
elseif(PED::IS_PED_IN_ANY_SUB(PLAYER::PLAYER_PED_ID()))if(CAM::GET_CAM_VIEW_MODE_FOR_CONTEXT(IN_SUBMARINE)==CINEMATIC || CAM::GET_CAM_VIEW_MODE_FOR_CONTEXT(IN_SUBMARINE)==FIRST_PERSON) return false;
elseif(PED::IS_PED_ON_ANY_BIKE(PLAYER::PLAYER_PED_ID()))if(CAM::GET_CAM_VIEW_MODE_FOR_CONTEXT(ON_BIKE)==CINEMATIC || CAM::GET_CAM_VIEW_MODE_FOR_CONTEXT(ON_BIKE)==FIRST_PERSON) return false;
elseif(CAM::GET_FOLLOW_VEHICLE_CAM_VIEW_MODE()==CINEMATIC || CAM::GET_FOLLOW_VEHICLE_CAM_VIEW_MODE()==FIRST_PERSON) return false;
if(CAM::IS_GAMEPLAY_CAM_LOOKING_BEHIND()) return false;
}}
if(func_176() || func_175(*Global_4718592.f_166301) || func_174()){
if(PED::IS_PED_IN_ANY_VEHICLE(PLAYER::PLAYER_PED_ID(), false)){
vehiclePedIsIn=PED::GET_VEHICLE_PED_IS_IN(PLAYER::PLAYER_PED_ID(), false);
seatIndex=_GET_VEHICLE_SEAT_PED_IS_IN(PLAYER::PLAYER_PED_ID(), false);
if(VEHICLE::IS_TURRET_SEAT(vehiclePedIsIn, seatIndex) || ENTITY::GET_ENTITY_MODEL(vehiclePedIsIn)==joaat("apc") && seatIndex !=-1 || ENTITY::GET_ENTITY_MODEL(vehiclePedIsIn)==joaat("akula") && seatIndex !=-1 || ENTITY::GET_ENTITY_MODEL(vehiclePedIsIn)==joaat("riot2") && seatIndex==0 && func_172(vehiclePedIsIn, 10) && VEHICLE::GET_VEHICLE_MOD(vehiclePedIsIn, 10) !=-1) return false;
}}
if(Global_1962010) return false;
if(func_169(PLAYER::PLAYER_ID())) return false;
return true;
}
BOOL func_169(Player plParam0) // Position - 0x5D2F{
if(plParam0 !=_INVALID_PLAYER_INDEX())if(_NETWORK_IS_PLAYER_VALID(plParam0, true, true)) return Global_2657589[plParam0 /*466*/].f_321.f_7 !=-1;
elseif(Global_1575060 && plParam0==PLAYER::PLAYER_ID() && _NETWORK_IS_PLAYER_VALID(plParam0, true, false)) return Global_2657589[plParam0 /*466*/].f_321.f_7 !=-1;
return false;
}
BOOL _NETWORK_IS_PLAYER_VALID(Player player, BOOL bIsPlaying, BOOL bUnk) // Position - 0x5D95{
Player player;
player=player;
if(player !=-1){
if(NETWORK::NETWORK_IS_PLAYER_ACTIVE(player)){
if(bIsPlaying)if(!PLAYER::IS_PLAYER_PLAYING(player)) return false;
if(bUnk)if(player==Global_2672505.f_3) return Global_2672505.f_2;
elseif(Global_2657589[player /*466*/] !=4) return false;
return true;
}}
return false;
}
Player _INVALID_PLAYER_INDEX() // Position - 0x5DF5{
return -1;
}
BOOL func_172(Vehicle veParam0, int iParam1) // Position - 0x5DFE{
if(VEHICLE::IS_VEHICLE_DRIVEABLE(veParam0, false)){
if(VEHICLE::GET_NUM_MOD_KITS(veParam0) > 0){
switch (iParam1){
case 17:
case 18:
case 19:
case 20:
case 21:
case 22:
return true;
default:
if(VEHICLE::GET_NUM_VEHICLE_MODS(veParam0, iParam1) > 0) return true;
break;
}}}
return false;
}
int _GET_VEHICLE_SEAT_PED_IS_IN(Ped ped, BOOL includeLastVehicle) // Position - 0x5E60{
Vehicle vehiclePedIsIn;
int vehicleModelNumberOfSeats;
int i;
int seatIndex;
if(!PED::IS_PED_INJURED(ped)){
if(PED::IS_PED_IN_ANY_VEHICLE(ped, includeLastVehicle)){
vehiclePedIsIn=PED::GET_VEHICLE_PED_IS_IN(ped, includeLastVehicle);
if(ENTITY::DOES_ENTITY_EXIST(vehiclePedIsIn)){
vehicleModelNumberOfSeats=VEHICLE::GET_VEHICLE_MODEL_NUMBER_OF_SEATS(ENTITY::GET_ENTITY_MODEL(vehiclePedIsIn));
if(vehicleModelNumberOfSeats==1){
seatIndex=-1;
return seatIndex;
}
for (i=0;
i < vehicleModelNumberOfSeats;
i=i + 1){
seatIndex=i - 1;
if(!VEHICLE::IS_VEHICLE_SEAT_FREE(vehiclePedIsIn, seatIndex, false))if(VEHICLE::GET_PED_IN_VEHICLE_SEAT(vehiclePedIsIn, seatIndex, false)==ped) return seatIndex;
}}}}
return seatIndex;
}
BOOL func_174() // Position - 0x5EE5{
return Global_2683862.f_19;
}
BOOL func_175(int iParam0) // Position - 0x5EF3{
return iParam0==51;
}
BOOL func_176() // Position - 0x5F00{
return Global_2683862.f_18;
}
BOOL func_177() // Position - 0x5F0E{
return MISC::GET_GAME_TIMER() <=Global_23270.f_6321 + 100;
}


void func_178(var uParam0, Ped pedParam1, Vector3 vParam2, var uParam3, var uParam4, int iParam5) // Position - 0x5F23{
Ped pedIndexFromEntityIndex;
int easeInTime;
int easeOutTime;
eScriptLookAtFlags flags;
int num;
if(Global_1581968==1) return;
if(ENTITY::IS_ENTITY_DEAD(pedParam1, false)) func_157(uParam0, 0, false);
if(func_39(vParam2, 0f, 0f, 0f, false)){
if(ENTITY::IS_ENTITY_A_PED(pedParam1)){
pedIndexFromEntityIndex=ENTITY::GET_PED_INDEX_FROM_ENTITY_INDEX(pedParam1);
if(!PED::IS_PED_IN_ANY_VEHICLE(pedIndexFromEntityIndex, false))if(PED::IS_PED_A_PLAYER(pedIndexFromEntityIndex))if(!func_179()) vParam2={
0f, 0f, 1f 
};
elseif(PED::IS_PED_MALE(pedIndexFromEntityIndex)) vParam2={
0f, 0f, 1f 
};
}}
CAM::SET_CINEMATIC_BUTTON_ACTIVE(false);
easeInTime=uParam0->f_9;
easeOutTime=uParam0->f_10;
if(iParam5==1726668277){
if(easeInTime < 1500) easeInTime=1500;
if(easeOutTime < 1500) easeOutTime=1500;
}
CAM::SET_GAMEPLAY_ENTITY_HINT(pedParam1, vParam2, true, -1, easeInTime, easeOutTime, iParam5);
flags=SLF_WHILE_NOT_IN_FOV;
num=3;
TASK::TASK_LOOK_AT_ENTITY(PLAYER::PLAYER_PED_ID(), pedParam1, -1, flags, num);
GRAPHICS::ANIMPOSTFX_PLAY("FocusIn", 0, false);
AUDIO::START_AUDIO_SCENE("HINT_CAM_SCENE");
AUDIO::PLAY_SOUND_FRONTEND(-1, "FocusIn", "HintCamSounds", true);
uParam0->f_11=1;
uParam0->f_8=MISC::GET_GAME_TIMER();
uParam0->f_1=1;
*uParam0=0;
return;
}
BOOL func_179() // Position - 0x6033{
return func_180(PLAYER::PLAYER_ID());
}
BOOL func_180(Player plParam0) // Position - 0x6043{
if(ENTITY::GET_ENTITY_MODEL(PLAYER::GET_PLAYER_PED(plParam0))==joaat("MP_F_Freemode_01")) return 1;
return 0;
}
BOOL func_181(var uParam0, BOOL bParam1, BOOL bParam2, BOOL bParam3) // Position - 0x6062{
if(uParam0->f_1)if(MISC::GET_GAME_TIMER() >=uParam0->f_8 + uParam0->f_9) uParam0->f_1=0;
switch (uParam0->f_5){
case 0:
uParam0->f_7=0;
if(uParam0->f_6==0){
if(PED::IS_PED_IN_ANY_VEHICLE(PLAYER::PLAYER_PED_ID(), true)){
if(func_185(bParam1, bParam2, bParam3)){
uParam0->f_4=MISC::GET_GAME_TIMER();
uParam0->f_5=1;
uParam0->f_7=1;
}}elseif(func_184(bParam1, bParam2, bParam3)){
uParam0->f_4=MISC::GET_GAME_TIMER();
uParam0->f_5=1;
uParam0->f_7=1;
}}elseif(uParam0->f_6==1){
if(func_184(bParam1, bParam2, bParam3)){
uParam0->f_4=MISC::GET_GAME_TIMER();
uParam0->f_5=1;
uParam0->f_7=1;
}}elseif(uParam0->f_6==2){
if(func_185(bParam1, bParam2, bParam3)){
uParam0->f_4=MISC::GET_GAME_TIMER();
uParam0->f_5=1;
uParam0->f_7=1;
}}
if(func_164(uParam0)){
uParam0->f_7=1;
uParam0->f_5=4;
}
break;
case 1:
if(MISC::GET_GAME_TIMER() - uParam0->f_4 <=500){
if(uParam0->f_6==0){
if(PED::IS_PED_IN_ANY_VEHICLE(PLAYER::PLAYER_PED_ID(), true)){
if(!func_185(bParam1, bParam2, bParam3)){
uParam0->f_4=MISC::GET_GAME_TIMER();
uParam0->f_5=3;
}}elseif(!func_184(bParam1, bParam2, bParam3)){
uParam0->f_4=MISC::GET_GAME_TIMER();
uParam0->f_5=3;
}}elseif(uParam0->f_6==1){
if(!func_184(bParam1, bParam2, bParam3)){
uParam0->f_4=MISC::GET_GAME_TIMER();
uParam0->f_5=3;
}}elseif(uParam0->f_6==2){
if(!func_185(bParam1, bParam2, bParam3)){
uParam0->f_4=MISC::GET_GAME_TIMER();
uParam0->f_5=3;
}}}else{
uParam0->f_5=2;
}
break;
case 2:
if(uParam0->f_6==0)if(PED::IS_PED_IN_ANY_VEHICLE(PLAYER::PLAYER_PED_ID(), true))if(!func_185(bParam1, bParam2, bParam3)) uParam0->f_5=0;
elseif(!func_184(bParam1, bParam2, bParam3)) uParam0->f_5=0;
elseif(uParam0->f_6==1)if(!func_184(bParam1, bParam2, bParam3) || PED::IS_PED_IN_ANY_VEHICLE(PLAYER::PLAYER_PED_ID(), true)) uParam0->f_5=0;
elseif(uParam0->f_6==2)if(!PED::IS_PED_IN_ANY_VEHICLE(PLAYER::PLAYER_PED_ID(), true) || TASK::GET_IS_TASK_ACTIVE(PLAYER::PLAYER_PED_ID(), 2)) uParam0->f_5=0;
elseif(!func_185(bParam1, bParam2, bParam3)) uParam0->f_5=0;
break;
case 3:
if(MISC::GET_GAME_TIMER() - uParam0->f_4 > 500)if(uParam0->f_6==0)if(PED::IS_PED_IN_ANY_VEHICLE(PLAYER::PLAYER_PED_ID(), true))if(func_183(bParam1, bParam2, bParam3)) uParam0->f_5=0;
elseif(func_182(bParam1, bParam2, bParam3)) uParam0->f_5=0;
elseif(uParam0->f_6==1)if(PED::IS_PED_IN_ANY_VEHICLE(PLAYER::PLAYER_PED_ID(), true) || func_182(bParam1, bParam2, bParam3)) uParam0->f_5=0;
elseif(uParam0->f_6==2)if(!PED::IS_PED_IN_ANY_VEHICLE(PLAYER::PLAYER_PED_ID(), true) || TASK::GET_IS_TASK_ACTIVE(PLAYER::PLAYER_PED_ID(), 2)) uParam0->f_5=0;
elseif(func_183(bParam1, bParam2, bParam3)) uParam0->f_5=0;
break;
case 4:
if(!func_164(uParam0)) uParam0->f_5=0;
break;
}
if(!func_168(bParam1, bParam2, bParam3)){
uParam0->f_5=0;
uParam0->f_7=0;
}
if(uParam0->f_7){
func_187();
return true;
}else{
return false;
}
return false;
}
BOOL func_182(BOOL bParam0, BOOL bParam1, BOOL bParam2) // Position - 0x63CE{
if(!func_168(bParam0, bParam1, bParam2)) return false;
if(!PED::IS_PED_IN_ANY_VEHICLE(PLAYER::PLAYER_PED_ID(), false)){
if(!PLAYER::IS_PLAYER_TARGETTING_ANYTHING(PLAYER::PLAYER_ID())){
PAD::DISABLE_CONTROL_ACTION(PLAYER_CONTROL, INPUT_MELEE_ATTACK_LIGHT, true);
PAD::DISABLE_CONTROL_ACTION(PLAYER_CONTROL, INPUT_VEH_CIN_CAM, true);
if(PAD::IS_DISABLED_CONTROL_JUST_RELEASED(PLAYER_CONTROL, INPUT_VEH_CIN_CAM)) return true;
}}
return false;
}
BOOL func_183(BOOL bParam0, BOOL bParam1, BOOL bParam2) // Position - 0x6420{
if(!func_168(bParam0, bParam1, bParam2)) return false;
if(PED::IS_PED_IN_ANY_VEHICLE(PLAYER::PLAYER_PED_ID(), false)){
PAD::DISABLE_CONTROL_ACTION(PLAYER_CONTROL, INPUT_VEH_CIN_CAM, true);
if(CAM::IS_FOLLOW_VEHICLE_CAM_ACTIVE()){
if(PAD::IS_DISABLED_CONTROL_JUST_RELEASED(PLAYER_CONTROL, INPUT_VEH_CIN_CAM)){
CAM::SET_CINEMATIC_BUTTON_ACTIVE(false);
return true;
}}}
return false;
}
BOOL func_184(BOOL bParam0, BOOL bParam1, BOOL bParam2) // Position - 0x6469{
if(!func_168(bParam0, bParam1, bParam2)) return false;
if(!PED::IS_PED_IN_ANY_VEHICLE(PLAYER::PLAYER_PED_ID(), false)){
if(!PLAYER::IS_PLAYER_TARGETTING_ANYTHING(PLAYER::PLAYER_ID())){
PAD::DISABLE_CONTROL_ACTION(PLAYER_CONTROL, INPUT_MELEE_ATTACK_LIGHT, true);
PAD::DISABLE_CONTROL_ACTION(PLAYER_CONTROL, INPUT_VEH_CIN_CAM, true);
if(PAD::IS_DISABLED_CONTROL_PRESSED(PLAYER_CONTROL, INPUT_VEH_CIN_CAM) && MISC::GET_GAME_TIMER() > Global_116) return true;
}}
return false;
}
BOOL func_185(BOOL bParam0, BOOL bParam1, BOOL bParam2) // Position - 0x64C8{
if(!func_168(bParam0, bParam1, bParam2)) return false;
if(PED::IS_PED_IN_ANY_VEHICLE(PLAYER::PLAYER_PED_ID(), false)){
PAD::DISABLE_CONTROL_ACTION(PLAYER_CONTROL, INPUT_VEH_CIN_CAM, true);
if(CAM::IS_FOLLOW_VEHICLE_CAM_ACTIVE()){
if(PAD::IS_DISABLED_CONTROL_PRESSED(PLAYER_CONTROL, INPUT_VEH_CIN_CAM) && MISC::GET_GAME_TIMER() > Global_116){
CAM::SET_CINEMATIC_BUTTON_ACTIVE(false);
return true;
}}}
return false;
}
BOOL func_186(Ped pedParam0) // Position - 0x651E{
if(ENTITY::DOES_ENTITY_EXIST(pedParam0))if(ENTITY::IS_ENTITY_A_VEHICLE(pedParam0))if(VEHICLE::IS_VEHICLE_DRIVEABLE(ENTITY::GET_VEHICLE_INDEX_FROM_ENTITY_INDEX(pedParam0), false)) return true;
elseif(ENTITY::IS_ENTITY_A_PED(pedParam0))if(!PED::IS_PED_INJURED(ENTITY::GET_PED_INDEX_FROM_ENTITY_INDEX(pedParam0))) return true;
elseif(ENTITY::IS_ENTITY_AN_OBJECT(pedParam0)) return true;
return false;
}


void func_187() // Position - 0x6579{
MISC::SET_BIT(&Global_8254, 4);
return;
}


void func_188(var uParam0, var uParam1, BOOL bParam2, BOOL bParam3) // Position - 0x6589{
if(!ENTITY::IS_ENTITY_DEAD(uParam1->f_2, false))if(ENTITY::HAS_ENTITY_BEEN_DAMAGED_BY_ENTITY(uParam1->f_2, PLAYER::PLAYER_PED_ID(), false)) func_361(uParam0, "Taxi shot up the car", 12);
else func_361(uParam0, "Followee died", 13);
if(PLAYER::GET_PLAYER_WANTED_LEVEL(PLAYER::PLAYER_ID()) > 0 && VEHICLE::IS_VEHICLE_DRIVEABLE(uParam1->f_3, false) && !ENTITY::IS_ENTITY_DEAD(uParam1->f_2, false)){
TASK::TASK_VEHICLE_MISSION(uParam1->f_2, uParam1->f_3, uParam0->f_4, 8, 100f, 786468, 1000f, 1000f, true);
PED::SET_PED_KEEP_TASK(uParam1->f_2, true);
func_361(uParam0, "Player went wanted", 4);
}
func_197(uParam0, uParam1);
if(VEHICLE::IS_VEHICLE_DRIVEABLE(uParam1->f_3, false) && !PED::IS_PED_INJURED(PLAYER::PLAYER_PED_ID())){
if(bParam3)if(func_196(&(uParam1->f_3))) GRAPHICS::DRAW_DEBUG_SPHERE(ENTITY::GET_ENTITY_COORDS(uParam1->f_3, true), 22.5f, 255, 0, 0, 60);
elseif(func_195(&(uParam1->f_3))) GRAPHICS::DRAW_DEBUG_SPHERE(ENTITY::GET_ENTITY_COORDS(uParam1->f_3, true), func_194(&(uParam1->f_3)), 255, 0, 0, 60);
elseif(func_193(&(uParam1->f_3))) GRAPHICS::DRAW_DEBUG_SPHERE(ENTITY::GET_ENTITY_COORDS(uParam1->f_3, true), 13f, 125, 0, 125, 60);
if(VEHICLE::GET_VEHICLE_ENGINE_HEALTH(uParam1->f_3) < uParam1->f_15 || ENTITY::HAS_ENTITY_BEEN_DAMAGED_BY_ENTITY(uParam1->f_3, PLAYER::PLAYER_PED_ID(), true) || VEHICLE::GET_VEHICLE_PETROL_TANK_HEALTH(uParam1->f_3) < uParam1->f_16){
if(ENTITY::HAS_ENTITY_BEEN_DAMAGED_BY_ENTITY(uParam1->f_3, PLAYER::PLAYER_PED_ID(), false)) func_361(uParam0, "Taxi shot up the car", 12);
if(func_116(uParam0, 13) > 5f){
func_192(uParam0, uParam1, true);
}else{
uParam1->f_15=VEHICLE::GET_VEHICLE_ENGINE_HEALTH(uParam1->f_3);
uParam1->f_5=ENTITY::GET_ENTITY_HEALTH(uParam1->f_3);
uParam1->f_16=VEHICLE::GET_VEHICLE_PETROL_TANK_HEALTH(uParam1->f_3);
}}
if(func_51(uParam0->f_4, uParam1->f_3, true) >=120f){
if(func_51(uParam0->f_4, uParam1->f_3, true) >=480f){
func_254(uParam0, 143, 0, false, false);
func_361(uParam0, "Taxi let the Chasee lose him", 2);
}elseif(!uParam1->f_21){
if(func_191(&(uParam0->f_409), ENTITY::GET_ENTITY_COORDS(uParam0->f_4, true), ENTITY::GET_ENTITY_COORDS(uParam1->f_3, true), false)==-1 && func_51(uParam0->f_4, uParam1->f_3, true) >=150f && func_116(uParam0, 8) > 10f){
uParam1->f_21=1;
uParam1->f_23=0;
uParam1->f_9=uParam1->f_9 + 1;
func_317(uParam0, 8, 0, false);
if(uParam1->f_9 > 3){
if(VEHICLE::IS_VEHICLE_DRIVEABLE(uParam1->f_3, false) && !ENTITY::IS_ENTITY_DEAD(uParam1->f_2, false)){
TASK::TASK_VEHICLE_MISSION(uParam1->f_2, uParam1->f_3, uParam0->f_4, 8, 100f, 786468, 1000f, 1000f, true);
PED::SET_PED_KEEP_TASK(uParam1->f_2, true);
}
func_361(uParam0, "Taxi let the Chasee lose him", 2);
}elseif(uParam1->f_9==3){
func_190(uParam0, 6, true);
}else{
func_190(uParam0, 1, true);
}
func_254(uParam0, 13, 1, false, false);
}}elseif(ENTITY::HAS_ENTITY_CLEAR_LOS_TO_ENTITY(uParam0->f_4, uParam1->f_3, 17)){
uParam1->f_21=0;
func_317(uParam0, 8, 0, false);
}elseif(func_51(uParam0->f_4, uParam1->f_3, true) >=300f){
func_254(uParam0, 143, 0, false, false);
func_361(uParam0, "Taxi let the Chasee lose him", 2);
}}elseif(func_51(uParam0->f_4, uParam1->f_3, true) < 22.5f && func_196(&(uParam1->f_3)) || func_51(uParam0->f_4, uParam1->f_3, true) < 13f && func_193(&(uParam1->f_3)) || func_51(uParam0->f_4, uParam1->f_3, true) < func_194(&(uParam1->f_3)) && func_195(&(uParam1->f_3))){
if(!uParam1->f_22 || func_189(uParam0, 21)){
if(ENTITY::HAS_ENTITY_CLEAR_LOS_TO_ENTITY(uParam0->f_4, uParam1->f_3, 17) && func_116(uParam0, 8) > 10f && bParam2){
uParam1->f_22=1;
uParam1->f_23=0;
uParam1->f_8=uParam1->f_8 + 1;
uParam1->f_9=uParam1->f_9 + 1;
func_317(uParam0, 8, 0, false);
if(!func_189(uParam0, 21)) func_317(uParam0, 21, 0, false);
if(uParam1->f_9 > 3){
if(!_CONVERSATION_IS_DIALOGUE_IN_PROGRESS()){
if(VEHICLE::IS_VEHICLE_DRIVEABLE(uParam1->f_3, false) && !ENTITY::IS_ENTITY_DEAD(uParam1->f_2, false)){
TASK::TASK_VEHICLE_MISSION(uParam1->f_2, uParam1->f_3, uParam0->f_4, 8, 100f, 786468, 1000f, 1000f, true);
PED::SET_PED_KEEP_TASK(uParam1->f_2, true);
}
func_361(uParam0, "Taxi was ID'd by the Chasee", 3);
}
else{
func_151();
}}elseif(uParam1->f_9==3){
func_190(uParam0, 3, true);
}else{
func_190(uParam0, 2, true);
}
if(func_51(uParam0->f_4, uParam1->f_3, true) < 15f){
if(!_CONVERSATION_IS_DIALOGUE_IN_PROGRESS()){
func_254(uParam0, 143, 0, false, false);
func_48();
if(VEHICLE::IS_VEHICLE_DRIVEABLE(uParam1->f_3, false) && !ENTITY::IS_ENTITY_DEAD(uParam1->f_2, false)){
TASK::TASK_VEHICLE_MISSION(uParam1->f_2, uParam1->f_3, uParam0->f_4, 8, 100f, 786468, 1000f, 1000f, true);
PED::SET_PED_KEEP_TASK(uParam1->f_2, true);
}
func_361(uParam0, "Taxi was ID'd by the Chasee", 3);
}
else{
func_151();
}}elseif(uParam1->f_9 <=3){
func_254(uParam0, 13, 1, false, false);
}
uParam1->f_15=VEHICLE::GET_VEHICLE_ENGINE_HEALTH(uParam1->f_3);
}}}else{
if(func_189(uParam0, 21)) func_208(uParam0, 21, false);
if(uParam1->f_22){
if(func_51(uParam0->f_4, uParam1->f_3, true) > 22.5f){
uParam1->f_22=0;
func_317(uParam0, 8, 0, false);
}}
if(uParam1->f_21){
if(func_51(uParam0->f_4, uParam1->f_3, true) < 150f && ENTITY::HAS_ENTITY_CLEAR_LOS_TO_ENTITY(uParam0->f_4, uParam1->f_3, 17)){
uParam1->f_21=0;
func_317(uParam0, 8, 0, false);
}}
if(!uParam1->f_23){
if(!uParam1->f_21 && !uParam1->f_22){
uParam1->f_23=1;
func_190(uParam0, 8, true);
func_254(uParam0, 13, 1, false, false);
func_317(uParam0, 8, 0, false);
}}else{
if(uParam0->f_80 > uParam0->f_101) uParam1->f_24=1;
if(!uParam1->f_24 && !uParam1->f_21 && !uParam1->f_22){
if(func_116(uParam0, 8) > 15f && !_CONVERSATION_IS_DIALOGUE_IN_PROGRESS()){
func_190(uParam0, 9, true);
func_254(uParam0, 13, 1, false, false);
func_317(uParam0, 8, 0, false);
}}}}}
return;
}
BOOL func_189(var uParam0, int iParam1) // Position - 0x6C34{
return func_14(&uParam0->f_146[iParam1 /*3*/]);
}


void func_190(var uParam0, int iParam1, BOOL bParam2) // Position - 0x6C48{
uParam0->f_414=iParam1;
bParam2;
return;
}

int func_191(var uParam0, Vector3 vParam1, var uParam2, var uParam3, Vector3 vParam4, var uParam5, var uParam6, BOOL bParam7) // Position - 0x6C5C{
var endCoords;
var surfaceNormal;
int hit;
var entityHit;
int shapeTestResult;
if(*uParam0==0){
*uParam0=SHAPETEST::START_SHAPE_TEST_LOS_PROBE(vParam1, vParam4, 511, 0, 7);
bParam7;
}else{
shapeTestResult=SHAPETEST::GET_SHAPE_TEST_RESULT(*uParam0, &hit, &endCoords, &surfaceNormal, &entityHit);
if(shapeTestResult==2){
bParam7;
if(hit==0){
*uParam0=0;
return hit;
}else{
bParam7;
*uParam0=0;
return hit;
}}elseif(shapeTestResult==0){
bParam7;
*uParam0=0;
}}
return -1;
}


void func_192(var uParam0, var uParam1, BOOL bParam2) // Position - 0x6CD6{
uParam1->f_6=uParam1->f_6 + 1;
uParam1->f_9=uParam1->f_9 + 1;
if(uParam1->f_6 >=1){
if(!_CONVERSATION_IS_DIALOGUE_IN_PROGRESS()){
func_279(uParam0, 0, true);
if(VEHICLE::IS_VEHICLE_DRIVEABLE(uParam1->f_3, false) && !ENTITY::IS_ENTITY_DEAD(uParam1->f_2, false)){
TASK::TASK_VEHICLE_MISSION(uParam1->f_2, uParam1->f_3, uParam0->f_4, 8, 100f, 786468, 1000f, 1000f, true);
PED::SET_PED_KEEP_TASK(uParam1->f_2, true);
}
func_361(uParam0, "Taxi was ID'd by the Chasee", 3);
}else{
func_151();
}}else{
func_317(uParam0, 13, 0, false);
ENTITY::CLEAR_ENTITY_LAST_DAMAGE_ENTITY(uParam1->f_3);
func_190(uParam0, 10, true);
func_279(uParam0, 1, false);
}
bParam2;
return;
}
BOOL func_193(var uParam0) // Position - 0x6D91{
if(VEHICLE::IS_VEHICLE_DRIVEABLE(*uParam0, false))if(VEHICLE::IS_VEHICLE_STOPPED(*uParam0) || ENTITY::GET_ENTITY_SPEED(*uParam0) < 4f) return true;
return false;
}


float func_194(var uParam0) // Position - 0x6DC2{
float num;
float entitySpeed;
float num2;
float num3;
num2=22.5f;
num3=13f;
if(VEHICLE::IS_VEHICLE_DRIVEABLE(*uParam0, false)) entitySpeed=ENTITY::GET_ENTITY_SPEED(*uParam0);
num=(((entitySpeed - 4f) / 11f) * (num2 - num3)) + num3;
return num;
}
BOOL func_195(var uParam0) // Position - 0x6E03{
if(VEHICLE::IS_VEHICLE_DRIVEABLE(*uParam0, false))if(ENTITY::GET_ENTITY_SPEED(*uParam0) >=4f && ENTITY::GET_ENTITY_SPEED(*uParam0) < 15f) return true;
return false;
}
BOOL func_196(var uParam0) // Position - 0x6E39{
if(VEHICLE::IS_VEHICLE_DRIVEABLE(*uParam0, false))if(ENTITY::GET_ENTITY_SPEED(*uParam0) >=15f) return true;
return false;
}


void func_197(var uParam0, var uParam1) // Position - 0x6E61{
if(VEHICLE::IS_VEHICLE_DRIVEABLE(uParam1->f_3, false) && !PED::IS_PED_INJURED(PLAYER::PLAYER_PED_ID())){
if(func_51(uParam0->f_4, uParam1->f_3, true) < 120f)if(uParam0->f_414==6 || uParam0->f_414==1)if(func_198(uParam0)==13) func_121();
if(func_51(uParam0->f_4, uParam1->f_3, true) >=22.5f)if(uParam0->f_414==3 || uParam0->f_414==2)if(func_198(uParam0)==13) func_121();
}
return;
}

int func_198(var uParam0) // Position - 0x6EFB{
return uParam0->f_416;
}


void func_199(Vehicle veParam0, float fParam1, float fParam2, float fParam3, float fParam4, var uParam5, int iParam6) // Position - 0x6F08{
if(!_CONVERSATION_IS_DIALOGUE_IN_PROGRESS())if(VEHICLE::IS_VEHICLE_DRIVEABLE(veParam0, false))if(func_53(veParam0, fParam1, true) < fParam4)if(func_201(uParam5)) func_200(uParam5, iParam6, -1);
return;
}


void func_200(var uParam0, int iParam1, int iParam2) // Position - 0x6F45{
*uParam0=iParam2;
if(iParam1 > -1) uParam0->f_27=iParam1;
return;
}
BOOL func_201(var uParam0) // Position - 0x6F5E{
return *uParam0==0;
}


void func_202(var uParam0) // Position - 0x6F6B{
if(func_205(uParam0)) func_203(uParam0);
return;
}


void func_203(var uParam0) // Position - 0x6F82{
if(AUDIO::IS_RADIO_RETUNING() && uParam0->f_418.f_4 !=0) uParam0->f_418.f_4=0;
switch (uParam0->f_418.f_4){
case 0:
uParam0->f_418=AUDIO::GET_PLAYER_RADIO_STATION_INDEX();
func_208(uParam0, 20, false);
uParam0->f_418.f_4=uParam0->f_418.f_4 + 1;
break;
case 1:
if(uParam0->f_418.f_8 && !uParam0->f_418==uParam0->f_418.f_2){
if(func_116(uParam0, 20) > 3f){
func_254(uParam0, 87, 1, false, false);
uParam0->f_418.f_8=0;
uParam0->f_418.f_4=uParam0->f_418.f_4 + 1;
}}elseif(uParam0->f_418==uParam0->f_418.f_1){
if(!func_22(uParam0->f_81, 262144) || !func_22(uParam0->f_81, 1048576)){
if(func_116(uParam0, 20) > 5f){
uParam0->f_418.f_5=1;
func_254(uParam0, 84, 1, false, false);
uParam0->f_418.f_4=uParam0->f_418.f_4 + 1;
}}}elseif(uParam0->f_418==uParam0->f_418.f_2){
if(!func_22(uParam0->f_82, 67108864)){
if(func_116(uParam0, 20) > 5f){
uParam0->f_418.f_6=1;
uParam0->f_418.f_8=0;
func_254(uParam0, 85, 1, false, false);
func_208(uParam0, 22, false);
uParam0->f_418.f_4=uParam0->f_418.f_4 + 1;
}}}elseif(uParam0->f_418.f_7){
if(func_116(uParam0, 20) > 8f){
func_254(uParam0, 86, 1, false, false);
uParam0->f_418.f_4=uParam0->f_418.f_4 + 1;
}}
break;
case 2:
if(func_22(uParam0->f_81, 262144) || func_22(uParam0->f_82, 67108864))if(!func_189(uParam0, 22)) func_204(uParam0, 22);
if(func_189(uParam0, 22) && func_116(uParam0, 22) > 15f){
if(uParam0->f_418==uParam0->f_418.f_1){
if(!func_22(uParam0->f_81, 1048576)){
func_254(uParam0, 84, 1, false, false);
func_208(uParam0, 22, false);
}}elseif(uParam0->f_418==uParam0->f_418.f_2){
if(!func_22(uParam0->f_82, 134217728)){
func_254(uParam0, 85, 1, false, false);
func_208(uParam0, 22, false);
}}}
break;
}
return;
}


void func_204(var uParam0, int iParam1) // Position - 0x71FD{
func_117(&uParam0->f_146[iParam1 /*3*/]);
return;
}
BOOL func_205(var uParam0) // Position - 0x7211{
return uParam0->f_120;
}
BOOL func_206(Ped pedParam0, Blip blParam1) // Position - 0x721D{
if(PLAYER::GET_PLAYER_WANTED_LEVEL(PLAYER::GET_PLAYER_INDEX()) < 1){
if(PED::IS_PED_INJURED(pedParam0)){
if(!PED::IS_PED_INJURED(PLAYER::PLAYER_PED_ID())){
if(ENTITY::HAS_ENTITY_BEEN_DAMAGED_BY_ENTITY(pedParam0, PLAYER::PLAYER_PED_ID(), true)){
PLAYER::SET_PLAYER_WANTED_LEVEL(PLAYER::GET_PLAYER_INDEX(), 1, false);
PLAYER::SET_PLAYER_WANTED_LEVEL_NOW(PLAYER::GET_PLAYER_INDEX(), false);
if(HUD::DOES_BLIP_EXIST(blParam1)) HUD::REMOVE_BLIP(&blParam1);
return true;
}}}}
return false;
}
BOOL func_207(var uParam0) // Position - 0x727B{
if(VEHICLE::IS_VEHICLE_DRIVEABLE(uParam0->f_4, false))if(VEHICLE::GET_PED_IN_VEHICLE_SEAT(uParam0->f_4, -1, false)==PLAYER::PLAYER_PED_ID()) return true;
return false;
}


void func_208(var uParam0, int iParam1, BOOL bParam2) // Position - 0x72A5{
int i;
iParam1==14;
if(iParam1==32){
for (i=0;
i < 32;
i=i + 1){
func_106(&uParam0->f_146[i /*3*/]);
}}else{
func_106(&uParam0->f_146[iParam1 /*3*/]);
}
bParam2;
return;
}
BOOL func_209(Ped pedParam0, Vehicle veParam1) // Position - 0x72EE{
if(VEHICLE::IS_VEHICLE_DRIVEABLE(veParam1, false))if(!PED::IS_PED_INJURED(pedParam0)) return true;
return false;
}


void func_210() // Position - 0x730F{
float num;
float num2;
num={
402.42f, -1457.19f, 28.82f 
};
num2={
-701.25f, -1080.29f, 12.29f 
};
if(num2 <=num){
fLocal_964=num2;
fLocal_967=num;
}else{
fLocal_964=num;
fLocal_967=num2;
}
if(num2.f_1 <=num.f_1){
fLocal_964.f_1=num2.f_1;
fLocal_967.f_1=num.f_1;
}else{
fLocal_964.f_1=num.f_1;
fLocal_967.f_1=num2.f_1;
}
fLocal_964={
fLocal_964 -{
20f, 20f, 20f 
}};
fLocal_967={
fLocal_967 +{
20f, 20f, 20f 
}};
PATHFIND::REQUEST_PATH_NODES_IN_AREA_THIS_FRAME(fLocal_964, fLocal_964.f_1, fLocal_967, fLocal_967.f_1);
return;
}
BOOL _CONVERSATION_IS_DIALOGUE_IN_PROGRESS() // Position - 0x73D8{
if(Global_21725 !=0 || AUDIO::IS_SCRIPTED_CONVERSATION_ONGOING()) return true;
return false;
}
BOOL func_212() // Position - 0x73FA{
func_154();
if(iLocal_1144 < 9 && iLocal_1144 > 2)if(func_150(iLocal_897)) iLocal_1144=9;
switch (iLocal_1144){
case 0:
if(func_149(true, true, true)){
iLocal_897=MISC::GET_GAME_TIMER();
func_142(SPC_LEAVE_CAMERA_CONTROL_ON, false, true);
func_147(&uLocal_1082);
func_146(&uLocal_1052, 2, false);
if(func_218(&hLocal_853, uLocal_934, fLocal_973)){
PATHFIND::SET_ROADS_IN_AREA(1346.9f, -1606.52f, 31.16f, 1457.25f, -1508.19f, 83.05f, true, true);
func_145(&caLocal_423, 0f, 0f, 0f, 0f, 0f, 0f, 1112014848);
func_254(&caLocal_423, 138, 1, false, false);
iLocal_1144=1;
}}
break;
case 1:
if(func_116(&caLocal_423, 19) > 3f){
if(!PED::IS_PED_INJURED(hLocal_853.f_2)){
PED::SET_BLOCKING_OF_NON_TEMPORARY_EVENTS(hLocal_853.f_2, true);
TASK::CLEAR_PED_TASKS(hLocal_853.f_2);
if(VEHICLE::IS_VEHICLE_DRIVEABLE(hLocal_853.f_3, false)){
TASK::CLEAR_SEQUENCE_TASK(&iLocal_414);
TASK::OPEN_SEQUENCE_TASK(&iLocal_414);
TASK::TASK_ENTER_VEHICLE(0, hLocal_853.f_3, 20000, -1, 1f, 1, 0);
TASK::TASK_PLAY_ANIM(0, "veh@truck@ds@base", "start_engine", 1090519040, -1056964608, -1, 0, 0, false, false, false);
TASK::CLOSE_SEQUENCE_TASK(iLocal_414);
TASK::TASK_PERFORM_SEQUENCE(hLocal_853.f_2, iLocal_414);
VEHICLE::SET_VEHICLE_DOORS_LOCKED(hLocal_853.f_3, 1);
}}
PED::SET_PED_COORDS_KEEP_VEHICLE(PLAYER::PLAYER_PED_ID(), caLocal_423.f_17);
CAM::SET_CAM_COORD(caLocal_423, func_217(0));
CAM::SET_CAM_ROT(caLocal_423, func_216(0), 2);
CAM::SET_CAM_FOV(caLocal_423, 17.2f);
CAM::SHAKE_CAM(caLocal_423, "HAND_SHAKE", 0.1f);
CAM::SET_CAM_ACTIVE(caLocal_423, true);
CAM::RENDER_SCRIPT_CAMS(true, false, 3000, true, false, 0);
func_317(&caLocal_423, 19, 0, false);
iLocal_1144=2;
}
break;
case 2:
caLocal_422=CAM::CREATE_CAMERA_WITH_PARAMS(joaat("DEFAULT_SCRIPTED_CAMERA"), 0f, 0f, 0f, 0f, 0f, 0f, 1115815936, false, 2);
CAM::SET_CAM_COORD(caLocal_422, func_217(4));
CAM::SET_CAM_ROT(caLocal_422, func_216(0), 2);
CAM::SET_CAM_FOV(caLocal_422, 17.2f);
CAM::SHAKE_CAM(caLocal_422, "HAND_SHAKE", 0.1f);
CAM::SET_CAM_ACTIVE_WITH_INTERP(caLocal_422, caLocal_423, 6000, 1, 1);
func_317(&caLocal_423, 19, 0, false);
iLocal_1144=3;
break;
case 3:
if(func_116(&caLocal_423, 19) > 7.85f && !bLocal_912){
if(func_198(&caLocal_423) > 10) func_213();
bLocal_912=true;
}
if(func_116(&caLocal_423, 19) > 8f && bLocal_912){
CAM::SET_CAM_COORD(caLocal_423, func_217(2));
CAM::POINT_CAM_AT_ENTITY(caLocal_423, hLocal_853.f_3, 0f, 0f, 0f, true);
CAM::SET_CAM_FOV(caLocal_423, 35f);
CAM::SHAKE_CAM(caLocal_423, "HAND_SHAKE", 0.2f);
CAM::SET_CAM_ACTIVE(caLocal_423, true);
CAM::RENDER_SCRIPT_CAMS(true, false, 3000, true, false, 0);
func_317(&caLocal_423, 19, 0, false);
iLocal_1144=4;
}
break;
case 4:
CAM::SET_CAM_COORD(caLocal_422, func_217(2));
CAM::POINT_CAM_AT_ENTITY(caLocal_422, hLocal_853.f_3, 0f, 0f, 0f, true);
CAM::SET_CAM_FOV(caLocal_422, 45f);
CAM::SHAKE_CAM(caLocal_422, "HAND_SHAKE", 0.2f);
CAM::SET_CAM_ACTIVE_WITH_INTERP(caLocal_422, caLocal_423, 10000, 1, 1);
func_317(&caLocal_423, 19, 0, false);
iLocal_1144=11;
break;
case 9:
if(!ENTITY::IS_ENTITY_DEAD(hLocal_853.f_2, false) && !ENTITY::IS_ENTITY_DEAD(hLocal_853.f_3, false)){
if(!PED::IS_PED_IN_ANY_VEHICLE(hLocal_853.f_2, false)) PED::SET_PED_INTO_VEHICLE(hLocal_853.f_2, hLocal_853.f_3, -1);
VEHICLE::SET_VEHICLE_FORWARD_SPEED(hLocal_853.f_3, 10f);
func_109(&(hLocal_853.f_27));
func_317(&caLocal_423, 19, 2f, false);
iLocal_1144=11;
if(!bLocal_901) func_213();
}
break;
case 11:
MISC::GET_GAME_TIMER() % 1000 < 50;
if(OBJECT::DOES_OBJECT_OF_TYPE_EXIST_AT_COORDS(413.8f, -1416.19f, 29.26f, 5f, joaat("prop_sec_barrier_ld_02a"), false)) OBJECT::SET_STATE_OF_CLOSEST_DOOR_OF_TYPE(joaat("prop_sec_barrier_ld_02a"), 413.8f, -1416.19f, 29.26f, false, 0.85f, false);
if(func_116(&caLocal_423, 19) > 4f){
CAM::DO_SCREEN_FADE_IN(800);
CAM::SET_GAMEPLAY_CAM_RELATIVE_HEADING(0);
CAM::SET_GAMEPLAY_CAM_RELATIVE_PITCH(0, 1065353216);
func_109(&(hLocal_853.f_27));
CAM::DESTROY_CAM(caLocal_423, false);
CAM::DESTROY_CAM(caLocal_422, false);
func_135(true, true, true);
CAM::RENDER_SCRIPT_CAMS(false, false, 3000, true, false, 0);
func_208(&caLocal_423, 19, false);
iLocal_1144=12;
}elseif(func_116(&caLocal_423, 19) > 3.7f){
if(func_137()){
if(!bLocal_914){
GRAPHICS::ANIMPOSTFX_PLAY("CamPushInNeutral", 0, false);
AUDIO::PLAY_SOUND_FRONTEND(-1, "1st_Person_Transition", "PLAYER_SWITCH_CUSTOM_SOUNDSET", true);
bLocal_914=true;
}}}
break;
case 12:
return true;
}
return false;
}


void func_213() // Position - 0x78B8{
bLocal_901=true;
if(!PED::IS_PED_INJURED(hLocal_853.f_2)){
if(VEHICLE::IS_VEHICLE_DRIVEABLE(hLocal_853.f_3, false)){
if(PED::IS_PED_IN_VEHICLE(hLocal_853.f_2, hLocal_853.f_3, false)){
ENTITY::SET_ENTITY_COORDS(hLocal_853.f_3, 406.612f, -1419.9369f, 29.003754f, true, false, false, true);
PED::SET_PED_RELATIONSHIP_GROUP_HASH(hLocal_853.f_2, hLocal_853.f_30);
PED::SET_PED_COMBAT_ATTRIBUTES(hLocal_853.f_2, BF_CanUseVehicles, true);
PED::SET_PED_COMBAT_ATTRIBUTES(hLocal_853.f_2, BF_0x66BB9FCC, false);
PED::SET_PED_COMBAT_ATTRIBUTES(hLocal_853.f_2, BF_AlwaysFlee, false);
PED::SET_PED_COMBAT_ATTRIBUTES(hLocal_853.f_2, BF_CanLeaveVehicle, false);
PED::SET_PED_SEEING_RANGE(hLocal_853.f_2, 500f);
PED::SET_PED_HEARING_RANGE(hLocal_853.f_2, 500f);
PED::SET_PED_ID_RANGE(hLocal_853.f_2, 500f);
PED::SET_BLOCKING_OF_NON_TEMPORARY_EVENTS(hLocal_853.f_2, true);
ENTITY::SET_ENTITY_LOD_DIST(hLocal_853.f_3, 500);
ENTITY::SET_ENTITY_LOD_DIST(hLocal_853.f_2, 500);
ENTITY::SET_ENTITY_LOAD_COLLISION_FLAG(hLocal_853.f_3, true, 1);
ENTITY::SET_ENTITY_LOAD_COLLISION_FLAG(hLocal_853.f_2, true, 1);
if(!HUD::DOES_BLIP_EXIST(hLocal_853.f_4)) hLocal_853.f_4=func_214(hLocal_853.f_3, false, false);
PED::SET_BLOCKING_OF_NON_TEMPORARY_EVENTS(hLocal_853.f_2, true);
VEHICLE::START_PLAYBACK_RECORDED_VEHICLE(hLocal_853.f_3, 120, "txm_fc_h1_", true);
VEHICLE::SET_PLAYBACK_SPEED(hLocal_853.f_3, 0.8f);
iLocal_975=MISC::GET_GAME_TIMER();
}}}
return;
}
Blip func_214(Entity eParam0, BOOL bParam1, BOOL bParam2) // Position - 0x79F5{
return func_215(eParam0, !bParam1, bParam2);
}
Blip func_215(Entity eParam0, BOOL bParam1, BOOL bParam2) // Position - 0x7A08{
Blip blip;
if(!ENTITY::DOES_ENTITY_EXIST(eParam0)) return 0;
blip=HUD::ADD_BLIP_FOR_ENTITY(eParam0);
if(ENTITY::IS_ENTITY_A_VEHICLE(eParam0)){
HUD::SET_BLIP_SCALE(blip, NETWORK::NETWORK_IS_GAME_IN_PROGRESS() ? 1f :
1f);
if(!bParam2) HUD::SET_BLIP_AS_FRIENDLY(blip, bParam1);
else HUD::SET_BLIP_COLOUR(blip, 2);
}elseif(ENTITY::IS_ENTITY_A_PED(eParam0)){
HUD::SET_BLIP_SCALE(blip, NETWORK::NETWORK_IS_GAME_IN_PROGRESS() ? 0.7f :
0.7f);
HUD::SET_BLIP_AS_FRIENDLY(blip, bParam1);
}elseif(ENTITY::IS_ENTITY_AN_OBJECT(eParam0)){
HUD::SET_BLIP_SCALE(blip, NETWORK::NETWORK_IS_GAME_IN_PROGRESS() ? 0.7f :
0.7f);
}
return blip;
}


Vector3 func__216(int iParam0) // Position - 0x7AAC{
var unk;
switch (iParam0){
case 0:
unk={
-0.7535f, -0.0475f, 91.9877f 
};
break;
case 1:
unk={
4.2328f, 0f, 165.0072f 
};
break;
case 2:
unk={
-0.3221f, 0f, 68.7635f 
};
break;
case 3:
unk={
-0.3614f, 0f, -145.1533f 
};
break;
case 4:
unk={
-5.4284f, 0f, 1.8065f 
};
break;
case 5:
unk={
1.2038f, 0f, 68.7635f 
};
break;
case 6:
unk={
-2.1877f, 0f, 71.1648f 
};
break;
}
return unk;
}


Vector3 func__217(int iParam0) // Position - 0x7B6B{
var unk;
switch (iParam0){
case 0:
unk={
495.4f, -1416.8f, 30.2f 
};
break;
case 1:
unk={
429.6911f, -1385.4146f, 29.7266f 
};
break;
case 2:
unk={
417.9f, -1419.4f, 30.6f 
};
break;
case 3:
unk={
426.754f, -1386.5096f, 29.6201f 
};
break;
case 4:
unk={
493.7f, -1416.9f, 30.2f 
};
break;
case 5:
unk={
450.0146f, -1414.5232f, 34.4507f 
};
break;
case 6:
unk={
448.2621f, -1413.842f, 34.4501f 
};
break;
}
return unk;
}
BOOL func_218(var uParam0, Vector3 vParam1, var uParam2, var uParam3, float fParam4) // Position - 0x7C42{
if(!ENTITY::DOES_ENTITY_EXIST(uParam0->f_2)) uParam0->f_2=PED::CREATE_PED(PED_TYPE_MISSION, *uParam0, vParam1, fParam4, true, true);
_CONVERSATION_INITIALIZE_ACTOR(&(caLocal_423.f_244), 4, uParam0->f_2, "TaxiJames", 0, 1);
AUDIO::SET_AMBIENT_VOICE_NAME(uParam0->f_2, "TaxiJames");
if(!ENTITY::IS_ENTITY_DEAD(pedLocal_890, false)) PED::SET_PED_CONFIG_FLAG(pedLocal_890, 20, true);
if(!ENTITY::IS_ENTITY_DEAD(uParam0->f_2, false)){
PED::SET_PED_COMPONENT_VARIATION(uParam0->f_2, PV_COMP_HEAD, 1, 0, 0);
PED::SET_PED_COMPONENT_VARIATION(uParam0->f_2, PV_COMP_UPPR, 0, 0, 0);
PED::SET_PED_COMPONENT_VARIATION(uParam0->f_2, PV_COMP_LOWR, 0, 1, 0);
PED::SET_PED_COMPONENT_VARIATION(uParam0->f_2, PV_COMP_ACCS, 0, 0, 0);
PED::SET_PED_COMPONENT_VARIATION(uParam0->f_2, PV_COMP_JBIB, 0, 1, 0);
PED::SET_PED_RELATIONSHIP_GROUP_HASH(uParam0->f_2, uParam0->f_30);
PED::SET_PED_COMBAT_ATTRIBUTES(uParam0->f_2, BF_CanUseVehicles, true);
PED::SET_PED_COMBAT_ATTRIBUTES(uParam0->f_2, BF_0x66BB9FCC, true);
PED::SET_PED_COMBAT_ATTRIBUTES(uParam0->f_2, BF_AlwaysFlee, true);
PED::SET_PED_COMBAT_ATTRIBUTES(uParam0->f_2, BF_CanLeaveVehicle, false);
PED::SET_PED_SEEING_RANGE(uParam0->f_2, 300f);
PED::SET_PED_HEARING_RANGE(uParam0->f_2, 300f);
PED::SET_PED_ID_RANGE(uParam0->f_2, 300f);
PED::SET_BLOCKING_OF_NON_TEMPORARY_EVENTS(uParam0->f_2, true);
}
return true;
}
BOOL func_219(var uParam0, float fParam1, int iParam2, int iParam3) // Position - 0x7D52{
if(CAM::IS_SCREEN_FADED_IN() && !CAM::IS_SCREEN_FADING_IN() && !CAM::IS_SCREEN_FADING_OUT() && !CAM::IS_SCREEN_FADED_OUT() && !uParam0->f_142){
if(func_231(uParam0)){
func_133(uParam0, &(uParam0->f_43));
func_226(uParam0);
func_225(uParam0);
func_202(uParam0);
func_224(uParam0, iParam2, iParam3);
func_222(uParam0);
return func_220(uParam0, fParam1);
}}
return false;
}
BOOL func_220(var uParam0, float fParam1) // Position - 0x7DCA{
if(func_66(uParam0)==2){
ENTITY::IS_ENTITY_AT_COORD(uParam0->f_4, uParam0->f_17, fParam1 + 1f, fParam1 + 1f, 2f, !uParam0->f_140, true, 0);
if(func_221(uParam0->f_4, uParam0->f_17, true) <=fParam1 + 1f && PLAYER::GET_PLAYER_WANTED_LEVEL(PLAYER::GET_PLAYER_INDEX()) < 1 && func_149(true, true, true) && VEHICLE::IS_VEHICLE_ON_ALL_WHEELS(uParam0->f_4)) return func_126(uParam0, true, fParam1);
}elseif(ENTITY::IS_ENTITY_AT_COORD(uParam0->f_4, uParam0->f_17, fParam1 + 1f, fParam1 + 1f, 2f, !uParam0->f_140, true, 0) && PLAYER::GET_PLAYER_WANTED_LEVEL(PLAYER::GET_PLAYER_INDEX()) < 1 && func_149(true, true, true) && VEHICLE::IS_VEHICLE_ON_ALL_WHEELS(uParam0->f_4)){
return func_126(uParam0, true, fParam1);
}
return false;
}


float func_221(Entity eParam0, Vector3 vParam1, var uParam2, var uParam3, BOOL bParam4) // Position - 0x7EA1{
Vector3 entityCoords;
if(!ENTITY::IS_ENTITY_DEAD(eParam0, false)) entityCoords={
ENTITY::GET_ENTITY_COORDS(eParam0, true) 
};
else entityCoords={
ENTITY::GET_ENTITY_COORDS(eParam0, false) 
};
return MISC::GET_DISTANCE_BETWEEN_COORDS(entityCoords, vParam1, bParam4);
}


void func_222(var uParam0) // Position - 0x7EDB{
float num;
if(func_223(uParam0) && func_22(uParam0->f_81, 67108864) && PLAYER::GET_PLAYER_WANTED_LEVEL(PLAYER::PLAYER_ID())==0){
if(MISC::GET_GAME_TIMER() - iLocal_97 >=10000){
num=func_52(uParam0->f_17, true);
if(num > fLocal_95) iLocal_96=iLocal_96 + 1;
else iLocal_96=0;
fLocal_95=num;
iLocal_97=MISC::GET_GAME_TIMER();
}
if(iLocal_96 >=2 && !_CONVERSATION_IS_DIALOGUE_IN_PROGRESS()){
func_254(uParam0, 136, 1, false, true);
iLocal_96=0;
}
MISC::GET_GAME_TIMER() % 1000 < 50;
}else{
if(MISC::GET_GAME_TIMER() % 4000 < 50){
!func_223(uParam0);
!func_22(uParam0->f_81, 67108864);
}
if(PLAYER::GET_PLAYER_WANTED_LEVEL(PLAYER::PLAYER_ID()) > 0)if(iLocal_96 > 0) iLocal_96=0;
}
return;
}
BOOL func_223(var uParam0) // Position - 0x7FB1{
if(VEHICLE::IS_VEHICLE_DRIVEABLE(uParam0->f_4, false))if(!PED::IS_PED_INJURED(uParam0->f_3))if(PED::IS_PED_IN_VEHICLE(uParam0->f_3, uParam0->f_4, true)) return true;
return false;
}


void func_224(var uParam0, int iParam1, int iParam2) // Position - 0x7FE6{
if(func_223(uParam0) && func_22(uParam0->f_44, 4)){
if(VEHICLE::IS_VEHICLE_STOPPED(uParam0->f_4) || ENTITY::GET_ENTITY_SPEED(uParam0->f_4) < 3f && func_207(uParam0)){
if(!func_189(uParam0, 2)){
func_204(uParam0, 2);
}elseif(func_223(uParam0)){
if(func_116(uParam0, 2) > iParam1 && !func_189(uParam0, 14)){
if(func_35()) func_254(uParam0, 48, 1, false, false);
else func_254(uParam0, 48, 1, false, false);
func_317(uParam0, 2, 0, false);
if(func_189(uParam0, 10)) func_317(uParam0, 10, 0, false);
}
if(!func_189(uParam0, 3)){
func_317(uParam0, 3, 0, false);
}elseif(func_116(uParam0, 3) >=iParam2){
func_208(uParam0, 3, false);
func_361(uParam0, "Car not moving", 20);
}}}else{
if(func_189(uParam0, 2)) func_208(uParam0, 2, false);
if(func_189(uParam0, 3)) func_208(uParam0, 3, false);
}}
return;
}


void func_225(var uParam0) // Position - 0x8102{
if(PLAYER::IS_PLAYER_PRESSING_HORN(PLAYER::GET_PLAYER_INDEX()) && !func_22(uParam0->f_44, 2)){
func_67(&(uParam0->f_44), 2);
}elseif(!PLAYER::IS_PLAYER_PRESSING_HORN(PLAYER::GET_PLAYER_INDEX()) && func_22(uParam0->f_44, 2)){
func_20(&(uParam0->f_44), 2);
uParam0->f_47=uParam0->f_47 + 1;
func_55(9, 0);
}
if(uParam0->f_47 > 30){
func_254(uParam0, 47, 1, false, false);
uParam0->f_47=0;
uParam0->f_76=uParam0->f_76 + SYSTEM::CEIL(5f);
}
return;
}


void func_226(var uParam0) // Position - 0x818B{
if(!func_22(uParam0->f_44, 1)){
switch (uParam0->f_412){
case 0:
if(PLAYER::GET_PLAYER_WANTED_LEVEL(PLAYER::GET_PLAYER_INDEX()) >=1){
if(func_116(uParam0, 9) > 1f){
func_230(uParam0, PLAYER::GET_PLAYER_WANTED_LEVEL(PLAYER::GET_PLAYER_INDEX()));
if(uParam0->f_410 !=22) func_254(uParam0, 50, 1, true, false);
func_317(uParam0, 9, 0, false);
if(HUD::DOES_BLIP_EXIST(uParam0->f_9)){
HUD::SET_BLIP_ALPHA(uParam0->f_9, 0);
HUD::SET_BLIP_ROUTE(uParam0->f_9, false);
}
uParam0->f_140=1;
uParam0->f_412=1;
}}
break;
case 1:
if(!_CONVERSATION_IS_DIALOGUE_IN_PROGRESS() && func_116(uParam0, 9) > 4f){
func_254(uParam0, 52, 1, false, false);
uParam0->f_412=2;
}
break;
case 2:
if(func_229("TAXI_OBJ_POL", 0, 0)){
if(uParam0->f_410 !=22) func_254(uParam0, 51, 0, false, false);
uParam0->f_412=3;
}elseif(PLAYER::GET_PLAYER_WANTED_LEVEL(PLAYER::GET_PLAYER_INDEX()) < 1){
uParam0->f_412=3;
}
break;
case 3:
if(PLAYER::IS_PLAYER_WANTED_LEVEL_GREATER(PLAYER::GET_PLAYER_INDEX(), func_228(uParam0))){
func_230(uParam0, PLAYER::GET_PLAYER_WANTED_LEVEL(PLAYER::GET_PLAYER_INDEX()));
func_55(6, 0);
}
if(!func_227(uParam0))if(!AUDIO::IS_SCRIPTED_CONVERSATION_ONGOING())if(func_116(uParam0, 16) > 10f)if(uParam0->f_410 !=22) func_254(uParam0, 51, 1, false, false);
if(PLAYER::GET_PLAYER_WANTED_LEVEL(PLAYER::GET_PLAYER_INDEX()) < 1){
if(func_229("TAXI_OBJ_POL", 0, 0)) HUD::CLEAR_PRINTS();
if(HUD::DOES_BLIP_EXIST(uParam0->f_9)){
HUD::SET_BLIP_ALPHA(uParam0->f_9, 255);
HUD::SET_BLIP_ROUTE(uParam0->f_9, true);
}
uParam0->f_140=0;
uParam0->f_412=4;
}
break;
case 4:
if(!_CONVERSATION_IS_DIALOGUE_IN_PROGRESS()){
if(uParam0->f_410 !=22) func_254(uParam0, 53, 1, false, true);
func_55(7, func_228(uParam0));
func_230(uParam0, 0);
uParam0->f_412=5;
}
break;
case 5:
if(!_CONVERSATION_IS_DIALOGUE_IN_PROGRESS()){
func_208(uParam0, 9, false);
func_317(uParam0, 11, 0, false);
uParam0->f_412=0;
}
break;
}}
return;
}
BOOL func_227(var uParam0) // Position - 0x83AF{
return uParam0->f_110;
}

int func_228(var uParam0) // Position - 0x83BB{
return uParam0->f_106;
}
BOOL func_229(char* sParam0, int iParam1, const char* sParam2) // Position - 0x83C7{
HUD::BEGIN_TEXT_COMMAND_IS_MESSAGE_DISPLAYED(sParam0);
if(iParam1==1) HUD::ADD_TEXT_COMPONENT_SUBSTRING_TEXT_LABEL(sParam2);
return HUD::END_TEXT_COMMAND_IS_MESSAGE_DISPLAYED();
}


void func_230(var uParam0, int iParam1) // Position - 0x83E5{
if(uParam0->f_106 !=iParam1) uParam0->f_106=iParam1;
return;
}
BOOL func_231(var uParam0) // Position - 0x83FC{
if(VEHICLE::IS_VEHICLE_DRIVEABLE(uParam0->f_4, false)){
if(!PED::IS_PED_INJURED(uParam0->f_3)){
if(!PED::IS_PED_IN_VEHICLE(uParam0->f_3, uParam0->f_4, true) && !PED::IS_PED_GETTING_INTO_A_VEHICLE(uParam0->f_3)){
func_361(uParam0, "Passenger left car.", 9);
}elseif(func_241(uParam0)){
if(func_229("TAXI_OBJ_PICKUP", 0, 0)) HUD::CLEAR_THIS_PRINT("TAXI_OBJ_PICKUP");
if(CAM::IS_SCREEN_FADED_IN()) return true;
}else{
MISC::GET_GAME_TIMER() % 1000 < 50;
func_232(uParam0, true);
}}}
return false;
}


void func_232(var uParam0, BOOL bParam1) // Position - 0x848B{
func_240(uParam0, uParam0->f_3);
if(VEHICLE::IS_VEHICLE_DRIVEABLE(uParam0->f_4, false)){
if(!PED::IS_PED_IN_VEHICLE(uParam0->f_2, uParam0->f_4, false)){
if(!func_189(uParam0, 14)){
if(_CONVERSATION_IS_DIALOGUE_IN_PROGRESS()) func_239(1);
func_190(uParam0, 11, true);
func_234(uParam0, true);
func_317(uParam0, 14, 0f, true);
uParam0->f_410 < 15;
}elseif(bParam1){
if(!func_223(uParam0)){
MISC::GET_GAME_TIMER() % 1000 < 50;
if(PED::IS_PED_IN_ANY_VEHICLE(uParam0->f_2, false))if(func_116(uParam0, 15) > 5f) func_317(uParam0, 15, 0f, true);
if(func_116(uParam0, 14) > 20f) func_361(uParam0, "Player not in taxi. - YELL RETURN", 8);
}elseif(func_116(uParam0, 14) > 20f){
if(func_233(uParam0->f_4, true) > 40f) func_361(uParam0, "Player not in taxi.", 21);
else func_361(uParam0, "Player not in taxi. - YELL RETURN 2", 8);
}}}}
return;
}


float func_233(Ped pedParam0, BOOL bParam1) // Position - 0x8596{
return func_51(PLAYER::GET_PLAYER_PED(PLAYER::GET_PLAYER_INDEX()), pedParam0, bParam1);
}


void func_234(var uParam0, BOOL bParam1) // Position - 0x85AE{
if(VEHICLE::IS_VEHICLE_DRIVEABLE(uParam0->f_4, false)){
if(bParam1){
if(HUD::DOES_BLIP_EXIST(uParam0->f_8)){
HUD::SET_BLIP_ALPHA(uParam0->f_8, 0);
HUD::SET_BLIP_ROUTE(uParam0->f_8, false);
func_238(uParam0, &(uParam0->f_98), 4, 3);
}elseif(HUD::DOES_BLIP_EXIST(uParam0->f_9)){
HUD::SET_BLIP_ALPHA(uParam0->f_9, 0);
HUD::SET_BLIP_ROUTE(uParam0->f_9, false);
HUD::CLEAR_PRINTS();
if(func_223(uParam0)) func_254(uParam0, 2, 1, false, false);
else func_238(uParam0, &(uParam0->f_98), 4, 3);
}
func_235(uParam0, false, false);
}elseif(HUD::DOES_BLIP_EXIST(uParam0->f_10)){
HUD::REMOVE_BLIP(&(uParam0->f_10));
if(HUD::DOES_BLIP_EXIST(uParam0->f_8)){
HUD::SET_BLIP_ALPHA(uParam0->f_8, 255);
HUD::SET_BLIP_ROUTE(uParam0->f_8, true);
}elseif(HUD::DOES_BLIP_EXIST(uParam0->f_9)){
if(uParam0->f_411==5 && uParam0->f_410==17){
HUD::SET_BLIP_ALPHA(uParam0->f_9, 0);
HUD::SET_BLIP_ROUTE(uParam0->f_9, false);
}elseif(uParam0->f_411 !=4){
HUD::SET_BLIP_ALPHA(uParam0->f_9, 255);
HUD::SET_BLIP_ROUTE(uParam0->f_9, true);
}}
HUD::CLEAR_PRINTS();
}}
return;
}


void func_235(var uParam0, BOOL bParam1, BOOL bParam2) // Position - 0x86CC{
if(bParam1) func_442(uParam0);
if(!HUD::DOES_BLIP_EXIST(uParam0->f_10)){
uParam0->f_10=func_215(uParam0->f_4, true, false);
HUD::SET_BLIP_NAME_FROM_TEXT_FILE(uParam0->f_10, "TAXI_BLIP_CAR");
HUD::SET_BLIP_ROUTE(uParam0->f_10, true);
func_236(uParam0);
if(bParam2){
HUD::CLEAR_PRINTS();
func_254(uParam0, 3, 1, false, false);
}}
return;
}


void func_236(var uParam0) // Position - 0x8727{
func_317(uParam0, 14, 0, false);
func_237();
return;
}


void func_237() // Position - 0x873D{
Vehicle playersLastVehicle;
playersLastVehicle=PLAYER::GET_PLAYERS_LAST_VEHICLE();
if(VEHICLE::IS_VEHICLE_DRIVEABLE(playersLastVehicle, false)) AUDIO::PLAY_SOUND_FROM_ENTITY(-1, "Radio_Off" /*Off*/, playersLastVehicle, "TAXI_SOUNDS", false, 0);
return;
}


void func_238(var uParam0, int iParam1, int iParam2, int iParam3) // Position - 0x8766{
if(!func_22(*iParam1, iParam2)){
HUD::CLEAR_PRINTS();
func_254(uParam0, iParam3, 1, false, false);
func_67(iParam1, iParam2);
}
return;
}


void func_239(int iParam0) // Position - 0x8792{
Global_22736=iParam0;
return;
}


void func_240(var uParam0, Ped pedParam1) // Position - 0x879F{
if(ENTITY::DOES_ENTITY_EXIST(pedParam1)){
if(!PED::IS_PED_INJURED(pedParam1)){
if(PLAYER::HAS_PLAYER_DAMAGED_AT_LEAST_ONE_PED(PLAYER::PLAYER_ID())){
if(WEAPON::HAS_PED_BEEN_DAMAGED_BY_WEAPON(pedParam1, joaat("WEAPON_STUNGUN"), 0) || WEAPON::HAS_PED_BEEN_DAMAGED_BY_WEAPON(pedParam1, 0, 2) || WEAPON::HAS_PED_BEEN_DAMAGED_BY_WEAPON(pedParam1, 0, 1)) func_361(uParam0, "Passenger injured by player with weapon.", 14);
PLAYER::CLEAR_PLAYER_HAS_DAMAGED_AT_LEAST_ONE_PED(PLAYER::PLAYER_ID());
}}}
return;
}
BOOL func_241(var uParam0) // Position - 0x8804{
if(VEHICLE::IS_VEHICLE_DRIVEABLE(uParam0->f_4, false)){
if(VEHICLE::GET_PED_IN_VEHICLE_SEAT(uParam0->f_4, -1, false)==uParam0->f_2){
if(func_189(uParam0, 14)) func_242(uParam0);
func_234(uParam0, false);
return true;
}}
return false;
}


void func_242(var uParam0) // Position - 0x8846{
func_208(uParam0, 14, false);
func_208(uParam0, 15, false);
func_244();
if(func_243()) func_239(0);
return;
}
BOOL func_243() // Position - 0x8870{
if(Global_22736==1) return true;
return false;
}


void func_244() // Position - 0x8887{
Vehicle playersLastVehicle;
playersLastVehicle=PLAYER::GET_PLAYERS_LAST_VEHICLE();
if(VEHICLE::IS_VEHICLE_DRIVEABLE(playersLastVehicle, false)) AUDIO::PLAY_SOUND_FROM_ENTITY(-1, "Radio_On", playersLastVehicle, "TAXI_SOUNDS", false, 0);
return;
}


void func_245(var uParam0, var uParam1) // Position - 0x88B0{
func_132(uParam0, uParam1->f_2, true, true);
if(VEHICLE::IS_VEHICLE_DRIVEABLE(uParam1->f_3, false))if(ENTITY::HAS_ENTITY_BEEN_DAMAGED_BY_ENTITY(uParam1->f_3, PLAYER::PLAYER_PED_ID(), true))if(!_CONVERSATION_IS_DIALOGUE_IN_PROGRESS()) func_361(&caLocal_423, "Target's vehicle has been damaged by the player", 3);
else func_151();
elseif(!_CONVERSATION_IS_DIALOGUE_IN_PROGRESS()) func_361(&caLocal_423, "Target's vehicle isn't driveable", 13);
else func_151();
return;
}

int func_246(var uParam0, var uParam1, var uParam2, var uParam3, float fParam4) // Position - 0x891A{
uParam0->f_17={
uParam1 
};
uParam0->f_10=fParam4;
uParam0->f_3=VEHICLE::CREATE_VEHICLE(uParam0->f_1, uParam0->f_17, uParam0->f_10, true, true, false);
VEHICLE::SET_VEHICLE_MODEL_IS_SUPPRESSED(uParam0->f_1, true);
STREAMING::SET_MODEL_AS_NO_LONGER_NEEDED(uParam0->f_1);
uLocal_417[0]=VEHICLE::CREATE_VEHICLE(hLocal_888, 404.9912f, -1423.9735f, 28.4638f, 227.5235f, true, true, false);
uLocal_417[1]=VEHICLE::CREATE_VEHICLE(hLocal_888, 402.2958f, -1427.0176f, 28.4632f, 226.6982f, true, true, false);
uLocal_417[2]=VEHICLE::CREATE_VEHICLE(hLocal_889, 398.415f, -1428.1665f, 28.4504f, 226.4081f, true, true, false);
VEHICLE::SET_VEHICLE_DOORS_LOCKED(uLocal_417[0], 2);
VEHICLE::SET_VEHICLE_DOORS_LOCKED(uLocal_417[1], 2);
VEHICLE::SET_VEHICLE_DOORS_LOCKED(uLocal_417[2], 2);
VEHICLE::SET_VEHICLE_NUMBER_PLATE_TEXT(uLocal_417[0], "BRAVEST");
VEHICLE::SET_VEHICLE_NUMBER_PLATE_TEXT(uLocal_417[1], "BOLDEST");
VEHICLE::SET_VEHICLE_NUMBER_PLATE_TEXT(uLocal_417[2], "BADDEST");
ENTITY::SET_ENTITY_HEALTH(uParam0->f_3, 800, 0);
VEHICLE::SET_VEHICLE_NUMBER_PLATE_TEXT(uParam0->f_3, "PUSSYWAG");
VEHICLE::SET_VEHICLE_DISABLE_TOWING(uParam0->f_3, true);
VEHICLE::SET_VEHICLE_ALARM(uParam0->f_3, true);
uParam0->f_15=VEHICLE::GET_VEHICLE_ENGINE_HEALTH(uParam0->f_3);
uParam0->f_31=1;
ENTITY::SET_ENTITY_ONLY_DAMAGED_BY_PLAYER(uParam0->f_3, true);
func_251(caLocal_423.f_14, true, 1114636288);
func_251(uLocal_958, true, 15f);
func_251(uLocal_961, true, 15f);
VEHICLE::SET_VEHICLE_DOORS_LOCKED(uParam0->f_3, 2);
return 1;
}
BOOL func_247() // Position - 0x8A90{
if(!STREAMING::HAS_MODEL_LOADED(hLocal_853)){
func_143("TAXI_ASSETS_FC_STAGE_02 - Loading escape ped", &iLocal_896, 1000);
return false;
}
if(!STREAMING::HAS_MODEL_LOADED(hLocal_853.f_1)){
func_143("TAXI_ASSETS_FC_STAGE_02 - Loading escape car", &iLocal_896, 1000);
return false;
}
if(!STREAMING::HAS_MODEL_LOADED(hLocal_888)){
func_143("TAXI_ASSETS_FC_STAGE_02 - Loading ambulance", &iLocal_896, 1000);
return false;
}
if(!STREAMING::HAS_MODEL_LOADED(hLocal_889)){
func_143("TAXI_ASSETS_FC_STAGE_02 - Loading hospital car 2", &iLocal_896, 1000);
return false;
}
if(!VEHICLE::HAS_VEHICLE_RECORDING_BEEN_LOADED(120, "txm_fc_h1_")){
func_143("TAXI_ASSETS_FC_STAGE_02 - Vehicle Recording Loading txm_fc_h1_...", &iLocal_896, 1000);
return false;
}
if(!VEHICLE::HAS_VEHICLE_RECORDING_BEEN_LOADED(0, "taxi_oj_fc3")){
func_143("TAXI_ASSETS_FC_STAGE_02 - Vehicle Recording Loading taxi_oj_fc3...", &iLocal_896, 1000);
return false;
}
if(!TASK::GET_IS_WAYPOINT_RECORDING_LOADED(&uLocal_976)){
func_143("TAXI_ASSETS_FC_STAGE_02 - Way point Recording Loading taxi_oj_fc...", &iLocal_896, 1000);
return false;
}
if(!STREAMING::HAS_ANIM_DICT_LOADED("veh@truck@ds@base")) return false;
return true;
}


void func_248(var uParam0, var uParam1) // Position - 0x8B7E{
if(VEHICLE::IS_VEHICLE_DRIVEABLE(uParam0->f_4, false)){
if(!PED::IS_PED_IN_VEHICLE(uParam0->f_2, uParam0->f_4, false)){
if(!func_189(uParam0, 14)){
if(HUD::DOES_BLIP_EXIST(*uParam1) && HUD::GET_BLIP_ALPHA(*uParam1) > 0) HUD::SET_BLIP_ALPHA(*uParam1, 0);
func_235(uParam0, false, false);
func_254(uParam0, 2, 1, false, false);
}elseif(func_116(uParam0, 14) > 20f){
func_361(uParam0, "Player not in taxi - HANDLE BLIPS", 8);
}}else{
if(func_189(uParam0, 14)){
func_317(uParam0, 2, 0, false);
func_242(uParam0);
}
if(HUD::DOES_BLIP_EXIST(uParam0->f_10)) HUD::REMOVE_BLIP(&(uParam0->f_10));
if(HUD::DOES_BLIP_EXIST(*uParam1) && HUD::GET_BLIP_ALPHA(*uParam1) < 255 && PLAYER::GET_PLAYER_WANTED_LEVEL(PLAYER::GET_PLAYER_INDEX()) < 1){
HUD::SET_BLIP_ALPHA(*uParam1, 255);
HUD::SET_BLIP_ROUTE(*uParam1, true);
}}}
return;
}


void func_249(var uParam0) // Position - 0x8C6A{
func_250(uParam0, 1000);
if(!ENTITY::IS_ENTITY_DEAD(uParam0->f_3, false) && !ENTITY::IS_ENTITY_DEAD(PLAYER::PLAYER_PED_ID(), false)){
TASK::CLEAR_PED_TASKS_IMMEDIATELY(uParam0->f_3);
TASK::TASK_TURN_PED_TO_FACE_ENTITY(uParam0->f_3, PLAYER::PLAYER_PED_ID(), 0);
}
func_151();
func_242(uParam0);
return;
}


void func_250(var uParam0, int iParam1) // Position - 0x8CB6{
if(CAM::DOES_CAM_EXIST(*uParam0)) CAM::DESTROY_CAM(*uParam0, false);
if(iParam1 > 0) CAM::RENDER_SCRIPT_CAMS(false, true, iParam1, true, false, 0);
else CAM::RENDER_SCRIPT_CAMS(false, false, 3000, true, false, 0);
return;
}


void func_251(float fParam0, float fParam1, float fParam2, BOOL bParam3, int iParam4) // Position - 0x8CF0{
Vector3 vector;
Vector3 vector2;
vector={
func_38(fParam0, 1f, -iParam4, -iParam4, -iParam4) 
};
vector2={
func_38(fParam0, 1f, iParam4, iParam4, iParam4) 
};
vector.f_2=vector.f_2 - 22f;
vector2.f_2=vector2.f_2 + 22f;
if(!bParam3){
PATHFIND::SET_ROADS_IN_AREA(vector, vector2, false, true);
}else{
PATHFIND::SET_ROADS_BACK_TO_ORIGINAL(vector, vector2, 1);
PED::CLEAR_PED_NON_CREATION_AREA();
}
return;
}


void func_252() // Position - 0x8D65{
func_67(&(caLocal_423.f_55), 2);
func_67(&(caLocal_423.f_55), 4);
func_67(&(caLocal_423.f_55), 16);
func_67(&(caLocal_423.f_55), 64);
func_67(&(caLocal_423.f_55), 256);
func_67(&(caLocal_423.f_55), 512);
func_67(&(caLocal_423.f_55), 1024);
func_67(&(caLocal_423.f_55), 2048);
func_67(&(caLocal_423.f_55), 1073741824);
func_67(&(caLocal_423.f_55), 8388608);
func_67(&(caLocal_423.f_55), 33554432);
func_67(&(caLocal_423.f_55), 16777216);
func_67(&(caLocal_423.f_55), 4096);
func_67(&(caLocal_423.f_100), 8);
func_67(&(caLocal_423.f_100), 2048);
func_67(&(caLocal_423.f_100), 256);
func_67(&uLocal_1125, 2);
return;
}


void func_253(var uParam0) // Position - 0x8E35{
PLAYER::CLEAR_PLAYER_HAS_DAMAGED_AT_LEAST_ONE_PED(PLAYER::PLAYER_ID());
PLAYER::SET_PLAYER_CONTROL(PLAYER::GET_PLAYER_INDEX(), true, 0);
func_250(uParam0, 1000);
return;
}


void func_254(var uParam0, int iParam1, int iParam2, BOOL bParam3, BOOL bParam4) // Position - 0x8E58{
uParam0->f_416=iParam1;
if(bParam4){
func_317(uParam0, 16, 4f, false);
if(func_255(uParam0)) func_48();
}
func_279(uParam0, iParam2, bParam3);
return;
}
BOOL func_255(var uParam0) // Position - 0x8E8D{
var string2;
var string1;
TEXT_LABEL_ASSIGN_STRING(&string2, uParam0->f_143, 24);
if(_CONVERSATION_IS_DIALOGUE_IN_PROGRESS()){
string1={
func_257() 
};
if(!MISC::IS_STRING_NULL_OR_EMPTY(&string1)){
TEXT_LABEL_APPEND_STRING(&string2, "_obj1", 24);
if(MISC::ARE_STRINGS_EQUAL(&string1, &string2)) return true;
TEXT_LABEL_ASSIGN_STRING(&string2, uParam0->f_143, 24);
TEXT_LABEL_APPEND_STRING(&string2, "_gret1", 24);
func_256(&string2);
if(MISC::ARE_STRINGS_EQUAL(&string1, &string2)) return true;
}}
return false;
}


void func_256(char* sParam0) // Position - 0x8EF3{
TEXT_LABEL_APPEND_STRING(sParam0, "F", 24);
return;
}


struct<6> func_257() // Position - 0x8F03{
var unk;
TEXT_LABEL_ASSIGN_STRING(&unk, "NULL", 24);
if(Global_21725==4) return Global_21344;
return unk;
}
BOOL func_258(var uParam0) // Position - 0x8F27{
if(VEHICLE::IS_VEHICLE_DRIVEABLE(uParam0->f_4, false))if(!PED::IS_PED_INJURED(uParam0->f_3))if(PED::IS_PED_GETTING_INTO_A_VEHICLE(uParam0->f_3) && MISC::GET_GAME_TIMER() - iLocal_89 > 500 || PED::IS_PED_IN_VEHICLE(uParam0->f_3, uParam0->f_4, true)) return true;
return false;
}


void func_259() // Position - 0x8F7A{
STREAMING::REQUEST_MODEL(hLocal_853);
STREAMING::REQUEST_MODEL(hLocal_853.f_1);
STREAMING::REQUEST_MODEL(hLocal_888);
STREAMING::REQUEST_MODEL(hLocal_889);
VEHICLE::REQUEST_VEHICLE_RECORDING(120, "txm_fc_h1_");
VEHICLE::REQUEST_VEHICLE_RECORDING(0, "taxi_oj_fc3");
TASK::REQUEST_WAYPOINT_RECORDING(&uLocal_976);
STREAMING::REQUEST_ANIM_DICT("veh@truck@ds@base");
return;
}
BOOL func_260(var uParam0, BOOL bParam1, int iParam2) // Position - 0x8FC2{
Ped ped;
var unk;
int flags;
int taskSequenceId;
float radius;
if(VEHICLE::IS_VEHICLE_DRIVEABLE(uParam0->f_4, false)){
if(!PED::IS_PED_IN_VEHICLE(uParam0->f_2, uParam0->f_4, false)){
MISC::GET_GAME_TIMER() % 1000 < 50;
func_232(uParam0, true);
if(func_33()) PLAYER::SET_PLAYER_CONTROL(PLAYER::GET_PLAYER_INDEX(), true, 0);
if(TASK::GET_SCRIPT_TASK_STATUS(uParam0->f_3, SCRIPT_TASK_GO_STRAIGHT_TO_COORD)==1 || TASK::GET_SCRIPT_TASK_STATUS(uParam0->f_3, SCRIPT_TASK_GO_STRAIGHT_TO_COORD)==0){
TASK::CLEAR_PED_TASKS_IMMEDIATELY(uParam0->f_3);
uParam0->f_48=0;
iLocal_87=0;
TASK::TASK_TURN_PED_TO_FACE_ENTITY(uParam0->f_3, PLAYER::PLAYER_PED_ID(), 0);
}}elseif(PLAYER::IS_PLAYER_WANTED_LEVEL_GREATER(PLAYER::GET_PLAYER_INDEX(), 0)){
func_277(uParam0);
if(uParam0->f_48 > 1){
TASK::CLEAR_SEQUENCE_TASK(&taskSequenceId);
TASK::OPEN_SEQUENCE_TASK(&taskSequenceId);
TASK::TASK_FOLLOW_NAV_MESH_TO_COORD(0, uParam0->f_11, uParam0->f_6, 20000, 1048576000, 0, 1193033728);
TASK::TASK_TURN_PED_TO_FACE_ENTITY(0, uParam0->f_4, 0);
TASK::CLOSE_SEQUENCE_TASK(taskSequenceId);
TASK::TASK_PERFORM_SEQUENCE(uParam0->f_3, taskSequenceId);
uParam0->f_48=0;
}}else{
if(func_189(uParam0, 14)){
func_242(uParam0);
func_234(uParam0, false);
}
if(func_189(uParam0, 9)){
func_208(uParam0, 9, false);
HUD::CLEAR_PRINTS();
if(HUD::DOES_BLIP_EXIST(uParam0->f_8)){
HUD::SET_BLIP_ALPHA(uParam0->f_8, 255);
HUD::SET_BLIP_ROUTE(uParam0->f_8, true);
}}
if(!ENTITY::IS_ENTITY_DEAD(uParam0->f_3, false)){
radius=(ENTITY::GET_ENTITY_SPEED(uParam0->f_4) / 5f) + 4f;
if(uParam0->f_141 && func_276(uParam0, uParam0->f_3) > 300f) func_361(uParam0, "Left Passenger", 8);
switch (uParam0->f_48){
case 0:
if(TASK::GET_SCRIPT_TASK_STATUS(uParam0->f_3, SCRIPT_TASK_PERFORM_SEQUENCE) !=1 || func_51(PLAYER::PLAYER_PED_ID(), uParam0->f_3, true) < 20f && func_221(uParam0->f_3, uParam0->f_11, true) <=28f && func_221(uParam0->f_4, uParam0->f_11, true) <=28f)if(func_273(uParam0, iParam2)) uParam0->f_48=uParam0->f_48 + 1;
break;
case 1:
if(func_272(uParam0, 0, 28f, radius, 4f)){
uParam0->f_138=1;
if(bLocal_94){
uParam0->f_7=func_271(uParam0->f_4, uParam0->f_3);
ped=func_270(uParam0, &unk);
if(!ENTITY::IS_ENTITY_DEAD(ped, false)){
if(unk==uParam0->f_7){
if(uParam0->f_7==1) flags=262144;
elseif(uParam0->f_7==2) flags=131072;
TASK::TASK_LEAVE_ANY_VEHICLE(ped, 0, flags);
}
else{
TASK::TASK_LEAVE_ANY_VEHICLE(ped, 0, 0);
}}
if(uParam0->f_411==0){
if(VEHICLE::IS_ENTRY_POINT_FOR_SEAT_CLEAR(uParam0->f_3, uParam0->f_4, 0, false, false)){
if(uParam0->f_7==2){
uParam0->f_7=0;
if(!ENTITY::IS_ENTITY_DEAD(ped, false)) TASK::TASK_LEAVE_ANY_VEHICLE(ped, 0, 4096);
}
}}}
TASK::CLEAR_PED_TASKS(uParam0->f_3);
TASK::TASK_ENTER_VEHICLE(uParam0->f_3, uParam0->f_4, 20000, uParam0->f_7, uParam0->f_6, 1, 0);
uParam0->f_48=uParam0->f_48 + 1;
}
else{
if(bParam1) GRAPHICS::DRAW_DEBUG_SPHERE(ENTITY::GET_ENTITY_COORDS(uParam0->f_3, true), radius, 0, 0, 255, 150);
if(!func_207(uParam0)){
TASK::CLEAR_PED_TASKS(uParam0->f_3);
}elseif(TASK::GET_SCRIPT_TASK_STATUS(uParam0->f_3, SCRIPT_TASK_PERFORM_SEQUENCE) !=1 && TASK::GET_SCRIPT_TASK_STATUS(uParam0->f_3, SCRIPT_TASK_PERFORM_SEQUENCE) !=0 && TASK::GET_SCRIPT_TASK_STATUS(uParam0->f_3, SCRIPT_TASK_PERFORM_SEQUENCE) !=7 && func_276(uParam0, uParam0->f_3) > 8f){
TASK::CLEAR_SEQUENCE_TASK(&(uParam0->f_243));
TASK::OPEN_SEQUENCE_TASK(&(uParam0->f_243));
TASK::TASK_TURN_PED_TO_FACE_ENTITY(0, PLAYER::PLAYER_PED_ID(), 0);
if(uParam0->f_411 !=9) TASK::TASK_PLAY_ANIM(0, "gestures@m@standing@casual", "gesture_nod_yes_hard", 8f, -8f, -1, 48, 0, false, false, false);
else TASK::TASK_PLAY_ANIM(0, "oddjobs@towingcome_here", "come_here_idle_c", 8f, -8f, -1, 48, 0, false, false, false);
TASK::CLOSE_SEQUENCE_TASK(uParam0->f_243);
TASK::TASK_PERFORM_SEQUENCE(uParam0->f_3, uParam0->f_243);
}
if(ENTITY::IS_ENTITY_PLAYING_ANIM(uParam0->f_3, "oddjobs@towingcome_here", "come_here_idle_c", 3)) ENTITY::SET_ENTITY_ANIM_SPEED(uParam0->f_3, "oddjobs@towingcome_here", "come_here_idle_c", 1.75f);
}
break;
case 2:
if(bLocal_94){
if(func_51(uParam0->f_4, uParam0->f_3, true) < 3f){
if(!func_269(uParam0, true)){
TASK::CLEAR_PED_TASKS_IMMEDIATELY(uParam0->f_3);
func_361(uParam0, "You had a dead body in your back seat.", 5);
}elseif(!func_268(uParam0->f_4)){
TASK::CLEAR_PED_TASKS_IMMEDIATELY(uParam0->f_3);
func_361(uParam0, "You had a dead body in your back seat.", 0);
}}
}
func_266(uParam0);
if(func_276(uParam0, uParam0->f_3) < radius || func_33()){
if(PED::IS_PED_IN_VEHICLE(uParam0->f_2, uParam0->f_4, false)){
if(func_262(uParam0)){
func_261(uParam0);
iLocal_89=MISC::GET_GAME_TIMER();
PED::SET_PED_CONFIG_FLAG(uParam0->f_3, 26, true);
func_208(uParam0, 5, false);
HUD::CLEAR_GPS_FLAGS();
STATS::STAT_GET_FLOAT(uParam0->f_428, &(uParam0->f_42), -1);
PED::SET_PED_CAN_PLAY_AMBIENT_BASE_ANIMS(uParam0->f_3, false);
return true;
}}
}
elseif(bParam1){
GRAPHICS::DRAW_DEBUG_SPHERE(ENTITY::GET_ENTITY_COORDS(uParam0->f_3, true), radius, 0, 0, 255, 150);
}
break;
}}}}
return false;
}


void func_261(var uParam0) // Position - 0x94D5{
if(HUD::DOES_BLIP_EXIST(uParam0->f_8)){
HUD::SET_BLIP_ROUTE(uParam0->f_8, false);
HUD::REMOVE_BLIP(&(uParam0->f_8));
}
return;
}
BOOL func_262(var uParam0) // Position - 0x94F9{
Vector3 vector;
var unk3;
Vector3 vector2;
Ped ped;
var unk8;
int flags;
int num;
Vector3 offsetFromEntityInWorldCoords;
func_143("UPDATE_PASSENGER_ENTER_CUTSCENE", &(uParam0->f_78), 1000);
num=-1;
if(!ENTITY::IS_ENTITY_DEAD(uParam0->f_3, false) && !ENTITY::IS_ENTITY_DEAD(uParam0->f_4, false)) func_154();
if(bLocal_94) iLocal_86=10;
if(iLocal_86 < 7 && iLocal_86 > 0 && !bLocal_94)if(func_150(iLocal_88)) iLocal_86=7;
switch (iLocal_86){
case 0:
if(func_126(uParam0, false, 1084227584) && func_149(true, true, true)){
if(func_269(uParam0, true)){
iLocal_88=MISC::GET_GAME_TIMER();
SYSTEM::SETTIMERA(0);
iLocal_86=1;
}else{
func_361(uParam0, "You had a dead body in your back seat.", 5);
}}
break;
case 1:
if(SYSTEM::TIMERA() > 500){
uParam0->f_7=func_271(uParam0->f_4, uParam0->f_3);
ped=func_270(uParam0, &unk8);
if(!ENTITY::IS_ENTITY_DEAD(ped, false)){
if(unk8==uParam0->f_7){
if(uParam0->f_7==1) flags=262144;
else flags=131072;
TASK::TASK_LEAVE_ANY_VEHICLE(ped, 0, flags);
}else{
TASK::TASK_LEAVE_ANY_VEHICLE(ped, 0, 0);
}}
if(uParam0->f_411==0){
if(VEHICLE::IS_ENTRY_POINT_FOR_SEAT_CLEAR(uParam0->f_3, uParam0->f_4, 0, false, false)){
uParam0->f_7=0;
if(!ENTITY::IS_ENTITY_DEAD(ped, false)) TASK::TASK_LEAVE_ANY_VEHICLE(ped, 0, 4096);
}}
iLocal_86=2;
}
break;
case 2:
if(uParam0->f_7==0){
vector2={
1.5f, 0f, -0.6422f 
};
vector={
-1.4309f, 3.958f, 3.5037f 
};
unk3={
0.1017f, 1.3354f, -0.0925f 
};
}elseif(uParam0->f_7==2){
vector2={
1.5f, -1f, -0.6422f 
};
vector={
1.4309f, 3.958f, 0.5037f 
};
unk3={
0.1017f, 1.3354f, -0.0925f 
};
}else{
vector2={
-1.5f, -1f, -0.6422f 
};
vector={
-1.4823f, 4.2333f, 0.5939f 
};
unk3={
-0.4718f, 1.4282f, 0.3619f 
};
}
num=func_191(&(uParam0->f_409), ENTITY::GET_OFFSET_FROM_ENTITY_IN_WORLD_COORDS(uParam0->f_4, 0f, 2.2f, 0.275f), ENTITY::GET_OFFSET_FROM_ENTITY_IN_WORLD_COORDS(uParam0->f_4, vector), true);
if(num==1){
vector.f_2=vector.f_2 + 1.5f;
if(uParam0->f_7==2) unk3={
0.7632f, 1.4884f, 0.4369f 
};
}
if(num !=-1){
func_142(0, false, true);
MISC::CLEAR_AREA_OF_PEDS(ENTITY::GET_ENTITY_COORDS(uParam0->f_4, true), 3f, 0);
MISC::CLEAR_AREA_OF_OBJECTS(ENTITY::GET_ENTITY_COORDS(uParam0->f_4, true), 25f, 0);
HUD::SET_SCRIPT_VARIABLE_HUD_COLOUR(1);
HUD::CLEAR_PRINTS();
func_121();
func_279(uParam0, 0, false);
offsetFromEntityInWorldCoords={
ENTITY::GET_OFFSET_FROM_ENTITY_IN_WORLD_COORDS(uParam0->f_4, vector2) 
};
ENTITY::SET_ENTITY_COORDS(uParam0->f_3, offsetFromEntityInWorldCoords, true, false, false, true);
ENTITY::SET_ENTITY_HEADING(uParam0->f_3, func_264(uParam0));
func_145(uParam0, 1f, 1f, 1f, 0f, 0f, 0f, 1112014848);
CAM::SET_CAM_COORD(*uParam0, ENTITY::GET_OFFSET_FROM_ENTITY_IN_WORLD_COORDS(uParam0->f_4, vector));
CAM::POINT_CAM_AT_ENTITY(*uParam0, uParam0->f_4, unk3, true);
CAM::SET_CAM_ACTIVE(*uParam0, true);
CAM::RENDER_SCRIPT_CAMS(true, false, 3000, true, false, 0);
PED::FORCE_PED_AI_AND_ANIMATION_UPDATE(uParam0->f_3, false, false);
TASK::TASK_ENTER_VEHICLE(uParam0->f_3, uParam0->f_4, 20000, uParam0->f_7, uParam0->f_6, 3, 0);
iLocal_86=5;
}
break;
case 5:
func_143("TAXI_PED_ENTER_CUT_WAIT", &(uParam0->f_78), 1000);
if(SYSTEM::TIMERA() > 3500) iLocal_86=9;
break;
case 6:
break;
case 7:
if(!ENTITY::IS_ENTITY_DEAD(uParam0->f_3, false) && !ENTITY::IS_ENTITY_DEAD(uParam0->f_4, false)){
if(!PED::IS_PED_IN_ANY_VEHICLE(uParam0->f_3, false)){
PED::SET_PED_INTO_VEHICLE(uParam0->f_3, uParam0->f_4, uParam0->f_7);
VEHICLE::SET_VEHICLE_DOOR_SHUT(uParam0->f_4, func_263(uParam0->f_7), true);
}
CAM::RENDER_SCRIPT_CAMS(false, false, 3000, true, false, 0);
CAM::DESTROY_CAM(*uParam0, false);
CAM::DESTROY_CAM(uParam0->f_1, false);
CAM::SET_GAMEPLAY_CAM_RELATIVE_HEADING(0);
CAM::SET_GAMEPLAY_CAM_RELATIVE_PITCH(0, 1065353216);
CAM::DO_SCREEN_FADE_IN(800);
HUD::SET_SCRIPT_VARIABLE_HUD_COLOUR(1);
HUD::CLEAR_PRINTS();
func_121();
func_279(uParam0, 0, false);
iLocal_86=8;
}
break;
case 8:
if(CAM::IS_SCREEN_FADED_IN() && !CAM::IS_SCREEN_FADING_IN()){
func_135(true, true, true);
return true;
}
break;
case 9:
CAM::RENDER_SCRIPT_CAMS(false, false, 3000, true, false, 0);
CAM::DESTROY_CAM(*uParam0, false);
CAM::DESTROY_CAM(uParam0->f_1, false);
CAM::SET_GAMEPLAY_CAM_RELATIVE_HEADING(0);
CAM::SET_GAMEPLAY_CAM_RELATIVE_PITCH(0, 1065353216);
func_135(true, true, true);
return true;
case 10:
if(!ENTITY::IS_ENTITY_DEAD(uParam0->f_3, false) && !ENTITY::IS_ENTITY_DEAD(uParam0->f_4, false))if(PED::IS_PED_GETTING_INTO_A_VEHICLE(uParam0->f_3) || PED::IS_PED_IN_ANY_VEHICLE(uParam0->f_3, true)) return true;
elseif(TASK::GET_SCRIPT_TASK_STATUS(PLAYER::PLAYER_PED_ID(), SCRIPT_TASK_ENTER_VEHICLE) !=1 && TASK::GET_SCRIPT_TASK_STATUS(PLAYER::PLAYER_PED_ID(), SCRIPT_TASK_ENTER_VEHICLE) !=0) TASK::TASK_ENTER_VEHICLE(uParam0->f_3, uParam0->f_4, 20000, uParam0->f_7, uParam0->f_6, 1, 0);
break;
}
return false;
}

int func_263(int iParam0) // Position - 0x9A06{
switch (iParam0){
case 1:
return 2;
case 2:
return 3;
case 0:
return 1;
case -1:
return 0;
default:
}
return 2;
}


float func_264(var uParam0) // Position - 0x9A3E{
float num;
var offsetFromEntityInWorldCoords;
num=0f;
offsetFromEntityInWorldCoords={
func_40() 
};
if(uParam0->f_7==2) offsetFromEntityInWorldCoords={
ENTITY::GET_OFFSET_FROM_ENTITY_IN_WORLD_COORDS(uParam0->f_4, 0.773f, -0.646f, -0.6422f) 
};
else offsetFromEntityInWorldCoords={
ENTITY::GET_OFFSET_FROM_ENTITY_IN_WORLD_COORDS(uParam0->f_4, -0.773f, -0.646f, -0.6422f) 
};
num=func_265(ENTITY::GET_ENTITY_COORDS(uParam0->f_3, true), offsetFromEntityInWorldCoords);
return num;
}


float func_265(var uParam0, var uParam1, var uParam2, float fParam3, var uParam4, var uParam5) // Position - 0x9AA7{
return MISC::GET_HEADING_FROM_VECTOR_2D(fParam3 - uParam0, fParam3.f_1 - uParam0.f_1);
}


void func_266(var uParam0) // Position - 0x9AC1{
int taskSequenceId;
if(VEHICLE::IS_VEHICLE_DRIVEABLE(uParam0->f_4, false)){
if(!PED::IS_PED_INJURED(uParam0->f_3)){
if(func_233(uParam0->f_3, true) > 30f || func_267(uParam0)){
if(TASK::GET_SCRIPT_TASK_STATUS(uParam0->f_3, SCRIPT_TASK_ENTER_VEHICLE)==1 || TASK::GET_SCRIPT_TASK_STATUS(uParam0->f_3, SCRIPT_TASK_PERFORM_SEQUENCE)==1){
TASK::CLEAR_SEQUENCE_TASK(&taskSequenceId);
TASK::OPEN_SEQUENCE_TASK(&taskSequenceId);
TASK::TASK_TURN_PED_TO_FACE_ENTITY(0, uParam0->f_4, 0);
TASK::TASK_PLAY_ANIM(0, "misscommon@response", "screw_you", 1090519040, -1056964608, -1, 0, 0, false, false, false);
TASK::TASK_FOLLOW_NAV_MESH_TO_COORD(0, uParam0->f_11, uParam0->f_6, 20000, 1048576000, 0, 1193033728);
TASK::CLOSE_SEQUENCE_TASK(taskSequenceId);
TASK::TASK_PERFORM_SEQUENCE(uParam0->f_3, taskSequenceId);
func_361(uParam0, "Player abandoned passenger on pickup.", 8);
}}}}
return;
}
BOOL func_267(var uParam0) // Position - 0x9B92{
if(ENTITY::GET_ENTITY_SPEED(uParam0->f_4) > 3f && func_116(uParam0, 5) > 15f || ENTITY::IS_ENTITY_UPSIDEDOWN(uParam0->f_4)) return true;
return false;
}
BOOL func_268(Vehicle veParam0) // Position - 0x9BCC{
int num;
int num2;
num=0;
if(!VEHICLE::IS_VEHICLE_TYRE_BURST(veParam0, 0, false)) num=num + 1;
if(!VEHICLE::IS_VEHICLE_TYRE_BURST(veParam0, 1, false)) num=num + 1;
if(!VEHICLE::IS_VEHICLE_TYRE_BURST(veParam0, 4, false)) num=num + 1;
if(!VEHICLE::IS_VEHICLE_TYRE_BURST(veParam0, 5, false)) num=num + 1;
if(num < 2) return 0;
if(VEHICLE::IS_THIS_MODEL_A_CAR(ENTITY::GET_ENTITY_MODEL(veParam0))){
num2=0;
if(!VEHICLE::IS_VEHICLE_DOOR_DAMAGED(veParam0, 0)) num2=num2 + 1;
if(!VEHICLE::IS_VEHICLE_DOOR_DAMAGED(veParam0, 1)) num2=num2 + 1;
if(!VEHICLE::IS_VEHICLE_DOOR_DAMAGED(veParam0, 2)) num2=num2 + 1;
if(!VEHICLE::IS_VEHICLE_DOOR_DAMAGED(veParam0, 3)) num2=num2 + 1;
if(num2 < 2) return 0;
}
return 1;
}
BOOL func_269(var uParam0, BOOL bParam1) // Position - 0x9C88{
var unk;
int i;
if(VEHICLE::IS_VEHICLE_DRIVEABLE(uParam0->f_4, false)){
unk=3;
unk[0]=VEHICLE::GET_PED_IN_VEHICLE_SEAT(uParam0->f_4, 1, false);
unk[1]=VEHICLE::GET_PED_IN_VEHICLE_SEAT(uParam0->f_4, 2, false);
unk[2]=VEHICLE::GET_PED_IN_VEHICLE_SEAT(uParam0->f_4, 0, false);
for (i=0;
i < 3;
i=i + 1){
if(ENTITY::DOES_ENTITY_EXIST(unk[i])){
if(ENTITY::IS_ENTITY_DEAD(unk[i], false)){
if(i==0){
uParam0->f_7=1;
bParam1;
}elseif(i==1){
uParam0->f_7=2;
bParam1;
}else{
uParam0->f_7=0;
bParam1;
}
bParam1;
return false;
}}}
MISC::GET_GAME_TIMER() % 1000 < 50;
}
return true;
}
Ped func_270(var uParam0, var uParam1) // Position - 0x9D42{
Ped pedInVehicleSeat;
if(VEHICLE::IS_VEHICLE_DRIVEABLE(uParam0->f_4, false)){
pedInVehicleSeat=VEHICLE::GET_PED_IN_VEHICLE_SEAT(uParam0->f_4, 1, false);
if(ENTITY::DOES_ENTITY_EXIST(pedInVehicleSeat)){
*uParam1=1;
return pedInVehicleSeat;
}else{
pedInVehicleSeat=VEHICLE::GET_PED_IN_VEHICLE_SEAT(uParam0->f_4, 2, false);
if(ENTITY::DOES_ENTITY_EXIST(pedInVehicleSeat)){
*uParam1=2;
return pedInVehicleSeat;
}else{
pedInVehicleSeat=VEHICLE::GET_PED_IN_VEHICLE_SEAT(uParam0->f_4, 0, false);
if(ENTITY::DOES_ENTITY_EXIST(pedInVehicleSeat)){
*uParam1=0;
return pedInVehicleSeat;
}}}}
return 0;
}

int func_271(Vehicle veParam0, Ped pedParam1) // Position - 0x9DB7{
float offsetFromEntityGivenWorldCoords;
int num;
int vehicleMaxNumberOfPassengers;
vehicleMaxNumberOfPassengers=VEHICLE::GET_VEHICLE_MAX_NUMBER_OF_PASSENGERS(veParam0);
offsetFromEntityGivenWorldCoords={
ENTITY::GET_OFFSET_FROM_ENTITY_GIVEN_WORLD_COORDS(veParam0, ENTITY::GET_ENTITY_COORDS(pedParam1, true)) 
};
if(ENTITY::GET_ENTITY_MODEL(veParam0) !=joaat("vacca")){}
if(ENTITY::GET_ENTITY_MODEL(veParam0)==joaat("sentinel2")) vehicleMaxNumberOfPassengers=1;
if(vehicleMaxNumberOfPassengers==1) num=0;
elseif(offsetFromEntityGivenWorldCoords > 0f)if(VEHICLE::IS_ENTRY_POINT_FOR_SEAT_CLEAR(pedParam1, veParam0, 2, false, false)) num=2;
elseif(VEHICLE::IS_ENTRY_POINT_FOR_SEAT_CLEAR(pedParam1, veParam0, 1, false, false)) num=1;
else num=-2;
elseif(VEHICLE::IS_ENTRY_POINT_FOR_SEAT_CLEAR(pedParam1, veParam0, 1, false, false)) num=1;
elseif(VEHICLE::IS_ENTRY_POINT_FOR_SEAT_CLEAR(pedParam1, veParam0, 2, false, false)) num=2;
else num=-2;
return num;
}
BOOL func_272(var uParam0, int iParam1, float fParam2, float fParam3, float fParam4) // Position - 0x9E6F{
if(!ENTITY::IS_ENTITY_DEAD(uParam0->f_3, false)){
if(!ENTITY::IS_ENTITY_OCCLUDED(uParam0->f_3) && func_233(uParam0->f_3, true) < fParam2)if(!func_189(uParam0, 5)) func_317(uParam0, 5, 0, false);
elseif(func_189(uParam0, 5)) func_208(uParam0, 5, false);
if(func_116(uParam0, 5) > (float)iParam1 && ENTITY::GET_ENTITY_SPEED(uParam0->f_4) < fParam4 && !ENTITY::IS_ENTITY_OCCLUDED(uParam0->f_3) || func_233(uParam0->f_3, true) <=fParam3) return true;
}
return false;
}
BOOL func_273(var uParam0, int iParam1) // Position - 0x9F0D{
Vector3 offsetFromEntityInWorldCoords;
Vector3 offsetFromEntityInWorldCoords2;
Vector3 worldPositionOfEntityBone;
var endCoords;
var surfaceNormal;
int hit;
var entityHit;
int shapeTestResult;
int entityBoneIndexByName;
entityBoneIndexByName=ENTITY::GET_ENTITY_BONE_INDEX_BY_NAME(uParam0->f_4, "windscreen");
if(entityBoneIndexByName==-1) entityBoneIndexByName=ENTITY::GET_ENTITY_BONE_INDEX_BY_NAME(uParam0->f_4, "windscreen_f");
if(entityBoneIndexByName !=-1){
worldPositionOfEntityBone={
ENTITY::GET_WORLD_POSITION_OF_ENTITY_BONE(uParam0->f_4, entityBoneIndexByName) 
};
worldPositionOfEntityBone={
ENTITY::GET_OFFSET_FROM_ENTITY_GIVEN_WORLD_COORDS(uParam0->f_4, worldPositionOfEntityBone) 
};
worldPositionOfEntityBone.f_1=worldPositionOfEntityBone.f_1 + 1f;
}else{
worldPositionOfEntityBone={
0f, 1f, 1f 
};
}
offsetFromEntityInWorldCoords={
ENTITY::GET_OFFSET_FROM_ENTITY_IN_WORLD_COORDS(uParam0->f_4, worldPositionOfEntityBone) 
};
offsetFromEntityInWorldCoords2={
ENTITY::GET_OFFSET_FROM_ENTITY_IN_WORLD_COORDS(uParam0->f_3, 0f, 0.25f, 0.9f) 
};
GRAPHICS::DRAW_DEBUG_LINE(offsetFromEntityInWorldCoords, offsetFromEntityInWorldCoords2, 0, 0, 255, 255);
switch (iLocal_87){
case 0:
PED::SET_BLOCKING_OF_NON_TEMPORARY_EVENTS(uParam0->f_3, true);
iLocal_87=1;
break;
case 1:
if(func_51(uParam0->f_4, uParam0->f_3, false) <=iParam1 && !uParam0->f_142 && MISC::ABSF(offsetFromEntityInWorldCoords.f_2 - offsetFromEntityInWorldCoords2.f_2) < 5f){
if(uParam0->f_409==0){
uParam0->f_409=SHAPETEST::START_SHAPE_TEST_LOS_PROBE(offsetFromEntityInWorldCoords, offsetFromEntityInWorldCoords2, 511, 0, 7);
}else{
shapeTestResult=SHAPETEST::GET_SHAPE_TEST_RESULT(uParam0->f_409, &hit, &endCoords, &surfaceNormal, &entityHit);
if(shapeTestResult==2){
if(hit==0) iLocal_87=2;
uParam0->f_409=0;
}elseif(shapeTestResult==0){
uParam0->f_409=0;
}}}elseif(TASK::GET_SCRIPT_TASK_STATUS(uParam0->f_3, SCRIPT_TASK_PERFORM_SEQUENCE) !=1 && TASK::GET_SCRIPT_TASK_STATUS(uParam0->f_3, SCRIPT_TASK_PERFORM_SEQUENCE) !=0){
TASK::CLEAR_SEQUENCE_TASK(&(uParam0->f_243));
TASK::OPEN_SEQUENCE_TASK(&(uParam0->f_243));
TASK::TASK_PLAY_ANIM(0, "oddjobs@taxi@", "idle_a", 1090519040, -1056964608, -1, 0, 0, false, false, false);
TASK::TASK_TURN_PED_TO_FACE_ENTITY(0, PLAYER::PLAYER_PED_ID(), 0);
TASK::SET_SEQUENCE_TO_REPEAT(uParam0->f_243, true);
TASK::CLOSE_SEQUENCE_TASK(uParam0->f_243);
TASK::TASK_PERFORM_SEQUENCE(uParam0->f_3, uParam0->f_243);
}
break;
case 2:
HUD::CLEAR_PRINTS();
if(uParam0->f_411 !=9)if(!func_22(uParam0->f_44, 128)) func_254(uParam0, 4, 1, false, true);
else func_274(uParam0->f_3, "TAXI_HAIL", uParam0->f_145, 4);
TASK::CLEAR_PED_TASKS(uParam0->f_3);
TASK::TASK_LOOK_AT_ENTITY(uParam0->f_3, uParam0->f_4, -1, SLF_WHILE_NOT_IN_FOV, 4);
TASK::CLEAR_SEQUENCE_TASK(&(uParam0->f_243));
TASK::OPEN_SEQUENCE_TASK(&(uParam0->f_243));
if(uParam0->f_411 !=9) TASK::TASK_PLAY_ANIM(0, "gestures@m@standing@casual", "gesture_nod_yes_hard", 8f, -8f, -1, 48, 0, false, false, false);
else TASK::TASK_PLAY_ANIM(0, "oddjobs@towingcome_here", "come_here_idle_c", 8f, -1.5f, -1, 48, 0, false, false, false);
TASK::TASK_TURN_PED_TO_FACE_ENTITY(0, PLAYER::PLAYER_PED_ID(), 0);
TASK::CLOSE_SEQUENCE_TASK(uParam0->f_243);
TASK::TASK_PERFORM_SEQUENCE(uParam0->f_3, uParam0->f_243);
TASK::CLEAR_SEQUENCE_TASK(&(uParam0->f_243));
iLocal_87=3;
break;
case 3:
iLocal_87=0;
if(ENTITY::IS_ENTITY_PLAYING_ANIM(uParam0->f_3, "gestures@m@standing@casual", "gesture_you_hard", 3)) ENTITY::SET_ENTITY_ANIM_SPEED(uParam0->f_3, "gestures@m@standing@casual", "gesture_you_hard", 0.8f);
return true;
}
return false;
}


void func_274(Ped pedParam0, char* sParam1, const char* sParam2, int iParam3) // Position - 0xA1EE{
AUDIO::PLAY_PED_AMBIENT_SPEECH_WITH_VOICE_NATIVE(pedParam0, sParam1, sParam2, AUDIO_SPEECH_GET_PARAM_STRING_FROM_ENUM_0(iParam3), false);
return;
}
char* AUDIO_SPEECH_GET_PARAM_STRING_FROM_ENUM_0(int iParam0) // Position - 0xA207{
char* str;
switch (iParam0){
case 0:
return "SPEECH_PARAMS_STANDARD";
case 1:
return "SPEECH_PARAMS_ALLOW_REPEAT";
case 2:
return "SPEECH_PARAMS_BEAT";
case 3:
return "SPEECH_PARAMS_FORCE";
case 4:
return "SPEECH_PARAMS_FORCE_FRONTEND";
case 5:
return "SPEECH_PARAMS_FORCE_NO_REPEAT_FRONTEND";
case 6:
return "SPEECH_PARAMS_FORCE_NORMAL";
case 7:
return "SPEECH_PARAMS_FORCE_NORMAL_CLEAR";
case 8:
return "SPEECH_PARAMS_FORCE_NORMAL_CRITICAL";
case 9:
return "SPEECH_PARAMS_FORCE_SHOUTED";
case 10:
return "SPEECH_PARAMS_FORCE_SHOUTED_CLEAR";
case 11:
return "SPEECH_PARAMS_FORCE_SHOUTED_CRITICAL";
case 12:
return "SPEECH_PARAMS_FORCE_PRELOAD_ONLY";
case 13:
return "SPEECH_PARAMS_MEGAPHONE";
case 14:
return "SPEECH_PARAMS_HELI";
case 15:
return "SPEECH_PARAMS_FORCE_MEGAPHONE";
case 16:
return "SPEECH_PARAMS_FORCE_HELI";
case 17:
return "SPEECH_PARAMS_INTERRUPT";
case 18:
return "SPEECH_PARAMS_INTERRUPT_SHOUTED";
case 19:
return "SPEECH_PARAMS_INTERRUPT_SHOUTED_CLEAR";
case 20:
return "SPEECH_PARAMS_INTERRUPT_SHOUTED_CRITICAL";
case 21:
return "SPEECH_PARAMS_INTERRUPT_NO_FORCE";
case 22:
return "SPEECH_PARAMS_INTERRUPT_FRONTEND";
case 23:
return "SPEECH_PARAMS_INTERRUPT_NO_FORCE_FRONTEND";
case 24:
return "SPEECH_PARAMS_ADD_BLIP";
case 25:
return "SPEECH_PARAMS_ADD_BLIP_ALLOW_REPEAT";
case 26:
return "SPEECH_PARAMS_ADD_BLIP_FORCE";
case 27:
return "SPEECH_PARAMS_ADD_BLIP_SHOUTED";
case 28:
return "SPEECH_PARAMS_ADD_BLIP_SHOUTED_FORCE";
case 29:
return "SPEECH_PARAMS_ADD_BLIP_INTERRUPT";
case 30:
return "SPEECH_PARAMS_ADD_BLIP_INTERRUPT_FORCE";
case 31:
return "SPEECH_PARAMS_FORCE_PRELOAD_ONLY_SHOUTED";
case 32:
return "SPEECH_PARAMS_FORCE_PRELOAD_ONLY_SHOUTED_CLEAR";
case 33:
return "SPEECH_PARAMS_FORCE_PRELOAD_ONLY_SHOUTED_CRITICAL";
case 34:
return "SPEECH_PARAMS_SHOUTED";
case 35:
return "SPEECH_PARAMS_SHOUTED_CLEAR";
case 36:
return "SPEECH_PARAMS_SHOUTED_CRITICAL";
default:
}
str=0;
return str;
}


float func_276(var uParam0, Vehicle veParam1) // Position - 0xA3FC{
if(!ENTITY::IS_ENTITY_DEAD(veParam1, false))if(func_207(uParam0)) return func_51(uParam0->f_4, veParam1, true);
return 0f;
}


void func_277(var uParam0) // Position - 0xA427{
func_240(uParam0, uParam0->f_3);
if(func_207(uParam0)){
if(func_189(uParam0, 14)){
func_242(uParam0);
if(HUD::DOES_BLIP_EXIST(uParam0->f_10)) HUD::REMOVE_BLIP(&(uParam0->f_10));
}}
if(!func_189(uParam0, 9)){
if(HUD::DOES_BLIP_EXIST(uParam0->f_8)){
HUD::SET_BLIP_ALPHA(uParam0->f_8, 0);
HUD::SET_BLIP_ROUTE(uParam0->f_8, false);
}
func_317(uParam0, 9, 0, false);
_SHOW_SUBTITLE_CLEAR_EXISTING("TAXI_OBJ_POL", 7500, 1);
}
return;
}


void _SHOW_SUBTITLE_CLEAR_EXISTING(char* sParam0, int iParam1, int iParam2) // Position - 0xA4A5{
iParam2=iParam2;
HUD::BEGIN_TEXT_COMMAND_PRINT(sParam0);
HUD::END_TEXT_COMMAND_PRINT(iParam1, true);
return;
}


void func_279(var uParam0, int iParam1, BOOL bParam2) // Position - 0xA4BE{
uParam0->f_110=iParam1;
if(bParam2){
func_48();
func_317(uParam0, 16, 4f, false);
HUD::CLEAR_PRINTS();
}
return;
}
BOOL func_280(var uParam0, int iParam1) // Position - 0xA4E3{
if(!HUD::HAS_ADDITIONAL_TEXT_LOADED(2)) return false;
func_284(12);
if(func_22(uParam0->f_44, 8)){
if(!func_22(uParam0->f_44, 128)){
if(PED::IS_PED_JACKING(PLAYER::PLAYER_PED_ID()) && !func_22(uParam0->f_44, 256)) func_67(&(uParam0->f_44), 256);
if(func_22(uParam0->f_44, 256) && PED::IS_PED_IN_ANY_VEHICLE(PLAYER::PLAYER_PED_ID(), false)){
func_254(uParam0, 135, 1, false, true);
func_67(&(uParam0->f_44), 128);
}}}
if(!func_283(uParam0, iParam1)){
if(func_233(uParam0->f_3, true) < 35f){
if(!func_22(uParam0->f_44, 8)){
TASK::TASK_TURN_PED_TO_FACE_ENTITY(uParam0->f_3, PLAYER::PLAYER_PED_ID(), 0);
func_254(uParam0, 133, 1, false, true);
func_67(&(uParam0->f_44), 8);
}}
if(PED::IS_PED_INJURED(uParam0->f_3) || PED::IS_PED_FLEEING(uParam0->f_3) || func_233(uParam0->f_3, true) > 400f) func_361(uParam0, "ped is fleeing or injured", 5);
}else{
uParam0->f_4=PED::GET_VEHICLE_PED_IS_IN(uParam0->f_2, false);
VEHICLE::SET_VEHICLE_HAS_STRONG_AXLES(uParam0->f_4, true);
if(VEHICLE::GET_PED_IN_VEHICLE_SEAT(uParam0->f_4, -1, false)==uParam0->f_2){
VEHICLE::ADD_VEHICLE_UPSIDEDOWN_CHECK(uParam0->f_4);
func_281(uParam0);
func_55(2, 0);
bLocal_94=true;
func_117(&uLocal_90);
return true;
}else{
func_361(uParam0, "No Taxi", 21);
_DISPLAY_HELP_TEXT("TAXI_DBG_NTAXI", -1);
}}
return false;
}


void func_281(var uParam0) // Position - 0xA65C{
if(!ENTITY::IS_ENTITY_DEAD(uParam0->f_4, false)) _GET_RANDOM_BOOL();
return;
}
BOOL _GET_RANDOM_BOOL() // Position - 0xA678{
if(IS_BIT_SET(MISC::GET_RANDOM_INT_IN_RANGE(0, 65535), 0)) return true;
return false;
}
BOOL func_283(var uParam0, int iParam1) // Position - 0xA696{
Vehicle vehiclePedIsIn;
Hash entityModel;
BOOL flag;
BOOL flag2;
BOOL flag3;
BOOL flag4;
if(!ENTITY::IS_ENTITY_DEAD(PLAYER::PLAYER_PED_ID(), false)){
if(PED::IS_PED_IN_ANY_VEHICLE(PLAYER::PLAYER_PED_ID(), false)){
vehiclePedIsIn=PED::GET_VEHICLE_PED_IS_IN(PLAYER::PLAYER_PED_ID(), false);
if(VEHICLE::IS_VEHICLE_DRIVEABLE(vehiclePedIsIn, false)){
entityModel=ENTITY::GET_ENTITY_MODEL(vehiclePedIsIn);
flag=func_268(vehiclePedIsIn);
flag2=true;
if(entityModel==joaat("rhino") || entityModel==joaat("ratloader") || entityModel==joaat("surfer") || entityModel==joaat("surfer2") || entityModel==joaat("armytanker") || entityModel==joaat("barracks") || entityModel==joaat("barracks2") || entityModel==joaat("crusader") || entityModel==joaat("utillitruck") || entityModel==joaat("utillitruck2") || entityModel==joaat("utillitruck3") || entityModel==joaat("airtug") || entityModel==joaat("caddy") || entityModel==joaat("caddy2") || entityModel==joaat("dloader") || entityModel==joaat("docktug") || entityModel==joaat("flatbed") || entityModel==joaat("ripley") || entityModel==joaat("romero") || entityModel==joaat("towtruck") || entityModel==joaat("towtruck2") || entityModel==joaat("airbus") || entityModel==joaat("bus") || entityModel==joaat("coach") || entityModel==joaat("rentalbus") || entityModel==joaat("tourbus") || entityModel==joaat("riot") || entityModel==joaat("trash") || entityModel==joaat("benson") || entityModel==joaat("biff") || entityModel==joaat("hauler") || entityModel==joaat("packer") || entityModel==joaat("phantom") || entityModel==joaat("pounder") || entityModel==joaat("bulldozer") || entityModel==joaat("handler") || entityModel==joaat("tiptruck2") || entityModel==joaat("cutter") || entityModel==joaat("dump") || entityModel==joaat("mixer") || entityModel==joaat("mixer2") || entityModel==joaat("rubble") || entityModel==joaat("scrap") || entityModel==joaat("tiptruck") || entityModel==joaat("camper") || entityModel==joaat("taco") || entityModel==joaat("boxville") || entityModel==joaat("boxville2") || entityModel==joaat("boxville3") || entityModel==joaat("burrito") || entityModel==joaat("burrito2") || entityModel==joaat("burrito3") || entityModel==joaat("burrito4") || entityModel==joaat("gburrito") || entityModel==joaat("journey") || entityModel==joaat("mule") || entityModel==joaat("mule2") || entityModel==joaat("pony") || entityModel==joaat("rumpo") || entityModel==joaat("rumpo2") || entityModel==joaat("speedo") || entityModel==joaat("speedo2") || entityModel==joaat("youga") || entityModel==joaat("mower") || entityModel==joaat("tractor") || entityModel==joaat("tractor2") || entityModel==joaat("fbi") || entityModel==joaat("fbi2") || entityModel==joaat("pranger") || entityModel==joaat("ambulance") || entityModel==joaat("dilettante2") || entityModel==joaat("firetruk") || entityModel==joaat("lguard") || entityModel==joaat("dune") || entityModel==joaat("pbus") || entityModel==joaat("police") || entityModel==joaat("police2") || entityModel==joaat("police3") || entityModel==joaat("police4") || entityModel==joaat("policeb") || entityModel==joaat("policet") || entityModel==joaat("sheriff") || entityModel==joaat("sheriff2") || entityModel==joaat("stockade")) flag2=false;
if(uParam0->f_411==7)if(entityModel==joaat("bodhi2")) flag2=false;
flag3=false;
if(VEHICLE::IS_THIS_MODEL_A_CAR(entityModel))if(VEHICLE::GET_PED_IN_VEHICLE_SEAT(vehiclePedIsIn, -1, false)==PLAYER::PLAYER_PED_ID()) flag3=true;
flag4=true;
if(VEHICLE::GET_VEHICLE_MAX_NUMBER_OF_PASSENGERS(vehiclePedIsIn) < iParam1) flag4=false;
if(!flag){
if(!func_22(uParam0->f_44, 64)){
if(HUD::HAS_ADDITIONAL_TEXT_LOADED(2)){
_DISPLAY_HELP_TEXT("TX_VIP_DMGD", -1);
if(_IS_THIS_HELP_MESSAGE_BEING_DISPLAYED("TX_VIP_DMGD")) func_67(&(uParam0->f_44), 64);
}}
return false;
}elseif(!flag3 || !flag2){
if(!func_22(uParam0->f_44, 32)){
if(HUD::HAS_ADDITIONAL_TEXT_LOADED(2)){
_DISPLAY_HELP_TEXT("TX_VIP_CAR", -1);
if(_IS_THIS_HELP_MESSAGE_BEING_DISPLAYED("TX_VIP_CAR")) func_67(&(uParam0->f_44), 32);
}}
return false;
}elseif(!flag4){
if(!func_22(uParam0->f_44, 16)){
if(HUD::HAS_ADDITIONAL_TEXT_LOADED(2)){
_DISPLAY_HELP_TEXT("TX_VIP_SMALL", -1);
if(_IS_THIS_HELP_MESSAGE_BEING_DISPLAYED("TX_VIP_SMALL")) func_67(&(uParam0->f_44), 16);
}}
return false;
}
return true;
}}else{
func_20(&(uParam0->f_44), 16);
func_20(&(uParam0->f_44), 64);
func_20(&(uParam0->f_44), 32);
}}
return false;
}


void func_284(int iParam0) // Position - 0xACAB{
int num;
var textLabel;
if(MISC::IS_XBOX360_VERSION() || func_286()){
num=iParam0;
NETWORK::NETWORK_SET_RICH_PRESENCE(8, &num, 1, 1);
}elseif(MISC::IS_PS3_VERSION() || func_285()){
TEXT_LABEL_ASSIGN_STRING(&textLabel, "SPMG_", 24);
TEXT_LABEL_APPEND_INT(&textLabel, iParam0, 24);
TEXT_LABEL_APPEND_STRING(&textLabel, "_STR", 24);
NETWORK::NETWORK_SET_RICH_PRESENCE_STRING(8, &textLabel);
}
return;
}
BOOL func_285() // Position - 0xAD04{
return MISC::IS_ORBIS_VERSION() || unk_0xEE17703CF2C2875A();
}
BOOL func_286() // Position - 0xAD1A{
return MISC::IS_DURANGO_VERSION() || unk_0x14F62099DEBAEA33();
}


void func_287(var uParam0) // Position - 0xAD30{
int i;
for (i=0;
i < 15;
i=i + 1){
func_21(&(uParam0->f_100), i);
}
return;
}


void func_288(var uParam0, var uParam1) // Position - 0xAD55{
int i;
if(*uParam1 <=5){
i=0;
for (i=0;
i <=4;
i=i + 1){
MISC::CLEAR_BIT(&uParam0->f_60[i /*3*/], 1);
}
i=0;
for (i=0;
i < *uParam1;
i=i + 1){
uParam0->f_60[i /*3*/]={
uParam1->[i /*3*/] 
};
MISC::SET_BIT(&uParam0->f_60[i /*3*/], 1);
MISC::CLEAR_BIT(&uParam0->f_60[i /*3*/], 2);
}}
return;
}


void func_289(var uParam0, char* sParam1, int iParam2) // Position - 0xADCC{
*uParam0=0;
uParam0->f_1=iParam2;
uParam0->f_2=sParam1;
return;
}


void func_290() // Position - 0xADE4{
iLocal_343=0;
func_307(45465, 45440, true);
func_307(45201, 45177, true);
func_307(45115, 45090, true);
func_307(45018, 44994, true);
func_307(44884, 44863, true);
func_307(44810, 44785, true);
func_307(44643, 44619, true);
return;
}

int func_291(var uParam0, var uParam1) // Position - 0xAE4B{
uParam1=uParam1;
func_361(uParam0, "Taxi Not Driveable", 1);
return 1;
}

int func_292(var uParam0) // Position - 0xAE63{
if(ENTITY::DOES_ENTITY_EXIST(uParam0->f_4)){
if(func_294(uParam0->f_4)){
func_293(uParam0, 1);
return 1;
}}
return 0;
}


void func_293(var uParam0, int iParam1) // Position - 0xAE8D{
uParam0->f_117=1;
uParam0->f_118=iParam1;
return;
}
BOOL func_294(Vehicle veParam0) // Position - 0xAEA0{
if(!VEHICLE::IS_VEHICLE_DRIVEABLE(veParam0, false)) return true;
if(VEHICLE::GET_VEHICLE_ENGINE_HEALTH(veParam0) < -100f) return true;
elseif(VEHICLE::IS_VEHICLE_STUCK_TIMER_UP(veParam0, 0, 40000) || VEHICLE::IS_VEHICLE_STUCK_TIMER_UP(veParam0, 1, 40000)) return true;
return false;
}

int func_295(var uParam0, var uParam1) // Position - 0xAEF1{
uParam1=uParam1;
func_361(uParam0, "Didn't lose police in time.", 9);
return 1;
}

int func_296(var uParam0) // Position - 0xAF0A{
if(PLAYER::GET_PLAYER_WANTED_LEVEL(PLAYER::PLAYER_ID()) > 0)if(func_297(uParam0->f_85, 32)) return 1;
return 0;
}
BOOL func_297(int iParam0, int iParam1) // Position - 0xAF30{
return iParam0 && iParam1 !=false;
}

int func_298(var uParam0, var uParam1) // Position - 0xAF3F{
uParam1=uParam1;
func_293(uParam0, 11);
return 1;
}

int func_299(var uParam0) // Position - 0xAF54{
if(ENTITY::DOES_ENTITY_EXIST(uParam0->f_4))if(ENTITY::IS_ENTITY_IN_WATER(uParam0->f_4) && !VEHICLE::IS_VEHICLE_ON_ALL_WHEELS(uParam0->f_4))if(!func_189(uParam0, 25)) func_317(uParam0, 25, 0, false);
elseif(func_116(uParam0, 25) > 2f) return 1;
elseif(func_189(uParam0, 25)) func_208(uParam0, 25, false);
return 0;
}

int func_300(var uParam0, var uParam1) // Position - 0xAFC2{
uParam1=uParam1;
func_361(uParam0, "Taxi Is Flipped", 0);
return 1;
}

int func_301(var uParam0) // Position - 0xAFDA{
if(!ENTITY::IS_ENTITY_DEAD(uParam0->f_4, false))if(VEHICLE::DOES_VEHICLE_HAVE_STUCK_VEHICLE_CHECK(uParam0->f_4))if(VEHICLE::IS_VEHICLE_STUCK_TIMER_UP(uParam0->f_4, 0, 40000) || VEHICLE::IS_VEHICLE_STUCK_TIMER_UP(uParam0->f_4, 1, 40000)) return 1;
return 0;
}

int func_302(var uParam0, var uParam1) // Position - 0xB022{
uParam1=uParam1;
func_361(uParam0, "Stayed stopped for too long.", 9);
return 1;
}

int func_303(var uParam0) // Position - 0xB03B{
if(!ENTITY::IS_ENTITY_DEAD(uParam0->f_4, false))if(VEHICLE::IS_VEHICLE_DRIVEABLE(uParam0->f_4, false))if(VEHICLE::IS_VEHICLE_STOPPED(uParam0->f_4))if(func_297(uParam0->f_86, 8)) return 1;
return 0;
}

int func_304(var uParam0, var uParam1) // Position - 0xB079{
uParam1=uParam1;
func_361(uParam0, "Taxi Not Driveable", 0);
return 1;
}

int func_305(var uParam0) // Position - 0xB091{
if(ENTITY::DOES_ENTITY_EXIST(uParam0->f_4)){
if(func_306(uParam0->f_4)){
func_293(uParam0, 0);
return 1;
}}
return 0;
}
BOOL func_306(Vehicle veParam0) // Position - 0xB0BB{
if(!VEHICLE::IS_VEHICLE_DRIVEABLE(veParam0, false)) return true;
if(VEHICLE::GET_VEHICLE_ENGINE_HEALTH(veParam0)==0f){
if(!VEHICLE::IS_VEHICLE_DRIVEABLE(veParam0, false)){
}
return true;
}elseif(VEHICLE::IS_VEHICLE_STUCK_TIMER_UP(veParam0, 0, 40000) || VEHICLE::IS_VEHICLE_STUCK_TIMER_UP(veParam0, 1, 40000)){
return true;
}
return false;
}


void func_307(int iParam0, int iParam1, BOOL bParam2) // Position - 0xB116{
if(iLocal_343 >=16){
iLocal_343=16;
return;
}
iLocal_343.f_1[iLocal_343 /*4*/]=0;
func_68(&iLocal_343.f_1[iLocal_343 /*4*/], 1);
if(bParam2) func_68(&iLocal_343.f_1[iLocal_343 /*4*/], 2);
iLocal_343.f_1[iLocal_343 /*4*/].f_2=iParam0;
iLocal_343.f_1[iLocal_343 /*4*/].f_3=iParam1;
iLocal_343=iLocal_343 + 1;
return;
}

int func_308(var uParam0, var uParam1) // Position - 0xB180{
uParam1=uParam1;
func_361(uParam0, "Passenger injured.", 15);
return 1;
}

int func_309(var uParam0) // Position - 0xB199{
if(ENTITY::DOES_ENTITY_EXIST(uParam0->f_3))if(PED::IS_PED_INJURED(uParam0->f_3) || ENTITY::IS_ENTITY_DEAD(uParam0->f_3, false) || FILES::GET_DLC_VEHICLE_FLAGS(uParam0->f_3)) return 1;
return 0;
}


void func_310() // Position - 0xB1D9{
uLocal_190[5 /*10*/]=5;
uLocal_190[5 /*10*/].f_1=0;
uLocal_190[5 /*10*/].f_2="TX_SPEED_N";
uLocal_190[5 /*10*/].f_9=78;
uLocal_190[0 /*10*/]=5;
uLocal_190[0 /*10*/].f_1=0;
uLocal_190[0 /*10*/].f_2="TX_AIR_N";
uLocal_190[0 /*10*/].f_9=76;
uLocal_190[2 /*10*/]=5;
uLocal_190[2 /*10*/].f_1=0;
uLocal_190[2 /*10*/].f_2="TX_QSTOP_N";
uLocal_190[2 /*10*/].f_9=21;
uLocal_190[1 /*10*/]=10;
uLocal_190[1 /*10*/].f_1=0;
uLocal_190[1 /*10*/].f_2="TX_DRIFT_N";
uLocal_190[1 /*10*/].f_9=71;
uLocal_190[4 /*10*/]=10;
uLocal_190[4 /*10*/].f_1=0;
uLocal_190[4 /*10*/].f_2="TX_SIDEWALK_N";
uLocal_190[4 /*10*/].f_9=79;
uLocal_190[6 /*10*/]=10;
uLocal_190[6 /*10*/].f_1=0;
uLocal_190[6 /*10*/].f_2="TX_ONCOMING_N";
uLocal_190[6 /*10*/].f_9=80;
uLocal_190[9 /*10*/]=15;
uLocal_190[9 /*10*/].f_1=0;
uLocal_190[9 /*10*/].f_2="TX_HITRUN_N";
uLocal_190[9 /*10*/].f_9=82;
uLocal_190[8 /*10*/]=15;
uLocal_190[8 /*10*/].f_1=0;
uLocal_190[8 /*10*/].f_2="TX_RECKLESS_N";
uLocal_190[8 /*10*/].f_9=72;
uLocal_190[7 /*10*/]=15;
uLocal_190[7 /*10*/].f_1=0;
uLocal_190[7 /*10*/].f_2="TX_ROLL_N";
uLocal_190[7 /*10*/].f_9=74;
uLocal_190[11 /*10*/]=5;
uLocal_190[11 /*10*/].f_1=0;
uLocal_190[11 /*10*/].f_2="TX_SWERVE_N";
uLocal_190[11 /*10*/].f_9=70;
uLocal_190[12 /*10*/]=5;
uLocal_190[12 /*10*/].f_1=0;
uLocal_190[12 /*10*/].f_2="TX_REVERSE_N";
uLocal_190[12 /*10*/].f_9=69;
uLocal_190[13 /*10*/]=10;
uLocal_190[13 /*10*/].f_1=0;
uLocal_190[13 /*10*/].f_2="TX_OFFROAD_N";
uLocal_190[13 /*10*/].f_9=67;
uLocal_190[14 /*10*/]=10;
uLocal_190[14 /*10*/].f_1=0;
uLocal_190[14 /*10*/].f_2="TX_NEARMIS_N";
uLocal_190[14 /*10*/].f_9=75;
return;
}
BOOL func_311() // Position - 0xB3B1{
if(!STREAMING::HAS_MODEL_LOADED(hLocal_886)) return false;
if(!STREAMING::HAS_ANIM_DICT_LOADED("gestures@m@standing@casual")) return false;
if(!func_312(&iLocal_896, false)){
func_143("TAXI_ASSETS_STREAMED - Loading shared assets", &iLocal_896, 1000);
return false;
}
return true;
}
BOOL func_312(var uParam0, BOOL bParam1) // Position - 0xB3F7{
if(!STREAMING::HAS_MODEL_LOADED(func_19())){
func_143("TAXI_SHARED_ASSETS_STREAMED - TAXI MODEL Loading...", uParam0, 1000);
return false;
}
if(bParam1){
if(!STREAMING::HAS_ANIM_DICT_LOADED("gestures@m@standing@casual")){
func_143("TAXI_SHARED_ASSETS_STREAMED - Anim Dicts gestures@m@standing@casual Loading...", uParam0, 1000);
return false;
}}
if(!STREAMING::HAS_ANIM_DICT_LOADED("oddjobs@taxi@")){
func_143("TAXI_SHARED_ASSETS_STREAMED - Anim Dicts oddjobs@taxi@ Loading...", uParam0, 1000);
return false;
}
if(!STREAMING::HAS_ANIM_DICT_LOADED("oddjobs@towingcome_here")){
func_143("TAXI_SHARED_ASSETS_STREAMED - Anim Dicts oddjobs@towingcome_here Loading...", uParam0, 1000);
return false;
}
if(!STREAMING::HAS_ANIM_DICT_LOADED("misscommon@response")){
func_143("TAXI_SHARED_ASSETS_STREAMED - Anim Dicts misscommon@ Loading...", uParam0, 1000);
return false;
}
if(!HUD::HAS_ADDITIONAL_TEXT_LOADED(2)){
func_143("TAXI_SHARED_ASSETS_STREAMED - Mission Text Loading...", uParam0, 1000);
return false;
}
return true;
}


void func_313(var uParam0, int iParam1) // Position - 0xB4B0{
switch (iParam1){
case 1:
uParam0->f_123="TRS_STREAMING";
break;
case 2:
uParam0->f_123=" TRS_FINDING_LOCATION ";
break;
case 3:
uParam0->f_123=" TRS_SPAWNING ";
break;
case 4:
uParam0->f_123=" TRS_SPAWN_CAR ";
break;
case 5:
uParam0->f_123=" TRS_MANAGE_PICKUP ";
break;
case 6:
uParam0->f_123=" TRS_PASSENGER_ENTER ";
break;
case 7:
uParam0->f_123=" TRS_WAIT_FOR_TIME ";
break;
case 8:
uParam0->f_123=" TRS_WAIT_FOR_TAIL ";
break;
case 9:
uParam0->f_123=" TRS_DRIVING_PASSENGER ";
break;
case 10:
uParam0->f_123=" TRS_WAIT_FOR_FULL_STOP ";
break;
case 18:
uParam0->f_123=" TRS_PRE_CUTSCENE ";
break;
case 11:
uParam0->f_123=" TRS_SWITCH_JOB ";
break;
case 19:
uParam0->f_123=" TRS_CUTSCENE ";
break;
case 20:
uParam0->f_123=" TRS_CUTSCENE_02 ";
break;
case 13:
uParam0->f_123=" TRS_CHASE_DRIVER ";
break;
case 12:
uParam0->f_123=" TRS_SAVE_DAMSEL ";
break;
case 14:
uParam0->f_123=" TRS_REVEAL_DESTINATION ";
break;
case 15:
uParam0->f_123=" TRS_WAIT_PARK ";
break;
case 16:
uParam0->f_123=" TRS_SEND_TO_STORE ";
break;
case 17:
uParam0->f_123=" TRS_WAIT_1ST_STOP ";
break;
case 22:
uParam0->f_123=" TRS_DROPPING_OFF ";
break;
case 25:
uParam0->f_123=" TRS_ESCAPE_POLICE ";
break;
case 26:
uParam0->f_123=" TRS_POLICE_ESCAPED ";
break;
case 24:
uParam0->f_123=" TRS_TIE_UP_LOSE_ENDS ";
break;
case 27:
uParam0->f_123=" TRS_REGULAR_PAYMENT ";
break;
case 23:
uParam0->f_123=" TRS_ELIMATE_ALL_ENEMIES ";
break;
case 28:
uParam0->f_123=" TRS_SPECIAL_ENDING ";
break;
case 29:
uParam0->f_123=" TRS_SCORECARD_GRADE ";
break;
case 30:
uParam0->f_123=" TRS_CLEANUP ";
break;
case 21:
uParam0->f_123=" TRS_WAIT_FOR_PASSENGER ";
break;
default:
uParam0->f_123=" TRS IS UNIDENTIFIED - FIX THIS ";
break;
}
uParam0->f_410=iParam1;
return;
}

int func_314(var uParam0) // Position - 0xB6CF{
if(!PED::IS_PED_INJURED(uParam0->f_3)){
uParam0->f_8=func_214(uParam0->f_3, false, false);
HUD::SET_GPS_FLAGS(1, 0);
HUD::SET_BLIP_ROUTE(uParam0->f_8, true);
HUD::SET_BLIP_NAME_FROM_TEXT_FILE(uParam0->f_8, "TAXI_BLIP_PASS" /*Passenger*/);
TASK::TASK_LOOK_AT_ENTITY(uParam0->f_3, PLAYER::PLAYER_PED_ID(), -1, SLF_WHILE_NOT_IN_FOV, 4);
}
return 1;
}

int func_315(var uParam0, var uParam1, var uParam2, var uParam3, var uParam4, var uParam5, var uParam6, char* sParam7, Hash hParam8, float fParam9, float fParam10) // Position - 0xB71E{
if(!ENTITY::DOES_ENTITY_EXIST(uParam0->f_3)){
func_316(uParam0, uParam0->f_14);
uParam0->f_11={
uParam1 
};
uParam0->f_14={
uParam4 
};
func_37(uParam0->f_14, false);
MISC::CLEAR_AREA_OF_PEDS(uParam0->f_14, 2f, 0);
func_251(uParam0->f_14, false, fParam10);
if(hParam8==0){
uParam0->f_3=PED::CREATE_RANDOM_PED(uParam0->f_11);
}elseif(ENTITY::DOES_ENTITY_EXIST(Global_112358.f_225[0])){
uParam0->f_3=Global_112358.f_225[0];
ENTITY::SET_ENTITY_AS_MISSION_ENTITY(uParam0->f_3, true, true);
}else{
uParam0->f_3=PED::CREATE_PED(PED_TYPE_MISSION, hParam8, uParam0->f_11, fParam9, true, true);
}
_CONVERSATION_INITIALIZE_ACTOR(&(uParam0->f_244), 3, uParam0->f_3, sParam7, 0, 1);
AUDIO::SET_AMBIENT_VOICE_NAME(uParam0->f_3, sParam7);
PED::SET_PED_RESET_FLAG(uParam0->f_3, 112, true);
if(!PED::IS_PED_INJURED(uParam0->f_3)){
ENTITY::SET_ENTITY_LOD_DIST(uParam0->f_3, 250);
PED::SET_PED_CONFIG_FLAG(uParam0->f_3, 32, false);
PED::SET_PED_CONFIG_FLAG(uParam0->f_3, 104, true);
PED::SET_PED_CONFIG_FLAG(uParam0->f_3, 177, true);
PED::SET_PED_CONFIG_FLAG(uParam0->f_3, 116, false);
PED::ADD_RELATIONSHIP_GROUP("TAXI_Passenger", &(uParam0->f_413));
PED::SET_RELATIONSHIP_BETWEEN_GROUPS(1, uParam0->f_413, joaat("PLAYER"));
PED::SET_RELATIONSHIP_BETWEEN_GROUPS(2, uParam0->f_413, joaat("COP"));
PED::SET_PED_RELATIONSHIP_GROUP_HASH(uParam0->f_3, uParam0->f_413);
return 1;
}}
return 0;
}


void func_316(var uParam0, Vector3 vParam1, var uParam2, var uParam3) // Position - 0xB873{
uParam0->f_51[0]=VEHICLE::ADD_ROAD_NODE_SPEED_ZONE(vParam1, 20f, 5f, false);
return;
}


void func_317(var uParam0, int iParam1, int iParam2, BOOL bParam3) // Position - 0xB891{
int i;
if(iParam1==32){
for (i=0;
i < 32;
i=i + 1){
if(iParam2 > 0f) func_110(&uParam0->f_146[i /*3*/], iParam2);
else func_109(&uParam0->f_146[i /*3*/]);
}}elseif(iParam2 > 0f){
func_110(&uParam0->f_146[iParam1 /*3*/], iParam2);
}else{
func_109(&uParam0->f_146[iParam1 /*3*/]);
}
bParam3;
return;
}


void func_318() // Position - 0xB903{
STREAMING::REQUEST_MODEL(hLocal_886);
func_320(false);
iLocal_1132=func_319();
STREAMING::REQUEST_ANIM_DICT("gestures@m@standing@casual");
return;
}

int func_319() // Position - 0xB926{
return GRAPHICS::REQUEST_SCALEFORM_MOVIE("MIDSIZED_MESSAGE");
}


void func_320(BOOL bParam0) // Position - 0xB936{
STREAMING::REQUEST_MODEL(func_19());
if(bParam0) STREAMING::REQUEST_ANIM_DICT("gestures@m@standing@casual");
STREAMING::REQUEST_ANIM_DICT("oddjobs@taxi@");
STREAMING::REQUEST_ANIM_DICT("oddjobs@towingcome_here");
STREAMING::REQUEST_ANIM_DICT("misscommon@response");
HUD::REQUEST_ADDITIONAL_TEXT("TAXI" /*Taxi*/, 2);
if(!func_22(Global_113648.f_19099, 128)) func_67(&(Global_113648.f_19099), 128);
return;
}


void func_321(var uParam0, int iParam1, BOOL bParam2) // Position - 0xB992{
if(uParam0->f_411==0){
if(PLAYER::GET_PLAYER_WANTED_LEVEL(PLAYER::PLAYER_ID())==0){
if(bParam2){
if(func_116(uParam0, 10) > 20f + 10f){
if(uParam0->f_112){
func_254(uParam0, 92, 1, false, false);
uParam0->f_112=0;
}else{
func_254(uParam0, 83, 1, false, false);
}
uParam0->f_113=1;
func_317(uParam0, 10, 0f, true);
}}elseif(func_116(uParam0, 10) > 20f){
if(uParam0->f_112){
func_254(uParam0, 92, 1, false, false);
uParam0->f_112=0;
}else{
func_254(uParam0, 83, 1, false, false);
}
uParam0->f_113=1;
func_317(uParam0, 10, 0f, true);
}}}
if(uParam0->f_411==1){
if(func_116(uParam0, 10) > 30f){
if(!_CONVERSATION_IS_DIALOGUE_IN_PROGRESS()){
if(uParam0->f_112){
func_254(uParam0, 92, 1, false, false);
uParam0->f_112=0;
}else{
func_254(uParam0, 83, 1, false, false);
}
uParam0->f_113=1;
func_317(uParam0, 10, 0f, true);
}}}
if(func_22(uParam0->f_100, 64)){
if(!func_14(&(uLocal_190[5 /*10*/].f_6))){
func_117(&(uLocal_190[5 /*10*/].f_6));
}elseif(func_107(&(uLocal_190[5 /*10*/].f_6)) > 6f){
if(func_344(uParam0)){
if(uParam0->f_113){
func_254(uParam0, 93, 1, false, false);
uParam0->f_113=0;
}else{
func_254(uParam0, uLocal_190[5 /*10*/].f_9, 1, false, false);
}
func_343(uParam0, 1);
func_341(5, uParam0);
func_340(uParam0);
}}}
if(func_22(uParam0->f_100, 1)){
if(!func_14(&(uLocal_190[0 /*10*/].f_6))){
func_117(&(uLocal_190[0 /*10*/].f_6));
}elseif(func_107(&(uLocal_190[0 /*10*/].f_6)) > 5f){
if(func_339(uParam0)){
func_343(uParam0, 1);
func_341(0, uParam0);
if(uParam0->f_113){
func_254(uParam0, 93, 1, false, false);
uParam0->f_113=0;
}else{
func_254(uParam0, uLocal_190[0 /*10*/].f_9, 1, false, false);
}
func_340(uParam0);
}}}
if(func_22(uParam0->f_100, 2)){
if(!func_14(&(uLocal_190[1 /*10*/].f_6))){
func_117(&(uLocal_190[1 /*10*/].f_6));
}elseif(func_107(&(uLocal_190[1 /*10*/].f_6)) > 5f){
if(func_338(uParam0)){
func_343(uParam0, 1);
func_341(1, uParam0);
if(uParam0->f_113){
func_254(uParam0, 93, 1, false, false);
uParam0->f_113=0;
}else{
func_254(uParam0, uLocal_190[1 /*10*/].f_9, 1, false, false);
}
func_340(uParam0);
}}}
if(func_22(uParam0->f_100, 2048)){
if(!func_14(&(uLocal_190[8 /*10*/].f_6))){
if(ENTITY::DOES_ENTITY_EXIST(uParam0->f_4)){
uParam0->f_46=ENTITY::GET_ENTITY_HEALTH(uParam0->f_4);
func_117(&(uLocal_190[8 /*10*/].f_6));
}}elseif(func_107(&(uLocal_190[8 /*10*/].f_6)) > 7f || uLocal_190[8 /*10*/].f_1==0){
if(func_337(uParam0)){
func_343(uParam0, 1);
func_341(8, uParam0);
func_340(uParam0);
}}}
if(func_22(uParam0->f_100, 128)){
if(!func_14(&(uLocal_190[6 /*10*/].f_6))){
func_117(&(uLocal_190[6 /*10*/].f_6));
}elseif(func_107(&(uLocal_190[6 /*10*/].f_6)) > 5f){
if(func_336(uParam0)){
func_343(uParam0, 1);
func_341(6, uParam0);
if(uParam0->f_113){
func_254(uParam0, 93, 1, false, false);
uParam0->f_113=0;
}else{
func_254(uParam0, uLocal_190[6 /*10*/].f_9, 1, false, false);
}
func_340(uParam0);
}}}
if(func_22(uParam0->f_100, 32)){
if(!func_14(&(uLocal_190[4 /*10*/].f_6))){
func_117(&(uLocal_190[4 /*10*/].f_6));
}elseif(func_107(&(uLocal_190[4 /*10*/].f_6)) > 4f){
if(func_335(uParam0)){
func_343(uParam0, 1);
func_341(4, uParam0);
if(uParam0->f_113){
func_254(uParam0, 93, 1, false, false);
uParam0->f_113=0;
}else{
func_254(uParam0, uLocal_190[4 /*10*/].f_9, 1, false, false);
}
func_340(uParam0);
}}}
if(func_22(uParam0->f_100, 256)){
if(!func_14(&(uLocal_190[7 /*10*/].f_6))){
func_117(&(uLocal_190[7 /*10*/].f_6));
}elseif(func_107(&(uLocal_190[7 /*10*/].f_6)) > 5f || uLocal_190[7 /*10*/].f_1==0){
if(func_334(uParam0)){
func_341(7, uParam0);
func_343(uParam0, 1);
if(uParam0->f_113){
func_254(uParam0, 93, 1, false, false);
uParam0->f_113=0;
}else{
func_254(uParam0, uLocal_190[7 /*10*/].f_9, 1, false, true);
}
func_340(uParam0);
}}}
if(func_22(uParam0->f_100, 8)){
if(!func_14(&(uLocal_190[9 /*10*/].f_6))){
func_117(&(uLocal_190[9 /*10*/].f_6));
}elseif(func_107(&(uLocal_190[9 /*10*/].f_6)) <=7f){
PLAYER::CLEAR_PLAYER_HAS_DAMAGED_AT_LEAST_ONE_PED(PLAYER::PLAYER_ID());
}elseif(func_107(&(uLocal_190[9 /*10*/].f_6)) > 7f || uLocal_190[9 /*10*/].f_1==0){
if(func_333(uParam0)){
func_343(uParam0, 1);
func_341(9, uParam0);
if(uParam0->f_113){
func_254(uParam0, 93, 1, false, false);
uParam0->f_113=0;
}else{
func_254(uParam0, uLocal_190[9 /*10*/].f_9, 1, false, true);
}
func_340(uParam0);
}}}
if(func_22(uParam0->f_100, 16384)){
if(!func_14(&(uLocal_190[13 /*10*/].f_6))){
func_117(&(uLocal_190[13 /*10*/].f_6));
}elseif(func_107(&(uLocal_190[13 /*10*/].f_6)) > 10f){
if(func_327(uParam0)){
func_343(uParam0, 1);
func_341(13, uParam0);
if(uParam0->f_113){
func_254(uParam0, 93, 1, false, false);
uParam0->f_113=0;
}else{
func_254(uParam0, uLocal_190[13 /*10*/].f_9, 1, false, false);
}
func_340(uParam0);
}}}
if(func_22(uParam0->f_100, 32768)){
if(!func_14(&(uLocal_190[14 /*10*/].f_6))){
func_117(&(uLocal_190[14 /*10*/].f_6));
}elseif(func_107(&(uLocal_190[14 /*10*/].f_6)) > 7f){
if(func_326(uParam0)){
func_343(uParam0, 1);
func_341(14, uParam0);
if(uParam0->f_113){
func_254(uParam0, 93, 1, false, false);
uParam0->f_113=0;
}else{
func_254(uParam0, uLocal_190[14 /*10*/].f_9, 1, false, false);
}
func_340(uParam0);
}}}
if(func_22(uParam0->f_100, 4096)){
if(!func_14(&(uLocal_190[11 /*10*/].f_6))){
func_117(&(uLocal_190[11 /*10*/].f_6));
}elseif(func_107(&(uLocal_190[11 /*10*/].f_6)) > 8f){
if(func_325(uParam0)){
func_343(uParam0, 1);
func_341(11, uParam0);
if(uParam0->f_113){
func_254(uParam0, 93, 1, false, false);
uParam0->f_113=0;
}else{
func_254(uParam0, uLocal_190[11 /*10*/].f_9, 1, false, false);
}
func_340(uParam0);
}}}
if(func_22(uParam0->f_100, 8192)){
if(!func_14(&(uLocal_190[12 /*10*/].f_6))){
func_117(&(uLocal_190[12 /*10*/].f_6));
}elseif(func_107(&(uLocal_190[12 /*10*/].f_6)) > 5f){
if(func_324(uParam0)){
func_343(uParam0, 1);
func_341(12, uParam0);
if(uParam0->f_113){
func_254(uParam0, 93, 1, false, false);
uParam0->f_113=0;
}else{
func_254(uParam0, uLocal_190[12 /*10*/].f_9, 1, false, false);
}
func_340(uParam0);
}}}
if(func_22(uParam0->f_100, 4)){
if(!func_14(&(uLocal_190[2 /*10*/].f_6))){
func_323(&(uLocal_190[2 /*10*/].f_6), 0f);
}elseif(func_107(&(uLocal_190[2 /*10*/].f_6)) > 5f){
if(func_322(uParam0)){
if(uParam0->f_113){
func_254(uParam0, 93, 1, false, false);
uParam0->f_113=0;
}else{
func_254(uParam0, uLocal_190[2 /*10*/].f_9, 1, false, false);
}
func_343(uParam0, 1);
func_341(2, uParam0);
func_340(uParam0);
}}}
return;
}
BOOL func_322(var uParam0) // Position - 0xC18F{
float num;
if(!PED::IS_PED_INJURED(uParam0->f_2)){
if(!PED::IS_PED_STOPPED(uParam0->f_2) && !func_14(&(uLocal_190[0 /*10*/].f_3)) && !func_14(&(uLocal_190[1 /*10*/].f_3))){
if(!func_14(&(uLocal_190[2 /*10*/].f_3))){
uParam0->f_37=ENTITY::GET_ENTITY_SPEED(uParam0->f_2);
if(uParam0->f_37 > 10f) func_117(&(uLocal_190[2 /*10*/].f_3));
}elseif(func_107(&(uLocal_190[2 /*10*/].f_3)) > 0.9f){
uParam0->f_38=uParam0->f_37;
uParam0->f_37=ENTITY::GET_ENTITY_SPEED(uParam0->f_2);
num=uParam0->f_38 - uParam0->f_37;
func_106(&(uLocal_190[2 /*10*/].f_3));
if(num > 10f && uParam0->f_37 < 12f) return true;
}}else{
func_106(&(uLocal_190[2 /*10*/].f_3));
}}
return false;
}


void func_323(int* piParam0, float fParam1) // Position - 0xC272{
if(!func_14(piParam0)) func_110(piParam0, fParam1);
return;
}
BOOL func_324(var uParam0) // Position - 0xC28C{
var entitySpeedVector;
if(VEHICLE::IS_VEHICLE_DRIVEABLE(uParam0->f_4, false)){
entitySpeedVector={
ENTITY::GET_ENTITY_SPEED_VECTOR(uParam0->f_4, true) 
};
if(entitySpeedVector.f_1 < -10f && !func_14(&(uLocal_190[0 /*10*/].f_3))){
if(!func_14(&(uLocal_190[12 /*10*/].f_3))){
func_117(&(uLocal_190[12 /*10*/].f_3));
}elseif(func_107(&(uLocal_190[12 /*10*/].f_3)) > 5f){
func_106(&(uLocal_190[12 /*10*/].f_3));
return true;
}}else{
func_106(&(uLocal_190[12 /*10*/].f_3));
}}
return false;
}
BOOL func_325(var uParam0) // Position - 0xC31B{
float entitySpeedVector;
if(VEHICLE::IS_VEHICLE_DRIVEABLE(uParam0->f_4, false) && !func_14(&(uLocal_190[0 /*10*/].f_3)) && !func_14(&(uLocal_190[1 /*10*/].f_3)) && !func_14(&(uLocal_190[5 /*10*/].f_3)) && !func_14(&(uLocal_190[9 /*10*/].f_3)) && !func_14(&(uLocal_190[7 /*10*/].f_3)) && !func_14(&(uLocal_190[8 /*10*/].f_3))){
entitySpeedVector={
ENTITY::GET_ENTITY_SPEED_VECTOR(uParam0->f_4, true) 
};
if(MISC::ABSF(entitySpeedVector) > 2.5f && !func_14(&(uLocal_190[0 /*10*/].f_3))){
if(!func_14(&(uLocal_190[11 /*10*/].f_3))){
func_117(&(uLocal_190[11 /*10*/].f_3));
fLocal_342=entitySpeedVector;
}elseif(func_107(&(uLocal_190[11 /*10*/].f_3)) < 1.5f && MISC::ABSF(fLocal_342) - MISC::ABSF(entitySpeedVector) < 0f){
func_106(&(uLocal_190[11 /*10*/].f_3));
return true;
}elseif(func_107(&(uLocal_190[11 /*10*/].f_3)) >=1.5f){
func_106(&(uLocal_190[11 /*10*/].f_3));
return false;
}}}
return false;
}
BOOL func_326(var uParam0) // Position - 0xC44B{
if(VEHICLE::IS_VEHICLE_DRIVEABLE(uParam0->f_4, false) && !func_14(&(uLocal_190[0 /*10*/].f_3)) && !func_14(&(uLocal_190[8 /*10*/].f_3)) && !func_14(&(uLocal_190[5 /*10*/].f_3)) && !func_14(&(uLocal_190[9 /*10*/].f_3)) && !func_14(&(uLocal_190[7 /*10*/].f_3))){
if(!func_14(&(uLocal_190[14 /*10*/].f_3))){
uParam0->f_5=VEHICLE::GET_CLOSEST_VEHICLE(ENTITY::GET_ENTITY_COORDS(uParam0->f_4, true), 10f, 0, 260);
if(ENTITY::DOES_ENTITY_EXIST(uParam0->f_5))if(ENTITY::GET_ENTITY_SPEED(uParam0->f_4) > 15f && func_51(uParam0->f_5, uParam0->f_4, true) < 3f && !ENTITY::IS_ENTITY_DEAD(uParam0->f_5, false) && !VEHICLE::IS_VEHICLE_SEAT_FREE(uParam0->f_5, -1, false)) func_117(&(uLocal_190[14 /*10*/].f_3));
}elseif(func_107(&(uLocal_190[14 /*10*/].f_3)) < 1.5f && func_51(uParam0->f_5, uParam0->f_4, true) > 4.5f && !ENTITY::HAS_ENTITY_BEEN_DAMAGED_BY_ANY_VEHICLE(uParam0->f_5)){
func_106(&(uLocal_190[14 /*10*/].f_3));
return true;
}elseif(func_107(&(uLocal_190[14 /*10*/].f_3)) >=1.5f){
func_106(&(uLocal_190[14 /*10*/].f_3));
return false;
}elseif(ENTITY::HAS_ENTITY_BEEN_DAMAGED_BY_ANY_VEHICLE(uParam0->f_5)){
func_106(&(uLocal_190[14 /*10*/].f_3));
return false;
}}
return false;
}
BOOL func_327(var uParam0) // Position - 0xC5D0{
if(VEHICLE::IS_VEHICLE_DRIVEABLE(uParam0->f_4, false) && !func_14(&(uLocal_190[9 /*10*/].f_3)) && !func_14(&(uLocal_190[7 /*10*/].f_3)) && !func_14(&(uLocal_190[4 /*10*/].f_3))){
if(!func_328(uParam0->f_4) && ENTITY::GET_ENTITY_SPEED(uParam0->f_4) > 15f){
if(!func_14(&(uLocal_190[13 /*10*/].f_3))){
func_117(&(uLocal_190[13 /*10*/].f_3));
}elseif(func_107(&(uLocal_190[13 /*10*/].f_3)) > 5f){
func_106(&(uLocal_190[13 /*10*/].f_3));
return true;
}}else{
func_106(&(uLocal_190[13 /*10*/].f_3));
}}
return false;
}
BOOL func_328(Entity eParam0) // Position - 0xC687{
Vector3 outPosition;
float outPosition2;
var outPosition3;
var unk7;
var unk10;
var unk13;
var unk16;
var unk19;
var unk22;
float num;
PATHFIND::GET_NTH_CLOSEST_VEHICLE_NODE(ENTITY::GET_ENTITY_COORDS(eParam0, true), 1, &outPosition, 1, 1077936128, 0);
PATHFIND::GET_NTH_CLOSEST_VEHICLE_NODE(ENTITY::GET_ENTITY_COORDS(eParam0, true), 2, &outPosition2, 1, 1077936128, 0);
PATHFIND::GET_POSITION_BY_SIDE_OF_ROAD(outPosition, -1, &outPosition3);
num=SYSTEM::VMAG(outPosition3 - outPosition);
unk7={
func_332(outPosition2 - outPosition, outPosition2.f_1 - outPosition.f_1, 0f) 
};
unk10={
func_331(unk7, 0) *{
num, num, num 
}};
unk7={
unk7 *{
2f, 2f, 2f 
}};
unk13={
(outPosition - unk7) + unk10 
};
unk16={
outPosition - unk7 - unk10 
};
unk19={
outPosition2 + unk7 + unk10 
};
unk22={
(outPosition2 + unk7) - unk10 
};
unk22={
unk22 
};
return func_329(ENTITY::GET_ENTITY_COORDS(eParam0, true), unk13, unk16, unk19);
}
BOOL func_329(var uParam0, var uParam1, var uParam2, var uParam3, var uParam4, var uParam5, var uParam6, var uParam7, var uParam8, var uParam9, var uParam10, var uParam11) // Position - 0xC770{
var unk;
var unk4;
float num;
float num2;
float num3;
float num4;
float num5;
float num6;
float num7;
float num8;
uParam0.f_2=0f;
uParam3.f_2=0f;
uParam6.f_2=0f;
uParam9.f_2=0f;
unk={
func_332(uParam6 - uParam3) 
};
unk4={
func_332(uParam9 - uParam3) 
};
num=func_330(uParam0, unk);
num2=func_330(uParam3, unk);
num3=func_330(uParam6, unk);
num4=func_330(uParam0, unk4);
num5=func_330(uParam3, unk4);
num6=func_330(uParam9, unk4);
if(num2 > num3){
num7=num2;
num2=num3;
num3=num7;
}
if(num < num2 || num > num3) return 0;
if(num5 > num6){
num8=num5;
num5=num6;
num6=num8;
}
if(num4 < num5 || num4 > num6) return 0;
return 1;
}


float func_330(float fParam0, var uParam1, var uParam2, var uParam3, var uParam4, var uParam5) // Position - 0xC859{
return (fParam0 * uParam3) + (fParam0.f_1 * uParam3.f_1) + (fParam0.f_2 * uParam3.f_2);
}


Vector3 func__331(float fParam0, var uParam1, var uParam2, int iParam3) // Position - 0xC87A{
float num;
switch (iParam3){
case 0:
num=-fParam0.f_1;
num.f_1=fParam0;
break;
case 1:
num=-fParam0;
num.f_1=-fParam0.f_1;
break;
case 2:
num=fParam0.f_1;
num.f_1=-fParam0;
break;
}
num.f_2=fParam0.f_2;
return num;
}


Vector3 func__332(float fParam0, float fParam1, float fParam2) // Position - 0xC8D8{
float num;
float num2;
num=SYSTEM::VMAG(fParam0);
if(num !=0f){
num2=1f / num;
fParam0={
fParam0 *{
num2, num2, num2 
}};
}else{
fParam0=0f;
fParam0.f_1=0f;
fParam0.f_2=0f;
}
return fParam0;
}
BOOL func_333(var uParam0) // Position - 0xC917{
if(VEHICLE::IS_VEHICLE_DRIVEABLE(uParam0->f_4, false))if(VEHICLE::GET_PED_IN_VEHICLE_SEAT(uParam0->f_4, -1, false)==PLAYER::PLAYER_PED_ID())if(PLAYER::HAS_PLAYER_DAMAGED_AT_LEAST_ONE_PED(PLAYER::PLAYER_ID())) return true;
return false;
}
BOOL func_334(var uParam0) // Position - 0xC94C{
if(VEHICLE::IS_VEHICLE_DRIVEABLE(uParam0->f_4, false)){
if(VEHICLE::GET_PED_IN_VEHICLE_SEAT(uParam0->f_4, -1, false)==PLAYER::PLAYER_PED_ID()){
if(ENTITY::IS_ENTITY_UPSIDEDOWN(uParam0->f_4)){
if(!bLocal_341)if(ENTITY::GET_ENTITY_ROLL(uParam0->f_4) <=-145f || ENTITY::GET_ENTITY_ROLL(uParam0->f_4) >=145f) bLocal_341=true;
}elseif(bLocal_341){
if(ENTITY::GET_ENTITY_ROLL(uParam0->f_4) <=35f && ENTITY::GET_ENTITY_ROLL(uParam0->f_4) >=-35f){
bLocal_341=false;
return true;
}}}}
return false;
}
BOOL func_335(var uParam0) // Position - 0xC9E2{
int timeSincePlayerDroveOnPavement;
if(VEHICLE::IS_VEHICLE_DRIVEABLE(uParam0->f_4, false)){
timeSincePlayerDroveOnPavement=PLAYER::GET_TIME_SINCE_PLAYER_DROVE_ON_PAVEMENT(PLAYER::PLAYER_ID());
if(timeSincePlayerDroveOnPavement==0){
if(!func_14(&(uLocal_190[4 /*10*/].f_3))){
func_117(&(uLocal_190[4 /*10*/].f_3));
}elseif(func_107(&(uLocal_190[4 /*10*/].f_3)) > 2f){
func_106(&(uLocal_190[4 /*10*/].f_3));
return true;
}}else{
func_106(&(uLocal_190[4 /*10*/].f_3));
}}
return false;
}
BOOL func_336(var uParam0) // Position - 0xCA54{
int timeSincePlayerDroveAgainstTraffic;
if(VEHICLE::IS_VEHICLE_DRIVEABLE(uParam0->f_4, false)){
timeSincePlayerDroveAgainstTraffic=PLAYER::GET_TIME_SINCE_PLAYER_DROVE_AGAINST_TRAFFIC(PLAYER::PLAYER_ID());
if(timeSincePlayerDroveAgainstTraffic==0){
if(!func_14(&(uLocal_190[6 /*10*/].f_3))){
func_117(&(uLocal_190[6 /*10*/].f_3));
}elseif(func_107(&(uLocal_190[6 /*10*/].f_3)) > 3.5f){
func_106(&(uLocal_190[6 /*10*/].f_3));
return true;
}}else{
func_106(&(uLocal_190[6 /*10*/].f_3));
}}
return false;
}
BOOL func_337(var uParam0) // Position - 0xCACA{
int entityHealth;
int num;
if(VEHICLE::IS_VEHICLE_DRIVEABLE(uParam0->f_4, false)){
if(ENTITY::HAS_ENTITY_COLLIDED_WITH_ANYTHING(uParam0->f_4)){
entityHealth=ENTITY::GET_ENTITY_HEALTH(uParam0->f_4);
num=uParam0->f_46 - entityHealth;
uParam0->f_46=entityHealth;
ENTITY::CLEAR_ENTITY_LAST_DAMAGE_ENTITY(uParam0->f_4);
if((float)num > 10f){
if(uParam0->f_113){
func_254(uParam0, 93, 1, false, false);
uParam0->f_113=0;
}else{
func_254(uParam0, 72, 1, false, true);
}
func_106(&(uLocal_190[2 /*10*/].f_6));
return true;
}}}
return false;
}
BOOL func_338(var uParam0) // Position - 0xCB4B{
float entitySpeedVector;
if(VEHICLE::IS_VEHICLE_DRIVEABLE(uParam0->f_4, false)){
entitySpeedVector={
ENTITY::GET_ENTITY_SPEED_VECTOR(uParam0->f_4, true) 
};
if(MISC::ABSF(entitySpeedVector) > 3f && !func_14(&(uLocal_190[0 /*10*/].f_3))){
if(!func_14(&(uLocal_190[1 /*10*/].f_3))){
func_117(&(uLocal_190[1 /*10*/].f_3));
}elseif(func_107(&(uLocal_190[1 /*10*/].f_3)) > 1.2f){
func_106(&(uLocal_190[1 /*10*/].f_3));
return true;
}}else{
func_106(&(uLocal_190[1 /*10*/].f_3));
}}
return false;
}
BOOL func_339(var uParam0) // Position - 0xCBD7{
if(VEHICLE::IS_VEHICLE_DRIVEABLE(uParam0->f_4, false)){
if(!VEHICLE::IS_VEHICLE_ON_ALL_WHEELS(uParam0->f_4) && ENTITY::IS_ENTITY_IN_AIR(uParam0->f_4)){
if(!func_14(&(uLocal_190[0 /*10*/].f_3))){
func_117(&(uLocal_190[0 /*10*/].f_3));
}elseif(func_107(&(uLocal_190[0 /*10*/].f_3)) > 0.7f){
func_106(&(uLocal_190[0 /*10*/].f_3));
func_109(&(uLocal_190[1 /*10*/].f_6));
return true;
}}else{
func_106(&(uLocal_190[0 /*10*/].f_3));
}}
return false;
}


void func_340(var uParam0) // Position - 0xCC61{
int i;
for (i=0;
i < 15;
i=i + 1){
if(func_14(&(uLocal_190[i /*10*/].f_6))) func_109(&(uLocal_190[i /*10*/].f_6));
}
func_317(uParam0, 10, 0f, true);
PLAYER::CLEAR_PLAYER_HAS_DAMAGED_AT_LEAST_ONE_PED(PLAYER::PLAYER_ID());
return;
}


void func_341(int iParam0, var uParam1) // Position - 0xCCA9{
uLocal_190[iParam0 /*10*/].f_1=uLocal_190[iParam0 /*10*/].f_1 + 1;
func_342(uParam1, iParam0);
func_106(&(uLocal_190[iParam0 /*10*/].f_6));
uParam1->f_112=1;
return;
}


void func_342(var uParam0, int iParam1) // Position - 0xCCDC{
uParam0->f_76=uParam0->f_76 + uLocal_190[iParam1 /*10*/];
return;
}


void func_343(var uParam0, int iParam1) // Position - 0xCCF3{
uParam0->f_104=uParam0->f_104 + iParam1;
return;
}
BOOL func_344(var uParam0) // Position - 0xCD06{
if(VEHICLE::IS_VEHICLE_DRIVEABLE(uParam0->f_4, false)){
if(ENTITY::GET_ENTITY_SPEED(uParam0->f_4) > 25f){
if(!func_14(&(uLocal_190[5 /*10*/].f_3))){
func_117(&(uLocal_190[5 /*10*/].f_3));
}elseif(func_107(&(uLocal_190[5 /*10*/].f_3)) > 3.5f){
func_106(&(uLocal_190[5 /*10*/].f_3));
return true;
}}else{
func_106(&(uLocal_190[5 /*10*/].f_3));
}}
return false;
}


void func_345() // Position - 0xCD7D{
Vector3 entityCoords;
func_143("UPDATE_FINAL_SCENE()", &iLocal_896, 1000);
if(caLocal_423.f_410 >=28 && !bLocal_905 && ENTITY::HAS_ENTITY_BEEN_DAMAGED_BY_ENTITY(caLocal_423.f_3, PLAYER::PLAYER_PED_ID(), true) || ENTITY::HAS_ENTITY_BEEN_DAMAGED_BY_ENTITY(pedLocal_890, PLAYER::PLAYER_PED_ID(), true) || ENTITY::HAS_ENTITY_BEEN_DAMAGED_BY_ENTITY(hLocal_853.f_2, PLAYER::PLAYER_PED_ID(), true)) bLocal_905=true;
elseif(!ENTITY::IS_ENTITY_DEAD(caLocal_423.f_3, false))if(ENTITY::HAS_ENTITY_BEEN_DAMAGED_BY_ENTITY(hLocal_853.f_2, caLocal_423.f_3, true) && iLocal_1142 < 6) bLocal_905=true;
if(iLocal_1142 >=4){
if(func_233(caLocal_423.f_3, true) < 3f && !bLocal_904){
if(!_CONVERSATION_IS_DIALOGUE_IN_PROGRESS()){
_CONVERSATION_ADD_LINE(&(caLocal_423.f_244), caLocal_423.f_144, "txm4_aggro", 8, 0, 0, 0);
TASK::TASK_AIM_GUN_AT_ENTITY(caLocal_423.f_3, PLAYER::PLAYER_PED_ID(), -1, false);
iLocal_900=MISC::GET_GAME_TIMER();
bLocal_904=true;
}elseif(!bLocal_913){
func_151();
bLocal_913=true;
}}}
switch (iLocal_1142){
case 0:
if(!ENTITY::IS_ENTITY_DEAD(hLocal_853.f_2, false) && !ENTITY::IS_ENTITY_DEAD(caLocal_423.f_3, false) && !ENTITY::IS_ENTITY_DEAD(pedLocal_890, false)){
PED::ADD_RELATIONSHIP_GROUP("TAXI_Whore", &hLocal_893);
hLocal_892=PED::GET_PED_RELATIONSHIP_GROUP_HASH(caLocal_423.f_3);
PED::SET_RELATIONSHIP_BETWEEN_GROUPS(255, hLocal_853.f_30, hLocal_893);
PED::SET_RELATIONSHIP_BETWEEN_GROUPS(255, hLocal_853.f_30, hLocal_892);
PED::SET_PED_RELATIONSHIP_GROUP_HASH(hLocal_853.f_2, hLocal_853.f_30);
PED::SET_PED_RELATIONSHIP_GROUP_HASH(pedLocal_890, hLocal_893);
PED::SET_BLOCKING_OF_NON_TEMPORARY_EVENTS(hLocal_853.f_2, true);
PED::SET_PED_COMBAT_ATTRIBUTES(hLocal_853.f_2, BF_AlwaysFlee, true);
ENTITY::SET_ENTITY_HEALTH(hLocal_853.f_2, 130, 0);
PED::SET_PED_SUFFERS_CRITICAL_HITS(hLocal_853.f_2, true);
unk_0xB7561E3CA1BE2262(hLocal_853.f_2, 1);
TASK::CLEAR_PED_TASKS(hLocal_853.f_2);
PED::SET_BLOCKING_OF_NON_TEMPORARY_EVENTS(pedLocal_890, true);
PED::SET_PED_COMBAT_ATTRIBUTES(pedLocal_890, BF_AlwaysFlee, true);
ENTITY::SET_ENTITY_HEALTH(pedLocal_890, 130, 0);
PED::SET_PED_SUFFERS_CRITICAL_HITS(pedLocal_890, true);
unk_0xB7561E3CA1BE2262(pedLocal_890, 1);
TASK::CLEAR_PED_TASKS(pedLocal_890);
iLocal_1142=1;
}
break;
case 1:
if(!ENTITY::IS_ENTITY_DEAD(hLocal_853.f_2, false) && !ENTITY::IS_ENTITY_DEAD(caLocal_423.f_3, false) && !ENTITY::IS_ENTITY_DEAD(pedLocal_890, false) && !ENTITY::IS_ENTITY_DEAD(hLocal_853.f_3, false)){
TASK::CLEAR_SEQUENCE_TASK(&iLocal_414);
TASK::OPEN_SEQUENCE_TASK(&iLocal_414);
TASK::TASK_TURN_PED_TO_FACE_ENTITY(0, pedLocal_890, 0);
TASK::TASK_PLAY_ANIM(0, &uLocal_980, "idle_b", 1090519040, -1056964608, -1, 0, 0, false, false, false);
TASK::TASK_PLAY_ANIM(0, &uLocal_996, "exit", 1090519040, -1056964608, -1, 0, 0, false, false, false);
TASK::CLOSE_SEQUENCE_TASK(iLocal_414);
TASK::TASK_PERFORM_SEQUENCE(hLocal_853.f_2, iLocal_414);
TASK::CLEAR_SEQUENCE_TASK(&iLocal_414);
TASK::CLEAR_SEQUENCE_TASK(&iLocal_415);
TASK::OPEN_SEQUENCE_TASK(&iLocal_415);
TASK::TASK_TURN_PED_TO_FACE_ENTITY(0, hLocal_853.f_2, 0);
TASK::TASK_PLAY_ANIM(0, &uLocal_1012, "idle_a", 8f, -8f, -1, 1, 0, false, false, false);
TASK::CLOSE_SEQUENCE_TASK(iLocal_415);
TASK::TASK_PERFORM_SEQUENCE(pedLocal_890, iLocal_415);
TASK::CLEAR_SEQUENCE_TASK(&iLocal_415);
iLocal_1142=2;
}
break;
case 2:
if(bLocal_906){
if(!ENTITY::IS_ENTITY_DEAD(pedLocal_890, false) && !ENTITY::IS_ENTITY_DEAD(caLocal_423.f_3, false)){
PED::SET_PED_RELATIONSHIP_GROUP_HASH(caLocal_423.f_3, hLocal_892);
PED::SET_BLOCKING_OF_NON_TEMPORARY_EVENTS(caLocal_423.f_3, true);
PED::SET_PED_COMBAT_ATTRIBUTES(caLocal_423.f_3, BF_Aggressive, true);
PED::SET_PED_SHOOT_RATE(caLocal_423.f_3, 100);
PED::SET_PED_ACCURACY(caLocal_423.f_3, 100);
ENTITY::SET_ENTITY_HEALTH(caLocal_423.f_3, 105, 0);
TASK::CLEAR_PED_TASKS(caLocal_423.f_3);
TASK::CLEAR_SEQUENCE_TASK(&iLocal_416);
TASK::OPEN_SEQUENCE_TASK(&iLocal_416);
TASK::TASK_STAND_STILL(0, 5000);
func_347(&caLocal_423, -691.48f, -1113.31f, 13.53f);
TASK::TASK_GO_TO_COORD_WHILE_AIMING_AT_ENTITY(0, func_346(iLocal_413), pedLocal_890, 3f, true, 1056964608, 1082130432, true, 0, false, joaat("FIRING_PATTERN_FULL_AUTO"), 20000);
TASK::TASK_SHOOT_AT_ENTITY(0, pedLocal_890, -1, joaat("FIRING_PATTERN_FULL_AUTO"));
TASK::CLOSE_SEQUENCE_TASK(iLocal_416);
TASK::TASK_PERFORM_SEQUENCE(caLocal_423.f_3, iLocal_416);
TASK::CLEAR_SEQUENCE_TASK(&iLocal_416);
bLocal_902=true;
PLAYER::SET_PLAYER_CONTROL(PLAYER::PLAYER_ID(), false, SPC_LEAVE_CAMERA_CONTROL_ON);
WEAPON::GIVE_WEAPON_TO_PED(caLocal_423.f_3, joaat("WEAPON_PISTOL"), 100, true, true);
iLocal_1142=3;
}}elseif(!bLocal_909){
if(!PED::IS_PED_INJURED(hLocal_853.f_2) && !PED::IS_PED_INJURED(pedLocal_890)){
if(func_233(hLocal_853.f_2, true) < 2f || func_233(pedLocal_890, true) < 2f){
TASK::CLEAR_PED_TASKS(hLocal_853.f_2);
TASK::CLEAR_PED_TASKS(pedLocal_890);
TASK::TASK_LOOK_AT_ENTITY(hLocal_853.f_2, PLAYER::PLAYER_PED_ID(), -1, SLF_WHILE_NOT_IN_FOV, 4);
TASK::CLEAR_SEQUENCE_TASK(&iLocal_414);
TASK::OPEN_SEQUENCE_TASK(&iLocal_414);
TASK::TASK_TURN_PED_TO_FACE_ENTITY(0, PLAYER::PLAYER_PED_ID(), 0);
TASK::CLOSE_SEQUENCE_TASK(iLocal_414);
TASK::TASK_PERFORM_SEQUENCE(hLocal_853.f_2, iLocal_414);
TASK::TASK_LOOK_AT_ENTITY(pedLocal_890, PLAYER::PLAYER_PED_ID(), -1, SLF_WHILE_NOT_IN_FOV, 4);
TASK::CLEAR_SEQUENCE_TASK(&iLocal_415);
TASK::OPEN_SEQUENCE_TASK(&iLocal_415);
TASK::TASK_TURN_PED_TO_FACE_ENTITY(0, PLAYER::PLAYER_PED_ID(), 0);
TASK::CLOSE_SEQUENCE_TASK(iLocal_415);
TASK::TASK_PERFORM_SEQUENCE(pedLocal_890, iLocal_415);
bLocal_909=true;
}}else{
if(PED::IS_PED_INJURED(hLocal_853.f_2)){
}else{
TASK::CLEAR_PED_TASKS(hLocal_853.f_2);
TASK::TASK_SMART_FLEE_PED(hLocal_853.f_2, PLAYER::PLAYER_PED_ID(), 100f, 20000, false, false);
}
if(PED::IS_PED_INJURED(pedLocal_890)){
}else{
TASK::CLEAR_PED_TASKS(pedLocal_890);
TASK::TASK_SMART_FLEE_PED(pedLocal_890, PLAYER::PLAYER_PED_ID(), 100f, 20000, false, false);
}}}
break;
case 3:
func_143("UPDATE_FINAL_SCENE - FINAL_SCENE_WAIT_FOR_DIALOGUE", &iLocal_896, 1000);
if(!ENTITY::IS_ENTITY_DEAD(PLAYER::PLAYER_PED_ID(), false) && !ENTITY::IS_ENTITY_DEAD(caLocal_423.f_3, false)){
if(TASK::GET_SCRIPT_TASK_STATUS(caLocal_423.f_3, SCRIPT_TASK_PERFORM_SEQUENCE)==1){
if(TASK::GET_SEQUENCE_PROGRESS(caLocal_423.f_3) > 0 && bLocal_902){
PLAYER::SET_PLAYER_CONTROL(PLAYER::PLAYER_ID(), true, 0);
bLocal_902=false;
}}}else{
PLAYER::SET_PLAYER_CONTROL(PLAYER::PLAYER_ID(), true, 0);
}
if(!PED::IS_PED_INJURED(pedLocal_890) && ENTITY::HAS_ENTITY_BEEN_DAMAGED_BY_ANY_PED(pedLocal_890) && !ENTITY::IS_ENTITY_DEAD(hLocal_853.f_2, false) && !bLocal_908){
TASK::TASK_LOOK_AT_ENTITY(hLocal_853.f_2, caLocal_423.f_3, -1, SLF_WHILE_NOT_IN_FOV, 4);
TASK::CLEAR_SEQUENCE_TASK(&iLocal_414);
TASK::OPEN_SEQUENCE_TASK(&iLocal_414);
TASK::TASK_STAND_STILL(0, 500);
TASK::TASK_PLAY_ANIM(0, "MOVE_DUCK_FOR_COVER", "enter", 1090519040, -1056964608, -1, 0, 0, false, false, false);
TASK::TASK_PLAY_ANIM(0, "MOVE_DUCK_FOR_COVER", "loop", 8f, -8f, -1, 1, 0, false, false, false);
TASK::TASK_TURN_PED_TO_FACE_ENTITY(0, caLocal_423.f_3, 0);
TASK::CLOSE_SEQUENCE_TASK(iLocal_414);
TASK::TASK_PERFORM_SEQUENCE(hLocal_853.f_2, iLocal_414);
bLocal_908=true;
}
if(!ENTITY::IS_ENTITY_DEAD(caLocal_423.f_3, false) && !ENTITY::IS_ENTITY_DEAD(hLocal_853.f_2, false)){
if(TASK::GET_SEQUENCE_PROGRESS(caLocal_423.f_3) > 2){
func_254(&caLocal_423, 58, 1, false, false);
TASK::CLEAR_SEQUENCE_TASK(&iLocal_416);
TASK::OPEN_SEQUENCE_TASK(&iLocal_416);
TASK::TASK_CLEAR_LOOK_AT(0);
TASK::TASK_AIM_GUN_AT_ENTITY(0, hLocal_853.f_2, 2000, false);
TASK::CLOSE_SEQUENCE_TASK(iLocal_416);
TASK::TASK_PERFORM_SEQUENCE(caLocal_423.f_3, iLocal_416);
iLocal_1142=4;
}}
break;
case 4:
func_143("FINAL_SCENE_KILL_WOMAN", &iLocal_896, 1000);
if(ENTITY::IS_ENTITY_DEAD(pedLocal_890, false)){
if(!ENTITY::IS_ENTITY_DEAD(hLocal_853.f_2, false)){
if(!ENTITY::IS_ENTITY_DEAD(caLocal_423.f_3, false)){
TASK::CLEAR_SEQUENCE_TASK(&iLocal_415);
TASK::OPEN_SEQUENCE_TASK(&iLocal_415);
TASK::TASK_GO_TO_COORD_WHILE_AIMING_AT_ENTITY(0, -691.48f, -1113.31f, 13.53f, hLocal_853.f_2, 1f, false, 1056964608, 1082130432, true, 0, false, joaat("FIRING_PATTERN_FULL_AUTO"), 20000);
TASK::TASK_AIM_GUN_AT_ENTITY(0, hLocal_853.f_2, -1, true);
TASK::CLOSE_SEQUENCE_TASK(iLocal_415);
TASK::TASK_PERFORM_SEQUENCE(caLocal_423.f_3, iLocal_415);
}}
iLocal_1142=6;
}
break;
case 6:
func_143("FINAL_SCENE_KILL_MAN", &iLocal_896, 1000);
if(!_CONVERSATION_IS_DIALOGUE_IN_PROGRESS()){
if(!ENTITY::IS_ENTITY_DEAD(caLocal_423.f_3, false) && !ENTITY::IS_ENTITY_DEAD(hLocal_853.f_2, false)){
TASK::TASK_SHOOT_AT_ENTITY(caLocal_423.f_3, hLocal_853.f_2, -1, joaat("FIRING_PATTERN_FULL_AUTO"));
iLocal_1142=7;
}}
break;
case 7:
func_143("FINAL_SCENE_FLEE", &iLocal_896, 1000);
if(ENTITY::IS_ENTITY_DEAD(hLocal_853.f_2, false) && !ENTITY::IS_ENTITY_DEAD(caLocal_423.f_3, false)){
entityCoords={
ENTITY::GET_ENTITY_COORDS(hLocal_853.f_2, false) 
};
TASK::OPEN_SEQUENCE_TASK(&iLocal_416);
TASK::TASK_AIM_GUN_AT_COORD(0, entityCoords, 1000, false, false);
TASK::TASK_SWAP_WEAPON(0, false);
TASK::TASK_STAND_STILL(0, 500);
TASK::TASK_SMART_FLEE_COORD(0, -691.48f, -1113.31f, 13.53f, 1000f, -1, false, false);
TASK::CLOSE_SEQUENCE_TASK(iLocal_416);
TASK::TASK_PERFORM_SEQUENCE(caLocal_423.f_3, iLocal_416);
TASK::CLEAR_SEQUENCE_TASK(&iLocal_416);
PED::SET_PED_KEEP_TASK(caLocal_423.f_3, true);
bLocal_905=true;
}
break;
}
return;
}


Vector3 func__346(int iParam0) // Position - 0xD5F7{
switch (iParam0){
case 0:
return -691.48f, -1113.31f, 13.53f;
case 1:
return -691.48f, -1113.31f, 13.53f;
default:
}
return -691.48f, -1113.31f, 13.53f;
}


void func_347(var uParam0, float fParam1, float fParam2, float fParam3) // Position - 0xD645{
Vector3 offsetFromEntityInWorldCoords;
Vector3 offsetFromEntityInWorldCoords2;
if(VEHICLE::IS_VEHICLE_DRIVEABLE(uParam0->f_4, false)){
if(!ENTITY::IS_ENTITY_DEAD(uParam0->f_3, false)){
offsetFromEntityInWorldCoords={
ENTITY::GET_OFFSET_FROM_ENTITY_IN_WORLD_COORDS(uParam0->f_4, -1.78774f, -1.62399f, -0.6206f) 
};
offsetFromEntityInWorldCoords2={
ENTITY::GET_OFFSET_FROM_ENTITY_IN_WORLD_COORDS(uParam0->f_4, 1.78498f, -1.24105f, -0.6422f) 
};
if(MISC::GET_DISTANCE_BETWEEN_COORDS(offsetFromEntityInWorldCoords, fParam1, false) < MISC::GET_DISTANCE_BETWEEN_COORDS(offsetFromEntityInWorldCoords2, fParam1, false) && VEHICLE::IS_ENTRY_POINT_FOR_SEAT_CLEAR(uParam0->f_3, uParam0->f_4, 1, false, false)) TASK::TASK_LEAVE_VEHICLE(0, uParam0->f_4, 131584);
elseif(MISC::GET_DISTANCE_BETWEEN_COORDS(offsetFromEntityInWorldCoords, fParam1, false) >=MISC::GET_DISTANCE_BETWEEN_COORDS(offsetFromEntityInWorldCoords2, fParam1, false) && VEHICLE::IS_ENTRY_POINT_FOR_SEAT_CLEAR(uParam0->f_3, uParam0->f_4, 2, false, false)) TASK::TASK_LEAVE_VEHICLE(0, uParam0->f_4, 262656);
else TASK::TASK_LEAVE_VEHICLE(0, uParam0->f_4, 512);
}}
return;
}
int _CONVERSATION_ADD_LINE(var uParam0, char* sParam1, char* sParam2, int iParam3, int iParam4, int iParam5, int iParam6) // Position - 0xD72C{
func_360(uParam0, 145, sParam1, iParam4, iParam5, iParam6);
if(iParam3 > 7)if(iParam3 < 12) iParam3=7;
Global_21732=0;
Global_21734=0;
Global_21739=0;
Global_22716=0;
Global_22718=0;
Global_22722=0;
Global_2883585=0;
return func_349(sParam2, iParam3, false);
}

int func_349(char* sParam0, int iParam1, BOOL bParam2) // Position - 0xD77A{
Global_21726=0;
if(Global_21725==0 || Global_21727==2){
if(Global_21725 !=0){
if(iParam1 > Global_21727){
if(Global_21732==0){
AUDIO::STOP_SCRIPTED_CONVERSATION(false);
Global_20383.f_1=3;
Global_21725=0;
Global_21726=1;
Global_21778=0;
Global_21721=0;
Global_21722=0;
Global_21736=0;
Global_21735=false;
Global_20382=0;
}else{
func_152();
return 0;
}}else{
return 0;
}}
if(AUDIO::IS_SCRIPTED_CONVERSATION_ONGOING()) return 0;
if(func_359(8, -1)) return 0;
Global_21801={
Global_21795 
};
func_358();
Global_21014={
Global_21179 
};
Global_21731=Global_21732;
Global_21738=Global_21739;
Global_2883586=Global_2883585;
Global_21740={
Global_21756 
};
Global_21733=Global_21734;
Global_22715=Global_22716;
Global_22723={
Global_22729 
};
Global_22717=Global_22718;
Global_22719=Global_22720;
Global_22721=Global_22722;
Global_21344.f_370=Global_22714;
Global_21344.f_368=Global_22712;
Global_21344.f_369=Global_22713;
Global_21721=Global_21722;
if(Global_21731){
MISC::CLEAR_BIT(&Global_8253, 20);
MISC::CLEAR_BIT(&Global_8254, 17);
MISC::CLEAR_BIT(&Global_8255, 0);
if(bParam2){
_UPDATE_CURRENT_PLAYER_CHARACTER();
if(Global_9058[Global_20383 /*2811*/][0 /*281*/].f_259==2){
if(iParam1==13){
}else{
return 0;
}}
if(Global_20383.f_1 > 3) return 0;
}
if(Global_20349==1) return 0;
if(PLAYER::IS_PLAYER_PLAYING(PLAYER::PLAYER_ID())){
if(PED::IS_PED_IN_MELEE_COMBAT(PLAYER::PLAYER_PED_ID())) return 0;
if(func_356()) return 0;
if(TASK::IS_PED_SPRINTING(PLAYER::PLAYER_PED_ID())) return 0;
if(PED::IS_PED_RAGDOLL(PLAYER::PLAYER_PED_ID())) return 0;
if(PED::IS_PED_IN_PARACHUTE_FREE_FALL(PLAYER::PLAYER_PED_ID())) return 0;
if(WEAPON::GET_IS_PED_GADGET_EQUIPPED(PLAYER::PLAYER_PED_ID(), joaat("GADGET_PARACHUTE"))) return 0;
if(!Global_78558){
if(ENTITY::IS_ENTITY_IN_WATER(PLAYER::PLAYER_PED_ID())) return 0;
if(PLAYER::IS_PLAYER_CLIMBING(PLAYER::PLAYER_ID())) return 0;
if(PED::IS_PED_PLANTING_BOMB(PLAYER::PLAYER_PED_ID())) return 0;
if(PLAYER::IS_SPECIAL_ABILITY_ACTIVE(PLAYER::PLAYER_ID(), 0)) return 0;
}}
if(func_31()){
return 0;
}else{
switch (Global_20383.f_1){
case 7:
return 0;
case 8:
return 0;
case 9:
break;
case 10:
break;
default:
break;
}
if(IS_BIT_SET(Global_8253, 9)) return 0;
}
func_355();
Global_21735=bParam2;
}
Global_21727=iParam1;
TEXT_LABEL_ASSIGN_STRING(&Global_21344, sParam0, 24);
Global_20591=0;
func_354();
func_350();
return 1;
}
if(Global_21725==5) return 0;
if(iParam1 < Global_21727 || iParam1==Global_21727) return 0;
if(iParam1==2){}else{
func_152();
}
return 0;
}


void func_350() // Position - 0xDA48{
if(!func_351()) return;
if(Global_21731){
TEXT_LABEL_COPY(&(Global_1977511.f_1),{
Global_21344 
}
, 4);
Global_1977511=Global_7568;
Global_1977511.f_6=Global_21735;
}
return;
}
BOOL func_351() // Position - 0xDA7F{
if(!Global_262145.f_28878) return false;
if(!Global_78558) return false;
if(PLAYER::PLAYER_ID()==_INVALID_PLAYER_INDEX()) return false;
if(func_352(PLAYER::PLAYER_ID())) return false;
if(IS_BIT_SET(Global_1894573[PLAYER::PLAYER_ID() /*608*/].f_1, 7)) return false;
if(NETWORK::NETWORK_IS_ACTIVITY_SESSION()) return false;
return true;
}
BOOL func_352(Player plParam0) // Position - 0xDAE2{
return func_353(plParam0, 20);
}
BOOL func_353(Player plParam0, int iParam1) // Position - 0xDAF2{
return IS_BIT_SET(Global_1894573[plParam0 /*608*/].f_10.f_4, iParam1);
}


void func_354() // Position - 0xDB0A{
int i;
for (i=0;
i <=69;
i=i + 1){
TEXT_LABEL_ASSIGN_STRING(&Global_20593[i /*6*/], "", 24);
}
AUDIO::STOP_SCRIPTED_CONVERSATION(false);
Global_21725=1;
return;
}


void func_355() // Position - 0xDB3C{
Global_21778=Global_21777;
Global_21772=Global_21773;
Global_21819={
Global_21807 
};
Global_21825={
Global_21813 
};
Global_21780=Global_21779;
Global_21849={
Global_21831 
};
Global_21855={
Global_21837 
};
Global_21861={
Global_21843 
};
Global_21867={
Global_21873 
};
Global_7568=Global_7569;
Global_7570=Global_7571;
Global_21736=Global_21737;
Global_21738=Global_21739;
Global_21740={
Global_21756 
};
Global_21729=Global_21730;
Global_22741=0;
Global_21774=0;
Global_21775=0;
MISC::CLEAR_BIT(&Global_8254, 16);
return;
}
BOOL func_356() // Position - 0xDBD1{
int num;
int weaponHash;
if(Global_78558){
num=0;
WEAPON::GET_CURRENT_PED_WEAPON(PLAYER::PLAYER_PED_ID(), &weaponHash, true);
if(PLAYER::IS_PLAYER_PLAYING(PLAYER::PLAYER_ID()))if(weaponHash==joaat("WEAPON_SNIPERRIFLE") || weaponHash==joaat("WEAPON_HEAVYSNIPER") || weaponHash==joaat("WEAPON_REMOTESNIPER")) num=1;
if(CAM::IS_AIM_CAM_ACTIVE() && num==1) return true;
else return false;
}
if(PLAYER::IS_PLAYER_PLAYING(PLAYER::PLAYER_ID()))if(PED::GET_PED_CONFIG_FLAG(PLAYER::PLAYER_PED_ID(), 78, true)) return true;
else return false;
return true;
}


void _UPDATE_CURRENT_PLAYER_CHARACTER() // Position - 0xDC6A{
if(func_82(14)){
if(!ENTITY::IS_ENTITY_DEAD(PLAYER::PLAYER_PED_ID(), false))if(ENTITY::GET_ENTITY_MODEL(PLAYER::PLAYER_PED_ID())==Global_113648.f_28052[0 /*29*/]) Global_20383=CHAR_MICHAEL;
elseif(ENTITY::GET_ENTITY_MODEL(PLAYER::PLAYER_PED_ID())==Global_113648.f_28052[1 /*29*/]) Global_20383=CHAR_FRANKLIN;
elseif(ENTITY::GET_ENTITY_MODEL(PLAYER::PLAYER_PED_ID())==Global_113648.f_28052[2 /*29*/]) Global_20383=CHAR_TREVOR;
else Global_20383=CHAR_MICHAEL;
}else{
Global_20383=_GET_CURRENT_PLAYER_CHARACTER();
if(Global_20383==_CHAR_NULL) Global_20383=CHAR_MULTIPLAYER;
if(Global_78558) Global_20383=CHAR_MULTIPLAYER;
if(Global_20383 > CHAR_MULTIPLAYER) Global_20383=CHAR_MULTIPLAYER;
}
return;
}


void func_358() // Position - 0xDD0C{
int i;
for (i=0;
i <=15;
i=i + 1){
Global_21014[i /*10*/]=0;
TEXT_LABEL_ASSIGN_STRING(&(Global_21014[i /*10*/].f_1), "", 24);
Global_21014[i /*10*/].f_7=0;
Global_21014[i /*10*/].f_8=0;
}
Global_21014.f_161=-99;
Global_21014.f_162={
0f, 0f, 0f 
};
return;
}
BOOL func_359(int iParam0, int iParam1) // Position - 0xDD64{
switch (iParam0){
case 5:
if(iParam1 > -1) return Global_1653913.f_203[iParam1];
break;
}
return IS_BIT_SET(Global_1653913.f_1048, iParam0);
}


void func_360(var uParam0, int iParam1, char* sParam2, int iParam3, int iParam4, int iParam5) // Position - 0xDD9C{
Global_21179={
*uParam0 
};
Global_7569=iParam1;
TEXT_LABEL_ASSIGN_STRING(&Global_21795, sParam2, 24);
Global_22714=iParam5;
if(iParam3==0){
Global_22712=1;
Global_22710=0;
}else{
Global_22712=0;
Global_22710=1;
}
if(iParam4==0){
Global_22713=1;
Global_22711=0;
}else{
Global_22713=0;
Global_22711=1;
}
return;
}


void func_361(var uParam0, char* sParam1, int iParam2) // Position - 0xDDF2{
var string1;
func_151();
func_462(2);
string1={
func_368() 
};
if(!MISC::IS_STRING_NULL_OR_EMPTY(&string1) && _CONVERSATION_IS_DIALOGUE_IN_PROGRESS() && !MISC::ARE_STRINGS_EQUAL(&string1, "NULL")){}else{
HUD::CLEAR_PRINTS();
HUD::SET_SCRIPT_VARIABLE_HUD_COLOUR(1);
TEXT_LABEL_ASSIGN_STRING(&string1, uParam0->f_143, 24);
if(!ENTITY::IS_ENTITY_DEAD(uParam0->f_3, false))if(!func_223(uParam0))if(ENTITY::IS_ENTITY_PLAYING_ANIM(uParam0->f_3, "oddjobs@towingcome_here", "come_here_idle_a", 3)) TASK::STOP_ANIM_TASK(uParam0->f_3, "oddjobs@towingcome_here", "come_here_idle_a", -1056964608);
elseif(ENTITY::IS_ENTITY_PLAYING_ANIM(uParam0->f_3, "oddjobs@towingcome_here", "come_here_idle_c", 3)) TASK::STOP_ANIM_TASK(uParam0->f_3, "oddjobs@towingcome_here", "come_here_idle_c", -1056964608);
elseif(ENTITY::IS_ENTITY_PLAYING_ANIM(uParam0->f_3, "gestures@m@standing@casual", "gesture_nod_yes_hard", 3)) TASK::STOP_ANIM_TASK(uParam0->f_3, "gestures@m@standing@casual", "gesture_nod_yes_hard", -1056964608);
uParam0->f_109=1;
uParam0->f_121=sParam1;
uParam0->f_415=iParam2;
func_317(uParam0, 3, 0, false);
if(iParam2==8 || iParam2==18){
if(uParam0->f_411 !=9){
if(uParam0->f_115) TEXT_LABEL_APPEND_STRING(&string1, "_aband2", 24);
else TEXT_LABEL_APPEND_STRING(&string1, "_aband1", 24);
func_366(uParam0, &string1);
}elseif(!PED::IS_PED_INJURED(uParam0->f_3)){
func_274(uParam0->f_3, "TAXI_FAIL", uParam0->f_145, 4);
}
TEXT_LABEL_ASSIGN_STRING(&(uParam0->f_130), "TAXI_OBJ_FAIL", 24);
}elseif(iParam2==10){
if(uParam0->f_115) TEXT_LABEL_APPEND_STRING(&string1, "_aggro2", 24);
else TEXT_LABEL_APPEND_STRING(&string1, "_aggro", 24);
func_366(uParam0, &string1);
TEXT_LABEL_ASSIGN_STRING(&(uParam0->f_130), "TAXI_OBJ_F_SPK", 24);
}elseif(uParam0->f_415==15){
TEXT_LABEL_ASSIGN_STRING(&(uParam0->f_130), "TAXI_OBJ_F_DEAD", 24);
}elseif(iParam2==2){
TEXT_LABEL_APPEND_STRING(&string1, "_lost1", 24);
func_366(uParam0, &string1);
TEXT_LABEL_ASSIGN_STRING(&(uParam0->f_130), "TAXI_OBJ_FAIL", 24);
}elseif(iParam2==3){
TEXT_LABEL_APPEND_STRING(&string1, "_spotd1", 24);
func_366(uParam0, &string1);
TEXT_LABEL_ASSIGN_STRING(&(uParam0->f_130), "TAXI_OBJ_F_SPT", 24);
}elseif(iParam2==4){
TEXT_LABEL_APPEND_STRING(&string1, "_wntd1", 24);
func_366(uParam0, &string1);
TEXT_LABEL_ASSIGN_STRING(&(uParam0->f_130), "TAXI_OBJ_F_SPT", 24);
}elseif(iParam2==5){
TEXT_LABEL_APPEND_STRING(&string1, "_spook", 24);
func_366(uParam0, &string1);
TEXT_LABEL_ASSIGN_STRING(&(uParam0->f_130), "TAXI_OBJ_F_SPK", 24);
if(func_223(uParam0))if(VEHICLE::IS_VEHICLE_STOPPED(uParam0->f_4)) func_363(uParam0, 4096, false);
else func_363(uParam0, 0, false);
}elseif(iParam2==6){
TEXT_LABEL_APPEND_STRING(&string1, "_hit2", 24);
func_366(uParam0, &string1);
TEXT_LABEL_ASSIGN_STRING(&(uParam0->f_130), "TAXI_OBJ_F_SPK", 24);
}elseif(iParam2==7){
TEXT_LABEL_APPEND_STRING(&string1, "_jak", 24);
func_366(uParam0, &string1);
TEXT_LABEL_ASSIGN_STRING(&(uParam0->f_130), "TAXI_OBJ_F_SPT", 24);
}elseif(iParam2==14){
if(uParam0->f_411 !=9){
if(uParam0->f_115) TEXT_LABEL_APPEND_STRING(&string1, "_shot2", 24);
else TEXT_LABEL_APPEND_STRING(&string1, "_shot1", 24);
func_366(uParam0, &string1);
}elseif(!PED::IS_PED_INJURED(uParam0->f_3)){
func_274(uParam0->f_3, "CALL_COPS_COMMIT", uParam0->f_145, 4);
}
PLAYER::SET_PLAYER_WANTED_LEVEL(PLAYER::PLAYER_ID(), 1, false);
TEXT_LABEL_ASSIGN_STRING(&(uParam0->f_130), "TAXI_OBJ_F_SHT", 24);
}elseif(iParam2==12){
TEXT_LABEL_APPEND_STRING(&string1, "_shot1", 24);
func_366(uParam0, &string1);
PLAYER::SET_PLAYER_WANTED_LEVEL(PLAYER::PLAYER_ID(), 1, false);
TEXT_LABEL_ASSIGN_STRING(&(uParam0->f_130), "TAXI_OBJ_F_SPT", 24);
}elseif(iParam2==13){
TEXT_LABEL_APPEND_STRING(&string1, "_shot1", 24);
func_366(uParam0, &string1);
PLAYER::SET_PLAYER_WANTED_LEVEL(PLAYER::PLAYER_ID(), 1, false);
TEXT_LABEL_ASSIGN_STRING(&(uParam0->f_130), "TAXI_OBJ_F_CK", 24);
}elseif(iParam2==11){
func_55(8, 0);
uLocal_57[3]=1;
if(uParam0->f_411 !=9){
if(uParam0->f_115) TEXT_LABEL_APPEND_STRING(&string1, "_noDri2", 24);
else TEXT_LABEL_APPEND_STRING(&string1, "_noDri1", 24);
func_366(uParam0, &string1);
}elseif(!PED::IS_PED_INJURED(uParam0->f_3)){
func_274(uParam0->f_3, "GENERIC_INSULT_MED", uParam0->f_145, 4);
}
func_363(uParam0, 0, false);
func_366(uParam0, &string1);
TEXT_LABEL_ASSIGN_STRING(&(uParam0->f_130), "TAXI_OBJ_F_WAT", 24);
}elseif(iParam2==0){
func_55(8, 0);
uLocal_57[3]=1;
if(uParam0->f_411 !=9){
if(uParam0->f_115) TEXT_LABEL_APPEND_STRING(&string1, "_noDri2", 24);
else TEXT_LABEL_APPEND_STRING(&string1, "_noDri1", 24);
func_366(uParam0, &string1);
}elseif(!PED::IS_PED_INJURED(uParam0->f_3)){
func_274(uParam0->f_3, "TAXI_FAIL", uParam0->f_145, 4);
}
func_366(uParam0, &string1);
TEXT_LABEL_ASSIGN_STRING(&(uParam0->f_130), "TAXI_OBJ_F_DR", 24);
}elseif(iParam2==1){
func_55(8, 0);
uLocal_57[3]=1;
if(uParam0->f_411 !=9){
if(uParam0->f_115) TEXT_LABEL_APPEND_STRING(&string1, "_noDri2", 24);
else TEXT_LABEL_APPEND_STRING(&string1, "_noDri1", 24);
func_366(uParam0, &string1);
}elseif(!PED::IS_PED_INJURED(uParam0->f_3)){
func_274(uParam0->f_3, "TAXI_FAIL", uParam0->f_145, 4);
}
TEXT_LABEL_ASSIGN_STRING(&(uParam0->f_130), "TAXI_OBJ_F_FIRE", 24);
}elseif(iParam2==19){
TEXT_LABEL_ASSIGN_STRING(&string1, "OJTX_QUIT_", 24);
func_362(&string1);
_CONVERSATION_ADD_LINE(&(uParam0->f_244), "OJTXAUD", &string1, 7, 0, 0, 0);
TEXT_LABEL_ASSIGN_STRING(&(uParam0->f_130), "TAXI_OBJ_CNCL", 24);
}elseif(iParam2==20){
if(uParam0->f_115) TEXT_LABEL_APPEND_STRING(&string1, "_aband2", 24);
else TEXT_LABEL_APPEND_STRING(&string1, "_fail1", 24);
func_366(uParam0, &string1);
TEXT_LABEL_ASSIGN_STRING(&(uParam0->f_130), "TAXI_OBJ_FAIL", 24);
}else{
if(uParam0->f_411 !=9){
if(iParam2 !=21) TEXT_LABEL_APPEND_STRING(&string1, "_Fail1", 24);
else TEXT_LABEL_APPEND_STRING(&string1, "_aband1", 24);
if(uParam0->f_410 > 5) func_366(uParam0, &string1);
}elseif(!PED::IS_PED_INJURED(uParam0->f_3)){
func_274(uParam0->f_3, "TAXI_FAIL", uParam0->f_145, 4);
}
TEXT_LABEL_ASSIGN_STRING(&(uParam0->f_130), "TAXI_OBJ_FAIL", 24);
func_55(3, 0);
}
func_317(uParam0, 3, 0f, true);
}
return;
}


void func_362(char* sParam0) // Position - 0xE3A3{
switch (_GET_PLAYER_CHARACTER_FROM_PED(PLAYER::PLAYER_PED_ID())){
case CHAR_MICHAEL:
TEXT_LABEL_APPEND_STRING(sParam0, "M", 24);
break;
case CHAR_TREVOR:
TEXT_LABEL_APPEND_STRING(sParam0, "T", 24);
break;
case CHAR_FRANKLIN:
TEXT_LABEL_APPEND_STRING(sParam0, "F", 24);
break;
default:
TEXT_LABEL_APPEND_STRING(sParam0, "M", 24);
break;
}
return;
}


void func_363(var uParam0, int iParam1, BOOL bParam2) // Position - 0xE3F6{
int taskSequenceId;
if(!ENTITY::IS_ENTITY_DEAD(uParam0->f_3, false)){
PED::SET_BLOCKING_OF_NON_TEMPORARY_EVENTS(uParam0->f_3, false);
ENTITY::CLEAR_ENTITY_LAST_DAMAGE_ENTITY(uParam0->f_3);
PED::SET_PED_FLEE_ATTRIBUTES(uParam0->f_3, 3, false);
PED::SET_PED_COMBAT_ATTRIBUTES(uParam0->f_3, BF_AlwaysFlee, true);
TASK::CLEAR_PED_TASKS(uParam0->f_3);
if(func_53(uParam0->f_3, uParam0->f_29, true) <=200f && !_IS_NULL_VECTOR(uParam0->f_29) && !bParam2){
func_364(uParam0);
}else{
PED::SET_PED_FLEE_ATTRIBUTES(uParam0->f_3, 1024, true);
PED::SET_PED_FLEE_ATTRIBUTES(uParam0->f_3, 131072, true);
TASK::OPEN_SEQUENCE_TASK(&taskSequenceId);
TASK::TASK_LEAVE_ANY_VEHICLE(0, 0, iParam1);
if(uParam0->f_415==8) TASK::TASK_WANDER_STANDARD(0, 1193033728, 0);
else TASK::TASK_SMART_FLEE_PED(0, PLAYER::PLAYER_PED_ID(), 1000f, -1, false, false);
TASK::TASK_SET_BLOCKING_OF_NON_TEMPORARY_EVENTS(0, false);
TASK::CLOSE_SEQUENCE_TASK(taskSequenceId);
TASK::TASK_PERFORM_SEQUENCE(uParam0->f_3, taskSequenceId);
TASK::CLEAR_SEQUENCE_TASK(&taskSequenceId);
}
PED::SET_PED_KEEP_TASK(uParam0->f_3, true);
}
return;
}


void func_364(var uParam0) // Position - 0xE4EA{
int taskSequenceId;
if(!ENTITY::IS_ENTITY_DEAD(uParam0->f_3, false)){
if(func_39(func_40(), uParam0->f_29, false)){
if(uParam0->f_411==2){
ENTITY::SET_ENTITY_HEADING(uParam0->f_3, 84.9058f);
PED::SET_PED_KEEP_TASK(uParam0->f_3, true);
}elseif(uParam0->f_411==4){
ENTITY::SET_ENTITY_HEADING(uParam0->f_3, 68.3138f);
PED::SET_PED_KEEP_TASK(uParam0->f_3, true);
}else{
TASK::TASK_WANDER_STANDARD(uParam0->f_3, 1193033728, 0);
}}else{
TASK::CLEAR_PED_TASKS(uParam0->f_3);
TASK::CLEAR_SEQUENCE_TASK(&taskSequenceId);
TASK::OPEN_SEQUENCE_TASK(&taskSequenceId);
TASK::TASK_LEAVE_ANY_VEHICLE(0, 0, 0);
TASK::TASK_SET_BLOCKING_OF_NON_TEMPORARY_EVENTS(0, false);
TASK::TASK_FOLLOW_NAV_MESH_TO_COORD(0, uParam0->f_29, 1f, -1, 1048576000, 0, 1193033728);
if(uParam0->f_411==2){
TASK::TASK_START_SCENARIO_IN_PLACE(0, "WORLD_HUMAN_AA_SMOKE", 0, false);
}elseif(uParam0->f_411==0){
TASK::TASK_CLIMB_LADDER(0, true);
TASK::TASK_FOLLOW_NAV_MESH_TO_COORD(0, 813.9421f, 1172.6809f, 329.7988f, 1f, -1, 1048576000, 0, 1193033728);
TASK::TASK_ACHIEVE_HEADING(0, 151.7794f, 0);
TASK::TASK_START_SCENARIO_IN_PLACE(0, "WORLD_HUMAN_SMOKING_POT", 0, false);
}elseif(uParam0->f_411==4){
TASK::TASK_USE_NEAREST_SCENARIO_TO_COORD(0, uParam0->f_29, 15f, 0);
}elseif(uParam0->f_411==1){
TASK::TASK_USE_NEAREST_SCENARIO_TO_COORD(0, uParam0->f_29, 15f, 20000);
TASK::TASK_WANDER_STANDARD(0, 1193033728, 0);
}else{
TASK::TASK_PLAY_ANIM(0, "oddjobs@taxi@", "base", 1090519040, -1056964608, -1, 0, 0, false, false, false);
TASK::TASK_PLAY_ANIM(0, "gestures@m@standing@casual", "gesture_pleased", 1090519040, -1056964608, -1, 0, 0, false, false, false);
}
if(TASK::DOES_SCENARIO_EXIST_IN_AREA(uParam0->f_29, 15f, true)) TASK::TASK_USE_NEAREST_SCENARIO_TO_COORD(0, uParam0->f_29, 15f, 0);
else TASK::TASK_WANDER_STANDARD(0, 1193033728, 0);
TASK::CLOSE_SEQUENCE_TASK(taskSequenceId);
TASK::TASK_PERFORM_SEQUENCE(uParam0->f_3, taskSequenceId);
TASK::CLEAR_SEQUENCE_TASK(&taskSequenceId);
}
PED::SET_PED_KEEP_TASK(uParam0->f_3, true);
}
return;
}
BOOL _IS_NULL_VECTOR(float fParam0, var uParam1, var uParam2) // Position - 0xE6D1{
if(fParam0==0f && fParam0.f_1==0f && fParam0.f_2==0f) return true;
return false;
}


void func_366(var uParam0, char* sParam1) // Position - 0xE6FB{
if(func_367(uParam0)) _CONVERSATION_ADD_LINE(&(uParam0->f_244), uParam0->f_144, sParam1, 9, 0, 0, 0);
return;
}
BOOL func_367(var uParam0) // Position - 0xE723{
if(!ENTITY::IS_ENTITY_DEAD(uParam0->f_3, false))if(func_51(PLAYER::PLAYER_PED_ID(), uParam0->f_3, true) < 40f && !ENTITY::IS_ENTITY_OCCLUDED(uParam0->f_3)) return true;
return false;
}


struct<6> func_368() // Position - 0xE761{
var unk;
int currentScriptedConversationLine;
TEXT_LABEL_ASSIGN_STRING(&unk, "NULL", 24);
if(Global_21725==4){
currentScriptedConversationLine=AUDIO::GET_CURRENT_SCRIPTED_CONVERSATION_LINE();
currentScriptedConversationLine=currentScriptedConversationLine + Global_22735;
if(currentScriptedConversationLine > -1) return Global_20593[currentScriptedConversationLine /*6*/];
else return unk;
}
return unk;
}

int func_369(var uParam0) // Position - 0xE7A7{
return uParam0->f_118;
}


void func_370() // Position - 0xE7B3{
func_400(&caLocal_423);
if(func_399(&caLocal_423, &uLocal_1052)){
switch (uLocal_1052.f_27){
case 0:
if(caLocal_423.f_410==17)if(!func_398(&caLocal_423))if(func_397("TAXI_OBJ_FTC1") || HUD::DOES_BLIP_EXIST(caLocal_423.f_9)) uLocal_1052.f_27=uLocal_1052.f_27 + 1;
elseif(func_198(&caLocal_423) !=10) func_254(&caLocal_423, 10, 1, false, true);
break;
case 1:
if(func_198(&caLocal_423) > 10 && func_198(&caLocal_423) !=15 && !func_398(&caLocal_423)){
func_254(&caLocal_423, 15, 1, false, false);
func_204(&caLocal_423, 7);
}
break;
}}
func_371(&caLocal_423, &uLocal_1082, &uLocal_1052, bLocal_1051);
return;
}

int func_371(var uParam0, var uParam1, var uParam2, BOOL bParam3) // Position - 0xE890{
func_379(uParam0, uParam1);
if(*uParam2==-1 && uParam0->f_410 < 29 && !uParam0->f_109 && !func_189(uParam0, 2)){
if(func_378(uParam1)){
*uParam2=1;
bParam3;
}else{
MISC::GET_GAME_TIMER() % 2000 < 50;
}}
if(!uParam0->f_109){
switch (*uParam2){
case 1:
if(!func_377(uParam0)){
uParam2->f_7={
func_376(uParam1) 
};
_CONVERSATION_ADD_LINE(&(uParam0->f_244), uParam0->f_144, &(uParam2->f_7), 8, 0, 0, 0);
*uParam2=2;
bParam3;
}
break;
case 2:
if(_CONVERSATION_IS_DIALOGUE_IN_PROGRESS()){
uParam2->f_13={
func_257() 
};
if(MISC::ARE_STRINGS_EQUAL(&(uParam2->f_13), &(uParam2->f_7))) bParam3;
}else{
func_68(&(uParam2->f_26), SYSTEM::ROUND(SYSTEM::POW(2f, SYSTEM::TO_FLOAT(uParam2->f_27))));
uParam2->f_27=uParam2->f_27 + 1;
func_374(uParam1);
func_317(uParam0, 18, 0, false);
*uParam2=-1;
bParam3;
return 1;
}
break;
case 3:
if(func_227(uParam0)){
if(_CONVERSATION_IS_DIALOGUE_IN_PROGRESS()){
func_317(uParam0, 17, 0f, true);
uParam2->f_1={
func_373() 
};
if(PLAYER::GET_PLAYER_WANTED_LEVEL(PLAYER::GET_PLAYER_INDEX()) >=1) *uParam2=0;
else *uParam2=4;
}}elseif(_CONVERSATION_IS_DIALOGUE_IN_PROGRESS()){
uParam2->f_19={
func_368() 
};
}else{
func_68(&(uParam2->f_26), SYSTEM::ROUND(SYSTEM::POW(2f, SYSTEM::TO_FLOAT(uParam2->f_27))));
uParam2->f_27=uParam2->f_27 + 1;
func_374(uParam1);
func_317(uParam0, 18, 0, false);
*uParam2=-1;
bParam3;
return 1;
}
break;
case 4:
if(!func_189(uParam0, 14) && !_CONVERSATION_IS_DIALOGUE_IN_PROGRESS() && !func_227(uParam0) && func_116(uParam0, 18) > 1f){
func_317(uParam0, 18, 0, false);
*uParam2=6;
bParam3;
}
break;
case 6:
if(!_CONVERSATION_IS_DIALOGUE_IN_PROGRESS()){
if(func_116(uParam0, 18) > 1f){
if(!MISC::IS_STRING_NULL_OR_EMPTY(&(uParam2->f_1))){
func_372(&(uParam0->f_244), uParam0->f_144, &(uParam2->f_13), &(uParam2->f_1), 8, 0, 0);
bParam3;
}
*uParam2=3;
}}
break;
case 7:
if(!_CONVERSATION_IS_DIALOGUE_IN_PROGRESS()){
func_68(&(uParam2->f_26), SYSTEM::ROUND(SYSTEM::POW(2f, SYSTEM::TO_FLOAT(uParam2->f_27))));
uParam2->f_27=uParam2->f_27 + 1;
func_374(uParam1);
func_317(uParam0, 18, 0, false);
*uParam2=-1;
}
break;
}}
return 0;
}

int func_372(var uParam0, char* sParam1, char* sParam2, char* sParam3, int iParam4, int iParam5, int iParam6) // Position - 0xEB30{
func_360(uParam0, 145, sParam1, iParam5, iParam6, 0);
if(iParam4 > 7)if(iParam4 < 12) iParam4=7;
Global_21732=false;
Global_21739=0;
Global_21734=0;
Global_22716=0;
Global_22718=0;
Global_22722=1;
TEXT_LABEL_ASSIGN_STRING(&Global_22729, sParam3, 24);
Global_2883585=0;
return func_349(sParam2, iParam4, false);
}


struct<6> func_373() // Position - 0xEB84{
var unk;
int currentScriptedConversationLine;
int num;
int i;
TEXT_LABEL_ASSIGN_STRING(&unk, "NULL", 24);
if(Global_21725==4){
currentScriptedConversationLine=AUDIO::GET_CURRENT_SCRIPTED_CONVERSATION_LINE();
currentScriptedConversationLine=currentScriptedConversationLine + Global_22735;
num=currentScriptedConversationLine + 1;
if(num > -1 && currentScriptedConversationLine > -1){
if(HUD::DOES_TEXT_LABEL_EXIST(&Global_20593[num /*6*/])){
return Global_20593[num /*6*/];
}else{
for (i=num;
i < 70;
i=i + 1){
if(HUD::DOES_TEXT_LABEL_EXIST(&Global_20593[i /*6*/])){
return Global_20593[i /*6*/];
i=70;
}}
return unk;
}
return Global_20593[currentScriptedConversationLine /*6*/];
}else{
return unk;
}}
return unk;
}


void func_374(var uParam0) // Position - 0xEC30{
int num;
num=func_375(uParam0);
if(num > -1){
func_20(&(uParam0->[num /*8*/].f_7), 2);
func_20(&(uParam0->[num /*8*/].f_7), 4);
func_67(&(uParam0->[num /*8*/].f_7), 8);
TEXT_LABEL_ASSIGN_STRING(&uParam0->[num /*8*/], func_148(), 24);
}
return;
}

int func_375(var uParam0) // Position - 0xEC7A{
int i;
for (i=0;
i < 5;
i=i + 1){
if(func_22(uParam0->[i /*8*/].f_7, 4)) return i;
}
return -1;
}


struct<6> func_376(var uParam0) // Position - 0xECAA{
int i;
var unk;
for (i=0;
i < 5;
i=i + 1){
if(func_22(uParam0->[i /*8*/].f_7, 2)){
unk={
uParam0->[i /*8*/] 
};
func_67(&(uParam0->[i /*8*/].f_7), 4);
}}
return unk;
}
BOOL func_377(var uParam0) // Position - 0xECF1{
switch (uParam0->f_411){
case 0:
if(func_229("TX_OBJ_NEX_DO", 0, 0)) return true;
break;
case 1:
if(func_229("TX_OBJ_TIE_DO", 0, 0)) return true;
break;
case 2:
if(func_229("TX_OBJ_DL_DO", 0, 0)) return true;
break;
case 3:
if(func_229("TX_OBJ_GYB_DO", 0, 0) || func_229("TAXI_OBJ_GYB", 0, 0) || func_229("TAXI_OBJ_GYB_2", 0, 0)) return true;
break;
case 4:
if(func_229("TX_OBJ_TTB_DO", 0, 0)) return true;
break;
case 5:
if(func_229("TX_OBJ_CYI_DO", 0, 0) || func_229("TAXI_OBJ_CYI_01", 0, 0) || func_229("TAXI_OBJ_CYI_02", 0, 0)) return true;
break;
case 6:
if(func_229("TX_OBJ_GYN_DO", 0, 0) || func_229("TAXI_OBJ_GYN", 0, 0) || func_229("TAXI_OBJ_GYN_TG", 0, 0) || func_229("TAXI_OBJ_GYN_GF", 0, 0)) return true;
break;
case 7:
if(func_229("TAXI_OBJ_CC1", 0, 0) || func_229("TAXI_OBJ_CC2", 0, 0) || func_229("TAXI_OBJ_CC3", 0, 0)) return true;
break;
case 8:
if(func_229("TAXI_OBJ_FTC1", 0, 0) || func_229("TAXI_OBJ_FTC2", 0, 0) || func_229("TAXI_OBJ_FTC3", 0, 0)) return true;
break;
case 9:
if(func_229("TX_OBJ_PRO_DO", 0, 0)) return true;
break;
}
return func_229("TAXI_OBJ_GETRUN", 0, 0) || func_229("TAXI_OBJ_DRIVE", 0, 0) || func_229("TAXI_OBJ_RETURN", 0, 0) || func_229("TAXI_OBJ_POL", 0, 0) || func_229("TAXI_OBJ_RUNOUT", 0, 0) || func_229("TAXI_OBJ_POL", 0, 0);
}
BOOL func_378(var uParam0) // Position - 0xEF11{
int i;
for (i=0;
i < 5;
i=i + 1){
if(func_22(uParam0->[i /*8*/].f_7, 2)) return true;
}
return false;
}


void func_379(var uParam0, var uParam1) // Position - 0xEF40{
var unk;
var unk7;
int i;
int num;
int randomIntInRange;
var unk13;
BOOL flag;
unk13=8;
if(func_377(uParam0)){}elseif(!uParam0->f_110){}elseif(func_189(uParam0, 14)){
TEXT_LABEL_ASSIGN_STRING(&unk, uParam0->f_143, 24);
switch (func_198(uParam0)){
case 55:
TEXT_LABEL_APPEND_STRING(&unk, "_lvMe1", 24);
unk7={
unk 
};
func_396(&(uParam0->f_93), 3, &unk7, false, true, false);
func_395(&(uParam0->f_244), uParam0->f_144, &unk, &unk7, 8, 0, 0);
func_317(uParam0, 16, 0, false);
func_394(4, &(uParam0->f_57), &(uParam0->f_55), &(uParam0->f_124), unk, false);
func_279(uParam0, 0, false);
break;
case 2:
if(!_CONVERSATION_IS_DIALOGUE_IN_PROGRESS()){
if(uParam0->f_115) TEXT_LABEL_APPEND_STRING(&unk, "_retrn2", 24);
else TEXT_LABEL_APPEND_STRING(&unk, "_retrn1", 24);
if(uParam0->f_411 !=9) func_393(uParam0, &unk, 0, false, 8);
}else{
func_390(uParam0, unk, func_392(uParam0, 2));
}
if(func_22(uParam0->f_98, 4)){
func_317(uParam0, 16, 0, false);
func_279(uParam0, 0, false);
}
func_238(uParam0, &(uParam0->f_98), 4, 3);
break;
case 3:
if(func_116(uParam0, 16) > 1f){
func_239(1);
if(uParam0->f_411==9) _SHOW_SUBTITLE_CLEAR_EXISTING("TAXI_OBJ_RETURN", 7500, 1);
else _SHOW_SUBTITLE_CLEAR_EXISTING("TAXI_VIP_RETURN", 7500, 1);
func_317(uParam0, 16, 0, false);
func_279(uParam0, 0, false);
}
break;
case 65:
if(uParam0->f_115) TEXT_LABEL_APPEND_STRING(&unk, "_aggro2", 24);
else TEXT_LABEL_APPEND_STRING(&unk, "_aggro", 24);
uParam0->f_107=uParam0->f_107 + 1;
if(uParam0->f_411 !=9) func_393(uParam0, &unk, 0, true, 8);
elseif(!PED::IS_PED_INJURED(uParam0->f_3)) func_274(uParam0->f_3, "TAXI_WHAT_THE_HELL", uParam0->f_145, 4);
break;
}}elseif(func_116(uParam0, 16) > uParam0->f_411==0 ? 1f :
4f && !uParam0->f_142 && uParam0->f_411==0 || uParam0->f_411==1 && !_CONVERSATION_IS_DIALOGUE_IN_PROGRESS() || uParam0->f_411 !=0 && uParam0->f_411 !=1){
TEXT_LABEL_ASSIGN_STRING(&unk, uParam0->f_143, 24);
switch (func_198(uParam0)){
case 142:
if(uParam0->f_115) TEXT_LABEL_APPEND_STRING(&unk, "_noDri2", 24);
else TEXT_LABEL_APPEND_STRING(&unk, "_noDri1", 24);
func_393(uParam0, &unk, 1, false, 8);
break;
case 56:
TEXT_LABEL_APPEND_STRING(&unk, "_lvMe2", 24);
unk7={
unk 
};
func_396(&(uParam0->f_93), 3, &unk7, false, true, false);
func_395(&(uParam0->f_244), uParam0->f_144, &unk, &unk7, 8, 0, 0);
func_317(uParam0, 16, 0, false);
func_394(4, &(uParam0->f_57), &(uParam0->f_55), &(uParam0->f_124), unk, false);
func_279(uParam0, 0, false);
break;
case 0:
if(uParam0->f_411==9) _CONVERSATION_ADD_LINE(&(uParam0->f_244), "OJTXAUD", "OJTX_PRO_CON", 8, 0, 0, 0);
func_254(uParam0, 1, 1, false, false);
break;
case 1:
func_317(uParam0, 16, 0, false);
func_254(uParam0, 4, 0, false, false);
break;
case 4:
TEXT_LABEL_APPEND_STRING(&unk, "_hail1", 24);
unk7={
unk 
};
if(!func_22(uParam0->f_44, 128)){
if(uParam0->f_411==0 || uParam0->f_411==1 || uParam0->f_411==4){
func_396(&(uParam0->f_99), 4, &unk7, false, true, false);
func_395(&(uParam0->f_244), uParam0->f_144, &unk, &unk7, 8, 0, 0);
}else{
func_393(uParam0, &unk, 0, false, 8);
}}
func_317(uParam0, 16, 4f, false);
uParam0->f_141=1;
func_317(uParam0, 16, 0, false);
func_279(uParam0, 0, false);
break;
case 5:
if(uParam0->f_411==7) _SHOW_SUBTITLE_CLEAR_EXISTING("TAXI_OBJ_GPCKUP", 7500, 1);
else _SHOW_SUBTITLE_CLEAR_EXISTING("TAXI_OBJ_PICKUP", 7500, 1);
uParam0->f_141=1;
func_317(uParam0, 16, 0, false);
func_279(uParam0, 0, false);
break;
case 8:
TEXT_LABEL_APPEND_STRING(&unk, "_obj1", 24);
func_393(uParam0, &unk, 0, false, 8);
if(uParam0->f_411 !=7 && uParam0->f_411 !=4){
if(!HUD::DOES_BLIP_EXIST(uParam0->f_9)){
uParam0->f_9=func_130(uParam0->f_17, true);
}elseif(HUD::GET_BLIP_ALPHA(uParam0->f_9)==0){
HUD::SET_BLIP_ALPHA(uParam0->f_9, 255);
HUD::SET_BLIP_COORDS(uParam0->f_9, uParam0->f_17);
HUD::SET_BLIP_ROUTE(uParam0->f_9, true);
}}
func_254(uParam0, 10, 1, false, false);
uParam0->f_417=10;
break;
case 9:
if(uParam0->f_101==1 || uParam0->f_411==2 || uParam0->f_411==0){
TEXT_LABEL_APPEND_STRING(&unk, "_gret1", 24);
}else{
switch (uParam0->f_102){
case 1:
TEXT_LABEL_APPEND_STRING(&unk, "_gret1", 24);
break;
case 0:
TEXT_LABEL_APPEND_STRING(&unk, "_gret2", 24);
break;
case 2:
TEXT_LABEL_APPEND_STRING(&unk, "_gret3", 24);
break;
default:
TEXT_LABEL_APPEND_STRING(&unk, "_gret4", 24);
break;
}}
func_256(&unk);
if(uParam0->f_411 !=9) func_393(uParam0, &unk, 0, false, 8);
else func_274(uParam0->f_3, "TAXI_START", uParam0->f_145, 4);
if(uParam0->f_411 !=7 && uParam0->f_411 !=4){
if(!HUD::DOES_BLIP_EXIST(uParam0->f_9)){
uParam0->f_9=func_130(uParam0->f_17, true);
}elseif(HUD::GET_BLIP_ALPHA(uParam0->f_9)==0){
HUD::SET_BLIP_ALPHA(uParam0->f_9, 255);
HUD::SET_BLIP_COORDS(uParam0->f_9, uParam0->f_17);
HUD::SET_BLIP_ROUTE(uParam0->f_9, true);
}}
func_254(uParam0, 10, 1, false, false);
uParam0->f_417=10;
break;
case 7:
TEXT_LABEL_APPEND_STRING(&unk, "_dest2", 24);
func_389(uParam0, 33554432, unk, "", true, 8);
func_317(uParam0, 16, 0, false);
func_254(uParam0, 10, 1, false, false);
uParam0->f_417=10;
break;
case 10:
if(!_CONVERSATION_IS_DIALOGUE_IN_PROGRESS()){
func_388(uParam0, false);
func_67(&(uParam0->f_44), 4);
func_317(uParam0, 16, 0, false);
func_254(uParam0, 13, 0, false, false);
}
break;
case 14:
switch (uParam0->f_102){
case 0:
TEXT_LABEL_APPEND_STRING(&unk, "_bant2", 24);
break;
case 1:
TEXT_LABEL_APPEND_STRING(&unk, "_bant1", 24);
break;
case 2:
TEXT_LABEL_APPEND_STRING(&unk, "_bant3", 24);
break;
default:
TEXT_LABEL_APPEND_STRING(&unk, "_bant1", 24);
break;
}
func_256(&unk);
func_386(unk, uParam1);
func_317(uParam0, 16, 0, false);
func_317(uParam0, 11, 0, false);
func_279(uParam0, 0, false);
break;
case 15:
if(func_116(uParam0, 11) > uParam0->f_36){
if(uParam0->f_411==0){
TEXT_LABEL_APPEND_STRING(&unk, "_ban1", 24);
}else{
TEXT_LABEL_APPEND_STRING(&unk, "_bant1", 24);
func_256(&unk);
}
func_386(unk, uParam1);
func_67(&(uParam0->f_81), 67108864);
func_317(uParam0, 16, 0, false);
func_317(uParam0, 11, 0, false);
func_279(uParam0, 0, false);
}
break;
case 16:
if(func_116(uParam0, 11) > uParam0->f_36){
if(uParam0->f_411==0){
TEXT_LABEL_APPEND_STRING(&unk, "_ban2", 24);
}elseif(uParam0->f_411==1){
TEXT_LABEL_APPEND_STRING(&unk, "_banter", 24);
}else{
TEXT_LABEL_APPEND_STRING(&unk, "_bant2", 24);
if(uParam0->f_411 !=6) func_256(&unk);
}
func_386(unk, uParam1);
func_317(uParam0, 11, 0, false);
func_317(uParam0, 16, 0, false);
func_279(uParam0, 0, false);
}
break;
case 17:
if(uParam0->f_411==0){
TEXT_LABEL_APPEND_STRING(&unk, "_ban3", 24);
}else{
TEXT_LABEL_APPEND_STRING(&unk, "_bant3", 24);
func_256(&unk);
}
func_386(unk, uParam1);
func_317(uParam0, 16, 0, false);
func_279(uParam0, 0, false);
break;
case 18:
if(uParam0->f_411==0) TEXT_LABEL_APPEND_STRING(&unk, "_BAN4", 24);
else TEXT_LABEL_APPEND_STRING(&unk, "_bant4", 24);
func_256(&unk);
func_386(unk, uParam1);
func_317(uParam0, 16, 0, false);
func_279(uParam0, 0, false);
break;
case 19:
if(uParam0->f_411==0) TEXT_LABEL_APPEND_STRING(&unk, "_BAN5", 24);
else TEXT_LABEL_APPEND_STRING(&unk, "_bant5", 24);
func_256(&unk);
func_386(unk, uParam1);
func_317(uParam0, 16, 0, false);
func_279(uParam0, 0, false);
break;
case 20:
TEXT_LABEL_APPEND_STRING(&unk, "_dest2b", 24);
func_256(&unk);
func_386(unk, uParam1);
func_317(uParam0, 16, 0, false);
func_317(uParam0, 11, 0, false);
func_279(uParam0, 0, false);
func_67(&(uParam0->f_82), 262144);
uParam0->f_36=20f;
break;
case 23:
TEXT_LABEL_APPEND_STRING(&unk, "_seePt1", 24);
func_393(uParam0, &unk, 0, false, 8);
func_254(uParam0, 24, 1, false, false);
break;
case 24:
uParam0->f_417=24;
func_317(uParam0, 16, 0, false);
func_279(uParam0, 0, false);
break;
case 90:
TEXT_LABEL_APPEND_STRING(&unk, "_talk", 24);
TEXT_LABEL_APPEND_INT(&unk, 1, 24);
func_256(&unk);
func_393(uParam0, &unk, 1, false, 8);
break;
case 89:
switch (uParam0->f_102){
case 0:
TEXT_LABEL_APPEND_STRING(&unk, "_deal1", 24);
break;
case 1:
TEXT_LABEL_APPEND_STRING(&unk, "_deal1", 24);
break;
default:
TEXT_LABEL_APPEND_STRING(&unk, "_deal1", 24);
break;
}
func_393(uParam0, &unk, 0, false, 8);
break;
case 91:
TEXT_LABEL_APPEND_STRING(&unk, "_ig1c", 24);
func_393(uParam0, &unk, 0, false, 8);
break;
case 27:
TEXT_LABEL_APPEND_STRING(&unk, "_bTime", 24);
if(uParam0->f_411==2) num=8;
else num=3;
for (i=0;
i < num;
i=i + 1){
switch (uParam0->f_411){
case 2:
switch (i){
case 3:
case 5:
case 6:
case 7:
unk13[i]=0;
break;
default:
unk13[i]=1;
break;
}
break;
default:
unk13[i]=1;
break;
}}
if(uParam0->f_411==2) func_385(&(uParam0->f_90), 8, &unk, &unk13, true, false);
else func_385(&(uParam0->f_90), 3, &unk, &unk13, true, false);
func_386(unk, uParam1);
func_394(0, &(uParam0->f_57), &(uParam0->f_55), &(uParam0->f_124), unk, false);
func_317(uParam0, 16, 0, false);
func_317(uParam0, 6, 0f, true);
func_279(uParam0, 0, false);
break;
case 26:
TEXT_LABEL_APPEND_STRING(&unk, "_gTime", 24);
for (i=0;
i < 8;
i=i + 1){
switch (uParam0->f_411){
case 2:
switch (i){
case 3:
case 4:
case 5:
case 7:
unk13[i]=0;
break;
default:
unk13[i]=1;
break;
}
break;
default:
unk13[i]=1;
break;
}}
if(uParam0->f_411==2) func_385(&(uParam0->f_89), 8, &unk, &unk13, true, false);
else func_385(&(uParam0->f_89), 3, &unk, &unk13, true, false);
func_386(unk, uParam1);
func_394(0, &(uParam0->f_57), &(uParam0->f_55), &(uParam0->f_124), unk, true);
func_317(uParam0, 16, 0, false);
func_317(uParam0, 6, 0f, true);
func_279(uParam0, 0, false);
break;
case 12:
_SHOW_SUBTITLE_CLEAR_EXISTING("TAXI_OBJ_GYB", 3500, 1);
func_317(uParam0, 16, 0, false);
func_279(uParam0, 0, false);
break;
case 11:
if(uParam0->f_410==12 || uParam0->f_410==18) _SHOW_SUBTITLE_CLEAR_EXISTING("TAXI_OBJ_GYN_TG", 7500, 1);
elseif(uParam0->f_410 < 21) _SHOW_SUBTITLE_CLEAR_EXISTING("TAXI_OBJ_GYN", 7500, 1);
else _SHOW_SUBTITLE_CLEAR_EXISTING("TAXI_OBJ_GYN_GF", 7500, 1);
uParam0->f_417=11;
uParam0->f_141=1;
func_317(uParam0, 16, 0, false);
func_279(uParam0, 0, false);
break;
case 28:
switch (uParam0->f_102){
case 0:
TEXT_LABEL_APPEND_STRING(&unk, "_dest1A", 24);
break;
case 1:
TEXT_LABEL_APPEND_STRING(&unk, "_dest1B", 24);
break;
default:
TEXT_LABEL_APPEND_STRING(&unk, "_dest1A", 24);
break;
}
func_393(uParam0, &unk, 0, false, 8);
func_254(uParam0, 29, 1, false, false);
break;
case 29:
if(!func_22(uParam0->f_98, 268435456)){
_SHOW_SUBTITLE_CLEAR_EXISTING("TAXI_OBJ_CYI_01", 7500, 1);
func_67(&(uParam0->f_98), 268435456);
}
uParam0->f_417=29;
func_317(uParam0, 16, 0, false);
func_279(uParam0, 0, false);
break;
case 30:
TEXT_LABEL_APPEND_STRING(&unk, "_rCar1", 24);
func_256(&unk);
func_386(unk, uParam1);
uParam0->f_124={
unk 
};
func_317(uParam0, 16, 0, false);
func_279(uParam0, 0, false);
break;
case 31:
TEXT_LABEL_APPEND_STRING(&unk, "_rCar2", 24);
func_256(&unk);
func_386(unk, uParam1);
uParam0->f_124={
unk 
};
func_317(uParam0, 16, 0, false);
func_279(uParam0, 0, false);
break;
case 32:
TEXT_LABEL_APPEND_STRING(&unk, "_rCar3", 24);
func_256(&unk);
func_386(unk, uParam1);
uParam0->f_124={
unk 
};
func_317(uParam0, 16, 0, false);
func_279(uParam0, 0, false);
break;
case 33:
_SHOW_SUBTITLE_CLEAR_EXISTING("TAXI_OBJ_CYI_02", 7500, 1);
uParam0->f_417=33;
func_317(uParam0, 16, 0, false);
func_279(uParam0, 0, false);
break;
case 34:
if(!func_22(uParam0->f_82, 8192)){
if(func_116(uParam0, 11) > uParam0->f_36){
TEXT_LABEL_APPEND_STRING(&unk, "_airBr1", 24);
func_256(&unk);
if(uParam0->f_411==5) func_386(unk, uParam1);
else func_393(uParam0, &unk, 0, false, 8);
func_67(&(uParam0->f_82), 8192);
func_317(uParam0, 16, 0, false);
func_317(uParam0, 11, 0, false);
func_279(uParam0, 0, false);
}}
break;
case 35:
if(!func_22(uParam0->f_82, 16384)){
TEXT_LABEL_APPEND_STRING(&unk, "_seeD1", 24);
func_256(&unk);
func_393(uParam0, &unk, 0, false, 8);
func_67(&(uParam0->f_82), 16384);
}
break;
case 36:
if(!func_22(uParam0->f_82, 32768)){
TEXT_LABEL_APPEND_STRING(&unk, "_seeD2", 24);
func_256(&unk);
func_393(uParam0, &unk, 0, false, 8);
func_67(&(uParam0->f_82), 32768);
}
break;
case 37:
TEXT_LABEL_APPEND_STRING(&unk, "_done1", 24);
func_393(uParam0, &unk, 0, false, 8);
func_254(uParam0, 46, 1, false, false);
break;
case 138:
if(uParam0->f_101==1){
TEXT_LABEL_APPEND_STRING(&unk, "_ftc1", 24);
}else{
switch (uParam0->f_102){
case 1:
TEXT_LABEL_APPEND_STRING(&unk, "_ftc1", 24);
break;
case 0:
TEXT_LABEL_APPEND_STRING(&unk, "_ftc2", 24);
break;
case 2:
TEXT_LABEL_APPEND_STRING(&unk, "_ftc3", 24);
break;
default:
TEXT_LABEL_APPEND_STRING(&unk, "_ftc3", 24);
break;
}}
func_256(&unk);
func_393(uParam0, &unk, 0, false, 8);
func_254(uParam0, 139, 1, false, false);
uParam0->f_417=139;
func_279(uParam0, 0, false);
break;
case 139:
_SHOW_SUBTITLE_CLEAR_EXISTING("TAXI_OBJ_FTC2", 7500, 1);
uParam0->f_417=13;
func_254(uParam0, 13, 0, false, false);
break;
case 38:
TEXT_LABEL_APPEND_STRING(&unk, "_dOff1", 24);
unk7={
unk 
};
randomIntInRange=MISC::GET_RANDOM_INT_IN_RANGE(0, 120);
if(!func_22(uParam0->f_82, 268435456)){
if(randomIntInRange > 80) TEXT_LABEL_APPEND_STRING(&unk7, "_1", 24);
elseif(randomIntInRange > 40) TEXT_LABEL_APPEND_STRING(&unk7, "_2", 24);
else TEXT_LABEL_APPEND_STRING(&unk7, "_3", 24);
func_67(&(uParam0->f_82), 268435456);
}elseif(randomIntInRange > 80){
TEXT_LABEL_APPEND_STRING(&unk7, "_4", 24);
}elseif(randomIntInRange > 40){
TEXT_LABEL_APPEND_STRING(&unk7, "_5", 24);
}else{
TEXT_LABEL_APPEND_STRING(&unk7, "_6", 24);
}
func_395(&(uParam0->f_244), uParam0->f_144, &unk, &unk7, 8, 0, 0);
func_317(uParam0, 16, 0, false);
func_279(uParam0, 0, false);
break;
case 39:
TEXT_LABEL_APPEND_STRING(&unk, "_bdOff1", 24);
unk7={
unk 
};
randomIntInRange=MISC::GET_RANDOM_INT_IN_RANGE(0, 100);
if(!func_22(uParam0->f_82, 268435456)){
if(randomIntInRange < 50) TEXT_LABEL_APPEND_STRING(&unk7, "_1", 24);
else TEXT_LABEL_APPEND_STRING(&unk7, "_2", 24);
func_67(&(uParam0->f_82), 268435456);
}elseif(randomIntInRange < 50){
TEXT_LABEL_APPEND_STRING(&unk7, "_3", 24);
}else{
TEXT_LABEL_APPEND_STRING(&unk7, "_4", 24);
}
func_395(&(uParam0->f_244), uParam0->f_144, &unk, &unk7, 8, 0, 0);
func_317(uParam0, 16, 0, false);
func_279(uParam0, 0, false);
break;
case 41:
TEXT_LABEL_APPEND_STRING(&unk, "_dr2P", 24);
func_393(uParam0, &unk, 0, false, 8);
func_317(uParam0, 16, 0, false);
func_279(uParam0, 0, false);
break;
case 42:
TEXT_LABEL_APPEND_STRING(&unk, "_dr2N", 24);
func_393(uParam0, &unk, 0, false, 8);
func_317(uParam0, 16, 0, false);
func_279(uParam0, 0, false);
break;
case 40:
TEXT_LABEL_APPEND_STRING(&unk, "_dOff2", 24);
func_393(uParam0, &unk, 0, false, 8);
func_254(uParam0, 44, 1, false, false);
break;
case 44:
_SHOW_SUBTITLE_CLEAR_EXISTING("TAXI_OBJ_CC2", 7500, 1);
uParam0->f_417=44;
func_279(uParam0, 0, false);
func_254(uParam0, 97, 1, false, false);
break;
case 43:
TEXT_LABEL_APPEND_STRING(&unk, "_dOff3", 24);
func_393(uParam0, &unk, 0, false, 8);
func_254(uParam0, 45, 1, false, false);
break;
case 45:
if(!_CONVERSATION_IS_DIALOGUE_IN_PROGRESS()){
_SHOW_SUBTITLE_CLEAR_EXISTING("TAXI_OBJ_CC3", 7500, 1);
uParam0->f_417=45;
func_279(uParam0, 0, false);
func_254(uParam0, 98, 1, false, false);
}
break;
case 46:
_SHOW_SUBTITLE_CLEAR_EXISTING("TAXI_OBJ_FTC3", 7500, 1);
uParam0->f_417=46;
func_279(uParam0, 0, false);
break;
case 21:
if(!func_22(uParam0->f_81, 1)){
func_384(uParam0, 1, unk, "_sick1", 8);
func_20(&(uParam0->f_81), 2);
}elseif(!func_22(uParam0->f_81, 2)){
func_384(uParam0, 2, unk, "_sick2", 8);
func_20(&(uParam0->f_81), 1);
}
func_394(12, &(uParam0->f_57), &(uParam0->f_55), &(uParam0->f_124), unk, false);
func_279(uParam0, 0, false);
break;
case 22:
if(!func_22(uParam0->f_82, 2097152)) TEXT_LABEL_APPEND_STRING(&unk, "_nopke1", 24);
elseif(!func_22(uParam0->f_82, 4194304)) TEXT_LABEL_APPEND_STRING(&unk, "_nopke2", 24);
func_67(&(uParam0->f_81), 2097152);
func_393(uParam0, &unk, 0, false, 8);
func_317(uParam0, 16, 0, false);
func_394(17, &(uParam0->f_57), &(uParam0->f_55), &(uParam0->f_124), unk, true);
func_279(uParam0, 0, false);
break;
case 61:
TEXT_LABEL_APPEND_STRING(&unk, "_Puke1", 24);
func_393(uParam0, &unk, 0, false, 8);
func_394(18, &(uParam0->f_57), &(uParam0->f_55), &(uParam0->f_124), unk, false);
break;
case 63:
TEXT_LABEL_APPEND_STRING(&unk, "_PkStp2", 24);
func_393(uParam0, &unk, 0, false, 8);
func_394(20, &(uParam0->f_57), &(uParam0->f_55), &(uParam0->f_124), unk, false);
func_317(uParam0, 16, 0, false);
func_279(uParam0, 0, false);
break;
case 62:
TEXT_LABEL_APPEND_STRING(&unk, "_PkStp1", 24);
func_393(uParam0, &unk, 0, false, 8);
func_394(19, &(uParam0->f_57), &(uParam0->f_55), &(uParam0->f_124), unk, false);
break;
case 64:
TEXT_LABEL_APPEND_STRING(&unk, "_PukeR1", 24);
func_256(&unk);
func_393(uParam0, &unk, 0, false, 8);
break;
case 71:
if(!func_22(uParam0->f_81, 4)){
func_384(uParam0, 4, unk, "_turns1", 8);
}elseif(!func_22(uParam0->f_81, 8)){
func_384(uParam0, 8, unk, "_turns2", 8);
}else{
func_384(uParam0, 8, unk, "_turns3", 8);
func_20(&(uParam0->f_81), 4);
func_20(&(uParam0->f_81), 8);
}
func_394(13, &(uParam0->f_57), &(uParam0->f_55), &(uParam0->f_124), unk, false);
func_279(uParam0, 0, false);
break;
case 72:
if(func_383(uParam0)){
func_390(uParam0, unk, func_392(uParam0, 72));
}elseif(uParam0->f_411==9){
if(!PED::IS_PED_INJURED(uParam0->f_3)) func_274(uParam0->f_3, "CRASH_GENERIC", uParam0->f_145, 4);
}elseif(uParam0->f_411==1){
TEXT_LABEL_APPEND_STRING(&unk, "_carHt", 24);
unk7={
unk 
};
func_396(&(uParam0->f_95), 5, &unk7, true, false, true);
_CONVERSATION_ADD_LINE(&(uParam0->f_244), uParam0->f_144, &unk7, 8, 0, 0, 0);
}else{
TEXT_LABEL_APPEND_STRING(&unk, "_carHt1", 24);
unk7={
unk 
};
if(uParam0->f_411==0) func_396(&(uParam0->f_95), 8, &unk7, true, true, false);
else func_396(&(uParam0->f_95), 5, &unk7, true, true, false);
func_395(&(uParam0->f_244), uParam0->f_144, &unk, &unk7, 8, 0, 0);
}
func_394(2, &(uParam0->f_57), &(uParam0->f_55), &(uParam0->f_124), unk7, false);
func_317(uParam0, 16, 0, false);
func_279(uParam0, 0, false);
break;
case 73:
TEXT_LABEL_APPEND_STRING(&unk, "_genPnHi", 24);
func_393(uParam0, &unk, 0, false, 8);
break;
case 75:
if(!func_22(uParam0->f_83, 128)){
TEXT_LABEL_APPEND_STRING(&unk, "_nMiss1", 24);
_CONVERSATION_ADD_LINE(&(uParam0->f_244), uParam0->f_144, &unk, 8, 0, 0, 0);
func_67(&(uParam0->f_83), 128);
func_20(&(uParam0->f_83), 256);
func_317(uParam0, 16, 0, false);
}elseif(!func_22(uParam0->f_83, 256)){
TEXT_LABEL_APPEND_STRING(&unk, "_nMiss2", 24);
_CONVERSATION_ADD_LINE(&(uParam0->f_244), uParam0->f_144, &unk, 8, 0, 0, 0);
func_67(&(uParam0->f_83), 256);
func_20(&(uParam0->f_83), 512);
func_317(uParam0, 16, 0, false);
}elseif(!func_22(uParam0->f_83, 512)){
TEXT_LABEL_APPEND_STRING(&unk, "_nMiss3", 24);
_CONVERSATION_ADD_LINE(&(uParam0->f_244), uParam0->f_144, &unk, 8, 0, 0, 0);
func_67(&(uParam0->f_83), 512);
func_20(&(uParam0->f_83), 128);
func_317(uParam0, 16, 0, false);
}
func_279(uParam0, 0, false);
break;
case 76:
if(uParam0->f_411==1 || uParam0->f_411==0) flag=true;
if(!func_22(uParam0->f_83, 1)){
TEXT_LABEL_APPEND_STRING(&unk, "_air1", 24);
if(flag) func_256(&unk);
_CONVERSATION_ADD_LINE(&(uParam0->f_244), uParam0->f_144, &unk, 8, 0, 0, 0);
func_67(&(uParam0->f_83), 1);
func_20(&(uParam0->f_83), 2);
func_317(uParam0, 16, 0, false);
}elseif(!func_22(uParam0->f_83, 2)){
TEXT_LABEL_APPEND_STRING(&unk, "_air2", 24);
if(flag) func_256(&unk);
_CONVERSATION_ADD_LINE(&(uParam0->f_244), uParam0->f_144, &unk, 8, 0, 0, 0);
func_67(&(uParam0->f_83), 2);
if(uParam0->f_411==0) func_20(&(uParam0->f_83), 4);
else func_20(&(uParam0->f_83), 1);
func_317(uParam0, 16, 0, false);
}elseif(!func_22(uParam0->f_83, 4)){
TEXT_LABEL_APPEND_STRING(&unk, "_air3", 24);
if(flag) func_256(&unk);
_CONVERSATION_ADD_LINE(&(uParam0->f_244), uParam0->f_144, &unk, 8, 0, 0, 0);
func_67(&(uParam0->f_83), 4);
func_20(&(uParam0->f_83), 1);
func_317(uParam0, 16, 0, false);
}
func_394(11, &(uParam0->f_57), &(uParam0->f_55), &(uParam0->f_124), unk, false);
func_279(uParam0, 0, false);
break;
case 79:
if(uParam0->f_411==1 || uParam0->f_411==0) flag=true;
if(!func_22(uParam0->f_81, 4096)) func_389(uParam0, 4096, unk, "_sideW1", flag, 8);
elseif(!func_22(uParam0->f_81, 8192)) func_389(uParam0, 8192, unk, "_sideW2", flag, 8);
func_394(15, &(uParam0->f_57), &(uParam0->f_55), &(uParam0->f_124), unk, false);
func_279(uParam0, 0, false);
break;
case 80:
if(uParam0->f_411==1 || uParam0->f_411==0) flag=true;
if(!func_22(uParam0->f_81, 16384)) func_389(uParam0, 16384, unk, "_opLne1", flag, 8);
elseif(!func_22(uParam0->f_81, 32768)) func_389(uParam0, 32768, unk, "_opLne2", flag, 8);
func_394(14, &(uParam0->f_57), &(uParam0->f_55), &(uParam0->f_124), unk, false);
func_279(uParam0, 0, false);
break;
case 83:
if(uParam0->f_411==0){
if(!func_22(uParam0->f_82, 8)) func_382(uParam0, 8, unk, "_bored1", 8, false);
elseif(!func_22(uParam0->f_82, 16)) func_382(uParam0, 16, unk, "_bored2", 8, false);
elseif(!func_22(uParam0->f_82, 32)) func_382(uParam0, 32, unk, "_bored3", 8, false);
func_394(9, &(uParam0->f_57), &(uParam0->f_55), &(uParam0->f_124), unk, false);
func_279(uParam0, 0, false);
}
if(uParam0->f_411==1){
TEXT_LABEL_APPEND_STRING(&unk, "_good1", 24);
unk7={
unk 
};
func_396(&(uParam0->f_93), 6, &unk7, false, true, false);
func_395(&(uParam0->f_244), uParam0->f_144, &unk, &unk7, 8, 0, 0);
func_394(9, &(uParam0->f_57), &(uParam0->f_55), &(uParam0->f_124), unk, false);
func_317(uParam0, 16, 0, false);
func_279(uParam0, 0, false);
}
break;
case 92:
TEXT_LABEL_APPEND_STRING(&unk, "_EtoB1", 24);
unk7={
unk 
};
func_396(&(uParam0->f_96), 2, &unk7, false, true, false);
func_395(&(uParam0->f_244), uParam0->f_144, &unk, &unk7, 8, 0, 0);
func_394(9, &(uParam0->f_57), &(uParam0->f_55), &(uParam0->f_124), unk, false);
func_317(uParam0, 16, 0, false);
func_279(uParam0, 0, false);
break;
case 93:
TEXT_LABEL_APPEND_STRING(&unk, "_BtoE1", 24);
unk7={
unk 
};
func_396(&(uParam0->f_97), 2, &unk7, false, true, false);
func_395(&(uParam0->f_244), uParam0->f_144, &unk, &unk7, 8, 0, 0);
func_394(12, &(uParam0->f_57), &(uParam0->f_55), &(uParam0->f_124), unk, false);
func_317(uParam0, 16, 0, false);
func_279(uParam0, 0, false);
break;
case 81:
if(!func_22(uParam0->f_81, 65536)) func_389(uParam0, 65536, unk, "_runLit1", true, 8);
elseif(!func_22(uParam0->f_81, 131072)) func_389(uParam0, 131072, unk, "_runLit2", true, 8);
func_279(uParam0, 0, false);
break;
case 82:
if(func_383(uParam0)){
func_390(uParam0, unk, func_392(uParam0, 82));
}elseif(uParam0->f_411==9){
if(!PED::IS_PED_INJURED(uParam0->f_3)) func_274(uParam0->f_3, "CAR_HIT_PED_DRIVEN", uParam0->f_145, 4);
}elseif(!func_22(uParam0->f_83, 8)){
TEXT_LABEL_APPEND_STRING(&unk, "_hitR1", 24);
func_256(&unk);
_CONVERSATION_ADD_LINE(&(uParam0->f_244), uParam0->f_144, &unk, 8, 0, 0, 0);
func_67(&(uParam0->f_83), 8);
func_20(&(uParam0->f_83), 16);
func_317(uParam0, 16, 0, false);
}elseif(!func_22(uParam0->f_83, 16)){
TEXT_LABEL_APPEND_STRING(&unk, "_hitR2", 24);
func_256(&unk);
_CONVERSATION_ADD_LINE(&(uParam0->f_244), uParam0->f_144, &unk, 8, 0, 0, 0);
func_67(&(uParam0->f_83), 16);
func_20(&(uParam0->f_83), 32);
func_317(uParam0, 16, 0, false);
}elseif(!func_22(uParam0->f_83, 32)){
TEXT_LABEL_APPEND_STRING(&unk, "_hitR3", 24);
func_256(&unk);
_CONVERSATION_ADD_LINE(&(uParam0->f_244), uParam0->f_144, &unk, 8, 0, 0, 0);
func_67(&(uParam0->f_83), 32);
if(uParam0->f_411==0) func_20(&(uParam0->f_83), 64);
else func_20(&(uParam0->f_83), 8);
func_317(uParam0, 16, 0, false);
}elseif(!func_22(uParam0->f_83, 64)){
TEXT_LABEL_APPEND_STRING(&unk, "_hitR4", 24);
func_256(&unk);
_CONVERSATION_ADD_LINE(&(uParam0->f_244), uParam0->f_144, &unk, 8, 0, 0, 0);
func_67(&(uParam0->f_83), 64);
func_20(&(uParam0->f_83), 8);
func_317(uParam0, 16, 0, false);
}
func_394(1, &(uParam0->f_57), &(uParam0->f_55), &(uParam0->f_124), unk, false);
func_279(uParam0, 0, false);
break;
case 65:
if(!_CONVERSATION_IS_DIALOGUE_IN_PROGRESS()){
if(uParam0->f_115) TEXT_LABEL_APPEND_STRING(&unk, "_aggro2", 24);
else TEXT_LABEL_APPEND_STRING(&unk, "_aggro", 24);
func_393(uParam0, &unk, 0, true, 8);
}else{
func_390(uParam0, unk, func_392(uParam0, 65));
func_279(uParam0, 0, false);
}
uParam0->f_107=uParam0->f_107 + 1;
break;
case 66:
if(!_CONVERSATION_IS_DIALOGUE_IN_PROGRESS()){
if(uParam0->f_411==4) TEXT_LABEL_ASSIGN_STRING(&unk, "tm6_shoot", 24);
elseif(uParam0->f_115) TEXT_LABEL_APPEND_STRING(&unk, "_shootlz", 24);
else TEXT_LABEL_APPEND_STRING(&unk, "_shoot", 24);
func_393(uParam0, &unk, 0, true, 8);
}else{
func_390(uParam0, unk, func_392(uParam0, 66));
func_279(uParam0, 0, false);
}
uParam0->f_107=uParam0->f_107 + 1;
break;
case 13:
if(uParam0->f_411==8){
if(!uParam0->f_109 && !_CONVERSATION_IS_DIALOGUE_IN_PROGRESS()){
switch (uParam0->f_414){
case 3:
TEXT_LABEL_APPEND_STRING(&unk, "_warnC1", 24);
func_393(uParam0, &unk, 0, false, 8);
break;
case 6:
TEXT_LABEL_APPEND_STRING(&unk, "_warnF1", 24);
func_393(uParam0, &unk, 0, false, 8);
break;
case 1:
TEXT_LABEL_APPEND_STRING(&unk, "_far1", 24);
func_393(uParam0, &unk, 0, false, 8);
func_394(21, &(uParam0->f_57), &(uParam0->f_55), &(uParam0->f_124), unk, false);
break;
case 2:
TEXT_LABEL_APPEND_STRING(&unk, "_close1", 24);
func_393(uParam0, &unk, 0, false, 8);
func_394(22, &(uParam0->f_57), &(uParam0->f_55), &(uParam0->f_124), unk, false);
break;
case 10:
TEXT_LABEL_APPEND_STRING(&unk, "_hit1", 24);
func_393(uParam0, &unk, 0, false, 8);
break;
case 8:
TEXT_LABEL_APPEND_STRING(&unk, "_good1", 24);
unk7={
unk 
};
func_396(&(uParam0->f_93), 6, &unk7, true, true, false);
func_395(&(uParam0->f_244), uParam0->f_144, &unk, &unk7, 8, 0, 0);
func_394(23, &(uParam0->f_57), &(uParam0->f_55), &(uParam0->f_124), unk7, false);
func_317(uParam0, 16, 0, false);
func_279(uParam0, 0, false);
break;
case 9:
if(!bLocal_64){
TEXT_LABEL_APPEND_STRING(&unk, "_sBant1", 24);
unk7={
unk 
};
func_393(uParam0, &unk, 0, false, 8);
func_317(uParam0, 16, 0, false);
func_317(uParam0, 11, 0, false);
func_279(uParam0, 0, false);
if(!bLocal_66) bLocal_64=true;
}else{
if(!bLocal_65){
TEXT_LABEL_APPEND_STRING(&unk, "_bant3", 24);
bLocal_65=true;
}
else{
TEXT_LABEL_APPEND_STRING(&unk, "_bant2", 24);
bLocal_66=true;
}
func_256(&unk);
func_393(uParam0, &unk, 0, false, 8);
func_317(uParam0, 16, 0, false);
func_317(uParam0, 11, 0, false);
func_279(uParam0, 0, false);
bLocal_64=false;
}
break;
case 7:
TEXT_LABEL_APPEND_STRING(&unk, "_done1", 24);
func_393(uParam0, &unk, 0, false, 8);
break;
}
func_254(uParam0, 143, 0, false, false);
}}
break;
case 78:
TEXT_LABEL_APPEND_STRING(&unk, "_speed1", 24);
unk7={
unk 
};
func_396(&(uParam0->f_87), 6, &unk7, true, true, false);
func_395(&(uParam0->f_244), uParam0->f_144, &unk, &unk7, 8, 0, 0);
func_394(10, &(uParam0->f_57), &(uParam0->f_55), &(uParam0->f_124), unk, false);
func_317(uParam0, 16, 0, false);
func_279(uParam0, 0, false);
break;
case 25:
if(!func_22(uParam0->f_82, 1)) func_382(uParam0, 1, unk, "_close1", 8, false);
elseif(!func_22(uParam0->f_82, 2)) func_382(uParam0, 2, unk, "_close2", 8, false);
elseif(!func_22(uParam0->f_82, 4)) func_382(uParam0, 4, unk, "_close3", 8, false);
func_279(uParam0, 0, false);
break;
case 48:
if(uParam0->f_115) TEXT_LABEL_APPEND_STRING(&unk, "_stop2", 24);
else TEXT_LABEL_APPEND_STRING(&unk, "_stop1", 24);
unk7={
unk 
};
func_396(&(uParam0->f_86), 4, &unk7, false, true, false);
if(uParam0->f_411 !=9) func_395(&(uParam0->f_244), uParam0->f_144, &unk, &unk7, 8, 0, 0);
elseif(!PED::IS_PED_INJURED(uParam0->f_3)) func_274(uParam0->f_3, "TAXI_STOPPED", uParam0->f_145, 4);
func_317(uParam0, 16, 0, false);
func_394(5, &(uParam0->f_57), &(uParam0->f_55), &(uParam0->f_124), unk, false);
func_279(uParam0, 0, false);
break;
case 74:
if(func_383(uParam0)){
func_390(uParam0, unk, func_392(uParam0, 74));
}elseif(uParam0->f_411==9){
if(!PED::IS_PED_INJURED(uParam0->f_3)) func_274(uParam0->f_3, "VEHICLE_FLIPPED", uParam0->f_145, 4);
}else{
TEXT_LABEL_APPEND_STRING(&unk, "_roll1", 24);
func_381(uParam0, unk, 8);
}
func_394(3, &(uParam0->f_57), &(uParam0->f_55), &(uParam0->f_124), unk, false);
func_317(uParam0, 16, 0, false);
func_279(uParam0, 0, false);
break;
case 70:
if(!func_22(uParam0->f_83, 1024)){
func_67(&(uParam0->f_83), 1024);
func_317(uParam0, 16, 0, false);
TEXT_LABEL_APPEND_STRING(&unk, "_swrv1", 24);
func_256(&unk);
_CONVERSATION_ADD_LINE(&(uParam0->f_244), uParam0->f_144, &unk, 8, 0, 0, 0);
}elseif(!func_22(uParam0->f_83, 2048)){
func_67(&(uParam0->f_83), 2048);
func_317(uParam0, 16, 0, false);
TEXT_LABEL_APPEND_STRING(&unk, "_swrv2", 24);
func_256(&unk);
_CONVERSATION_ADD_LINE(&(uParam0->f_244), uParam0->f_144, &unk, 8, 0, 0, 0);
}elseif(!func_22(uParam0->f_83, 4096)){
func_67(&(uParam0->f_83), 4096);
func_317(uParam0, 16, 0, false);
TEXT_LABEL_APPEND_STRING(&unk, "_swrv3", 24);
func_256(&unk);
_CONVERSATION_ADD_LINE(&(uParam0->f_244), uParam0->f_144, &unk, 8, 0, 0, 0);
}
func_279(uParam0, 0, false);
break;
case 69:
if(!func_22(uParam0->f_82, 1024)){
func_382(uParam0, 1024, unk, "_rvrs1", 8, true);
func_20(&(uParam0->f_82), 2048);
}elseif(!func_22(uParam0->f_82, 2048)){
func_382(uParam0, 2048, unk, "_rvrs2", 8, true);
}
func_279(uParam0, 0, false);
break;
case 67:
TEXT_LABEL_APPEND_STRING(&unk, "_ofrd1", 24);
unk7={
unk 
};
func_396(&(uParam0->f_88), 4, &unk7, false, true, false);
func_395(&(uParam0->f_244), uParam0->f_144, &unk, &unk7, 8, 0, 0);
func_394(16, &(uParam0->f_57), &(uParam0->f_55), &(uParam0->f_124), unk7, false);
func_317(uParam0, 16, 0, false);
func_279(uParam0, 0, false);
break;
case 68:
TEXT_LABEL_APPEND_STRING(&unk, "_ofrdch1", 24);
_CONVERSATION_ADD_LINE(&(uParam0->f_244), uParam0->f_144, &unk, 9, 0, 0, 0);
func_317(uParam0, 16, 0, false);
func_279(uParam0, 0, false);
break;
case 49:
TEXT_LABEL_APPEND_STRING(&unk, "_losPol1", 24);
func_393(uParam0, &unk, 0, false, 8);
func_254(uParam0, 52, 1, false, false);
break;
case 50:
if(uParam0->f_115) TEXT_LABEL_APPEND_STRING(&unk, "_lsPo2", 24);
else TEXT_LABEL_APPEND_STRING(&unk, "_lsPo1", 24);
if(uParam0->f_411 !=9) func_393(uParam0, &unk, 0, false, 8);
elseif(!PED::IS_PED_INJURED(uParam0->f_3)) func_274(uParam0->f_3, "POLICE_PURSUIT_DRIVEN", uParam0->f_145, 4);
func_317(uParam0, 16, 0, false);
func_279(uParam0, 0, false);
break;
case 51:
if(func_383(uParam0)){
if(uParam0->f_411==2){
TEXT_LABEL_APPEND_STRING(&unk, "_copBa1", 24);
unk7={
unk 
};
unk7={
unk 
};
func_393(uParam0, &unk, 0, false, 8);
func_254(uParam0, 52, 1, false, false);
func_317(uParam0, 16, 0, false);
}else{
if(uParam0->f_411==5 && uParam0->f_410 > 9) TEXT_LABEL_APPEND_STRING(&unk, "_copBa2", 24);
else TEXT_LABEL_APPEND_STRING(&unk, "_copBa1", 24);
unk7={
unk 
};
func_393(uParam0, &unk, 0, false, 8);
func_317(uParam0, 16, 0, false);
}}else{
TEXT_LABEL_APPEND_STRING(&unk, "_copBa1", 24);
unk7={
unk 
};
func_396(&(uParam0->f_85), 6, &unk7, true, true, false);
func_395(&(uParam0->f_244), uParam0->f_144, &unk, &unk7, 8, 0, 0);
func_317(uParam0, 16, 0, false);
func_279(uParam0, 0, false);
}
break;
case 53:
TEXT_LABEL_APPEND_STRING(&unk, "_evdeP1", 24);
func_394(8, &(uParam0->f_57), &(uParam0->f_55), &(uParam0->f_124), unk, false);
func_393(uParam0, &unk, 0, false, 8);
func_317(uParam0, 10, 0f, true);
break;
case 52:
if(PLAYER::GET_PLAYER_WANTED_LEVEL(PLAYER::GET_PLAYER_INDEX()) >=1){
_SHOW_SUBTITLE_CLEAR_EXISTING("TAXI_OBJ_POL", 7500, 1);
uParam0->f_417=52;
}
func_279(uParam0, 0, false);
break;
case 54:
TEXT_LABEL_APPEND_STRING(&unk, "_cpFz1", 24);
func_256(&unk);
func_393(uParam0, &unk, 0, false, 8);
break;
case 84:
if(!func_22(uParam0->f_81, 262144)) func_389(uParam0, 262144, unk, "_rdCh1", true, 8);
elseif(!func_22(uParam0->f_81, 1048576))if(uParam0->f_411==0 || uParam0->f_411==1) func_389(uParam0, 1048576, unk, "_rdCh2", true, 8);
else func_389(uParam0, 1048576, unk, "_rdCh2", false, 8);
func_394(7, &(uParam0->f_57), &(uParam0->f_55), &(uParam0->f_124), unk, false);
func_279(uParam0, 0, false);
break;
case 85:
if(!func_22(uParam0->f_82, 67108864))if(uParam0->f_418.f_6) func_380(uParam0, 67108864, unk, "_rdLk1", true, 7);
elseif(!func_22(uParam0->f_82, 134217728)) func_380(uParam0, 134217728, unk, "_rdFv1", false, 7);
func_394(6, &(uParam0->f_57), &(uParam0->f_55), &(uParam0->f_124), unk, false);
func_279(uParam0, 0, false);
break;
case 86:
TEXT_LABEL_APPEND_STRING(&unk, "_rdneu1", 24);
func_393(uParam0, &unk, 0, false, 8);
break;
case 87:
TEXT_LABEL_APPEND_STRING(&unk, "_rdtip1", 24);
unk7={
unk 
};
TEXT_LABEL_APPEND_STRING(&unk7, "_", 24);
TEXT_LABEL_APPEND_INT(&unk7, uParam0->f_418.f_3, 24);
func_395(&(uParam0->f_244), uParam0->f_144, &unk, &unk7, 8, 0, 0);
func_317(uParam0, 16, 0, false);
func_279(uParam0, 0, false);
break;
case 100:
_SHOW_SUBTITLE_CLEAR_EXISTING("TAXI_OBJ_GYB_2", 7500, 1);
uParam0->f_417=100;
func_279(uParam0, 0, false);
break;
case 47:
if(uParam0->f_411==1){
TEXT_LABEL_APPEND_STRING(&unk, "_horn", 24);
func_393(uParam0, &unk, 0, false, 8);
}
break;
case 101:
TEXT_LABEL_APPEND_STRING(&unk, "_thank1", 24);
if(uParam0->f_411==1 || uParam0->f_411==5 || uParam0->f_411==0) func_256(&unk);
func_67(&(uParam0->f_81), 2097152);
if(uParam0->f_411 !=9) func_393(uParam0, &unk, 0, false, 8);
break;
case 102:
TEXT_LABEL_APPEND_STRING(&unk, "_thank2", 24);
if(uParam0->f_411==1 || uParam0->f_411==5 || uParam0->f_411==0) func_256(&unk);
func_67(&(uParam0->f_81), 2097152);
if(uParam0->f_411 !=9) func_393(uParam0, &unk, 0, false, 8);
break;
case 103:
if(uParam0->f_411==4) TEXT_LABEL_APPEND_STRING(&unk, "_pissed1", 24);
else TEXT_LABEL_APPEND_STRING(&unk, "_thank3", 24);
if(uParam0->f_411==1 || uParam0->f_411==5 || uParam0->f_411==0) func_256(&unk);
func_67(&(uParam0->f_81), 2097152);
if(uParam0->f_411 !=9) func_393(uParam0, &unk, 0, false, 8);
break;
case 97:
if(!func_22(uParam0->f_82, 65536)){
if(func_116(uParam0, 11) > uParam0->f_36){
switch (uParam0->f_102){
case 0:
TEXT_LABEL_APPEND_STRING(&unk, "_ccba2", 24);
break;
case 1:
TEXT_LABEL_APPEND_STRING(&unk, "_ccba1", 24);
break;
default:
TEXT_LABEL_APPEND_STRING(&unk, "_ccba1", 24);
break;
}
func_256(&unk);
func_386(unk, uParam1);
func_67(&(uParam0->f_82), 65536);
func_317(uParam0, 16, 0, false);
func_317(uParam0, 11, 0, false);
func_279(uParam0, 0, false);
}}
break;
case 98:
if(!func_22(uParam0->f_82, 131072)){
if(func_116(uParam0, 11) > uParam0->f_36){
TEXT_LABEL_APPEND_STRING(&unk, "_ccbb1", 24);
func_256(&unk);
func_386(unk, uParam1);
func_67(&(uParam0->f_82), 131072);
func_317(uParam0, 16, 0, false);
func_317(uParam0, 11, 0, false);
func_279(uParam0, 0, false);
}}
break;
case 99:
if(!func_22(uParam0->f_82, 8388608)){
TEXT_LABEL_APPEND_STRING(&unk, "_close1", 24);
func_67(&(uParam0->f_82), 8388608);
}elseif(!func_22(uParam0->f_82, 16777216)){
TEXT_LABEL_APPEND_STRING(&unk, "_close2", 24);
func_67(&(uParam0->f_82), 16777216);
}elseif(!func_22(uParam0->f_82, 33554432)){
TEXT_LABEL_APPEND_STRING(&unk, "_close3", 24);
func_67(&(uParam0->f_82), 33554432);
}
func_386(unk, uParam1);
func_317(uParam0, 16, 0, false);
func_279(uParam0, 0, false);
break;
case 58:
if(uParam0->f_411==6){
TEXT_LABEL_APPEND_STRING(&unk, "_kill1", 24);
unk7={
unk 
};
func_396(&(uParam0->f_93), 6, &unk7, true, true, true);
func_256(&unk);
func_395(&(uParam0->f_244), uParam0->f_144, &unk, &unk7, 8, 0, 0);
}elseif(uParam0->f_411==8){
TEXT_LABEL_APPEND_STRING(&unk, "_cheat1", 24);
func_393(uParam0, &unk, 0, false, 8);
}else{
TEXT_LABEL_APPEND_STRING(&unk, "_kill1", 24);
func_393(uParam0, &unk, 0, false, 8);
}
func_317(uParam0, 16, 0, false);
func_279(uParam0, 0, false);
break;
case 95:
TEXT_LABEL_APPEND_STRING(&unk, "_wndw2", 24);
func_386(unk, uParam1);
func_317(uParam0, 16, 0, false);
func_317(uParam0, 11, 0, false);
func_279(uParam0, 0, false);
break;
case 94:
TEXT_LABEL_APPEND_STRING(&unk, "_wndw0", 24);
func_386(unk, uParam1);
func_317(uParam0, 16, 0, false);
func_317(uParam0, 11, 0, false);
func_279(uParam0, 0, false);
break;
case 96:
TEXT_LABEL_APPEND_STRING(&unk, "_wndw1", 24);
func_386(unk, uParam1);
func_317(uParam0, 16, 0, false);
func_317(uParam0, 11, 0, false);
func_279(uParam0, 0, false);
break;
case 113:
TEXT_LABEL_APPEND_STRING(&unk, "_csite1", 24);
func_256(&unk);
func_393(uParam0, &unk, 0, false, 8);
break;
case 119:
TEXT_LABEL_APPEND_STRING(&unk, "_fair1", 24);
func_256(&unk);
func_393(uParam0, &unk, 0, false, 8);
break;
case 115:
TEXT_LABEL_APPEND_STRING(&unk, "_AlCk1", 24);
unk7={
unk 
};
func_396(&(uParam0->f_91), 5, &unk7, true, true, false);
func_395(&(uParam0->f_244), uParam0->f_144, &unk, &unk7, 8, 0, 0);
func_317(uParam0, 16, 0, false);
func_279(uParam0, 0, false);
break;
case 116:
TEXT_LABEL_APPEND_STRING(&unk, "_eggG1", 24);
unk7={
unk 
};
func_396(&(uParam0->f_92), 5, &unk7, true, true, false);
func_395(&(uParam0->f_244), uParam0->f_144, &unk, &unk7, 8, 0, 0);
func_317(uParam0, 16, 0, false);
func_279(uParam0, 0, false);
break;
case 114:
TEXT_LABEL_APPEND_STRING(&unk, "_goons1", 24);
func_393(uParam0, &unk, 0, false, 8);
break;
case 59:
TEXT_LABEL_APPEND_STRING(&unk, "_oRun1", 24);
func_393(uParam0, &unk, 0, false, 8);
break;
case 117:
TEXT_LABEL_APPEND_STRING(&unk, "_gotG1", 24);
func_393(uParam0, &unk, 0, false, 8);
break;
case 118:
TEXT_LABEL_APPEND_STRING(&unk, "_getA1", 24);
func_393(uParam0, &unk, 0, false, 8);
break;
case 120:
TEXT_LABEL_APPEND_STRING(&unk, "_gnawy1", 24);
func_393(uParam0, &unk, 0, false, 8);
break;
case 121:
TEXT_LABEL_APPEND_STRING(&unk, "_grl1", 24);
func_256(&unk);
func_393(uParam0, &unk, 0, false, 8);
break;
case 122:
TEXT_LABEL_APPEND_STRING(&unk, "_figt1", 24);
func_393(uParam0, &unk, 0, false, 8);
break;
case 123:
TEXT_LABEL_APPEND_STRING(&unk, "_gEgg1", 24);
func_393(uParam0, &unk, 0, false, 8);
break;
case 124:
TEXT_LABEL_APPEND_STRING(&unk, "_gEgg3", 24);
func_393(uParam0, &unk, 0, false, 8);
break;
case 125:
TEXT_LABEL_APPEND_STRING(&unk, "_gEgg2", 24);
func_393(uParam0, &unk, 0, false, 8);
break;
case 126:
TEXT_LABEL_APPEND_STRING(&unk, "_gLeav1", 24);
func_393(uParam0, &unk, 0, false, 8);
break;
case 127:
TEXT_LABEL_APPEND_STRING(&unk, "_aKill1", 24);
func_393(uParam0, &unk, 0, false, 8);
break;
case 129:
TEXT_LABEL_APPEND_STRING(&unk, "_gHelp1", 24);
func_256(&unk);
func_393(uParam0, &unk, 0, false, 8);
break;
case 130:
TEXT_LABEL_APPEND_STRING(&unk, "_gDest1", 24);
func_393(uParam0, &unk, 0, false, 8);
func_254(uParam0, 11, 1, false, false);
break;
case 128:
TEXT_LABEL_APPEND_STRING(&unk, "_gKO1", 24);
func_393(uParam0, &unk, 0, false, 8);
break;
case 132:
TEXT_LABEL_APPEND_STRING(&unk, "_gThank1", 24);
func_67(&(uParam0->f_81), 2097152);
func_393(uParam0, &unk, 0, false, 8);
break;
case 131:
TEXT_LABEL_APPEND_STRING(&unk, "_gDriv1", 24);
func_256(&unk);
func_386(unk, uParam1);
func_67(&(uParam0->f_81), 67108864);
func_317(uParam0, 16, 0, false);
func_317(uParam0, 11, 0, false);
func_279(uParam0, 0, false);
break;
case 60:
TEXT_LABEL_APPEND_STRING(&unk, "_cash1", 24);
func_393(uParam0, &unk, 0, false, 8);
break;
case 105:
if(!func_22(uParam0->f_81, 33554432) && uParam0->f_411 !=9) func_389(uParam0, 33554432, unk, "_noPay1", true, 8);
elseif(uParam0->f_411==9)if(!PED::IS_PED_INJURED(uParam0->f_3)) func_274(uParam0->f_3, "TAXI_NO_PAY", uParam0->f_145, 4);
func_254(uParam0, 108, 1, false, false);
break;
case 106:
TEXT_LABEL_APPEND_STRING(&unk, "_foot", 24);
_CONVERSATION_ADD_LINE(&(uParam0->f_244), uParam0->f_144, &unk, 9, 0, 0, 0);
func_317(uParam0, 16, 0, false);
func_279(uParam0, 0, false);
break;
case 107:
if(!func_22(uParam0->f_81, 268435456)) func_389(uParam0, 268435456, unk, "_kPay1", true, 8);
func_254(uParam0, 52, 1, false, false);
break;
case 108:
_SHOW_SUBTITLE_CLEAR_EXISTING("TAXI_OBJ_RUNOUT", 7500, 1);
uParam0->f_417=108;
func_279(uParam0, 0, false);
break;
case 109:
if(!func_22(uParam0->f_81, 4194304))if(uParam0->f_411==2 || uParam0->f_411==6) func_389(uParam0, 4194304, unk, "_mPay1", false, 8);
elseif(uParam0->f_411==9)if(!PED::IS_PED_INJURED(uParam0->f_3)) func_274(uParam0->f_3, "APOLOGY_NO_TROUBLE", uParam0->f_145, 4);
else func_389(uParam0, 4194304, unk, "_mPay1", true, 8);
func_254(uParam0, 111, 1, false, false);
break;
case 111:
_SHOW_SUBTITLE_CLEAR_EXISTING("TAXI_OBJ_GETRUN", 7500, 1);
uParam0->f_417=111;
func_279(uParam0, 0, false);
break;
case 110:
TEXT_LABEL_APPEND_STRING(&unk, "_runoff", 24);
_CONVERSATION_ADD_LINE(&(uParam0->f_244), uParam0->f_144, &unk, 9, 0, 0, 0);
func_317(uParam0, 16, 0, false);
func_279(uParam0, 0, false);
break;
case 141:
if(!func_22(uParam0->f_81, 16777216)) func_389(uParam0, 16777216, unk, "_ret1", true, 8);
func_279(uParam0, 0, false);
break;
case 88:
_SHOW_SUBTITLE_CLEAR_EXISTING("TAXI_TIEFLEE", 7500, 1);
func_279(uParam0, 0, false);
break;
case 57:
if(!func_22(uParam0->f_98, 536870912)){
_SHOW_SUBTITLE_CLEAR_EXISTING("TAXI_OBJ_CYI_1B", 7500, 1);
func_67(&(uParam0->f_98), 536870912);
}
uParam0->f_417=57;
func_279(uParam0, 0, false);
break;
case 104:
TEXT_LABEL_APPEND_STRING(&unk, "_joke1", 24);
func_256(&unk);
func_393(uParam0, &unk, 0, false, 8);
break;
case 136:
if(uParam0->f_115) TEXT_LABEL_APPEND_STRING(&unk, "_wronglz", 24);
elseif(uParam0->f_116) TEXT_LABEL_APPEND_STRING(&unk, "_wrong2", 24);
else TEXT_LABEL_APPEND_STRING(&unk, "_wrong", 24);
func_393(uParam0, &unk, 0, false, 8);
func_279(uParam0, 0, false);
break;
case 140:
TEXT_LABEL_APPEND_STRING(&unk, "_shout", 24);
func_393(uParam0, &unk, 0, false, 8);
func_279(uParam0, 0, false);
break;
case 135:
if(uParam0->f_411==4) TEXT_LABEL_ASSIGN_STRING(&unk, "tm6_jack", 24);
else TEXT_LABEL_APPEND_STRING(&unk, "_jack", 24);
func_393(uParam0, &unk, 0, false, 8);
func_279(uParam0, 0, false);
break;
case 133:
TEXT_LABEL_APPEND_STRING(&unk, "_getCar", 24);
func_393(uParam0, &unk, 1, false, 8);
func_254(uParam0, 134, 1, false, false);
break;
case 134:
_SHOW_SUBTITLE_CLEAR_EXISTING("TX_VIP", 7500, 0);
uParam0->f_417=134;
func_254(uParam0, 0, 0, false, false);
func_279(uParam0, 0, false);
break;
}}
return;
}


void func_380(var uParam0, int iParam1, var uParam2, var uParam3, var uParam4, var uParam5, var uParam6, var uParam7, char* sParam8, BOOL bParam9, int iParam10) // Position - 0x121FF{
func_67(&(uParam0->f_82), iParam1);
func_317(uParam0, 16, 0, false);
TEXT_LABEL_APPEND_STRING(&uParam2, sParam8, 24);
if(bParam9) func_256(&uParam2);
_CONVERSATION_ADD_LINE(&(uParam0->f_244), uParam0->f_144, &uParam2, iParam10, 0, 0, 0);
return;
}


void func_381(var uParam0, var uParam1, var uParam2, var uParam3, var uParam4, var uParam5, var uParam6, int iParam7) // Position - 0x12240{
var unk;
unk={
uParam1 
};
if(!func_22(uParam0->f_82, 64)){
func_67(&(uParam0->f_82), 64);
TEXT_LABEL_APPEND_STRING(&unk, "_1", 24);
}elseif(!func_22(uParam0->f_82, 128)){
func_67(&(uParam0->f_82), 128);
TEXT_LABEL_APPEND_STRING(&unk, "_2", 24);
}else{
TEXT_LABEL_APPEND_STRING(&unk, "_", 24);
TEXT_LABEL_APPEND_INT(&unk, MISC::GET_RANDOM_INT_IN_RANGE(1, 3), 24);
}
func_395(&(uParam0->f_244), uParam0->f_144, &uParam1, &unk, iParam7, 0, 0);
func_317(uParam0, 16, 0, false);
return;
}


void func_382(var uParam0, int iParam1, var uParam2, var uParam3, var uParam4, var uParam5, var uParam6, var uParam7, char* sParam8, int iParam9, BOOL bParam10) // Position - 0x122C7{
func_67(&(uParam0->f_82), iParam1);
func_317(uParam0, 16, 0, false);
TEXT_LABEL_APPEND_STRING(&uParam2, sParam8, 24);
if(uParam0->f_411==1 || uParam0->f_411==0 || uParam0->f_411==5 || uParam0->f_411==8 || uParam0->f_411==2)if(bParam10) func_256(&uParam2);
_CONVERSATION_ADD_LINE(&(uParam0->f_244), uParam0->f_144, &uParam2, iParam9, 0, 0, 0);
return;
}
BOOL func_383(var uParam0) // Position - 0x12347{
if(uParam0->f_411==2 || uParam0->f_411==3 || uParam0->f_411==4 || uParam0->f_411==5 || uParam0->f_411==6 || uParam0->f_411==7 || uParam0->f_411==8) return true;
return false;
}


void func_384(var uParam0, int iParam1, var uParam2, var uParam3, var uParam4, var uParam5, var uParam6, var uParam7, char* sParam8, int iParam9) // Position - 0x123AD{
func_67(&(uParam0->f_81), iParam1);
func_317(uParam0, 16, 0, false);
TEXT_LABEL_APPEND_STRING(&uParam2, sParam8, 24);
_CONVERSATION_ADD_LINE(&(uParam0->f_244), uParam0->f_144, &uParam2, iParam9, 0, 0, 0);
return;
}


void func_385(int iParam0, int iParam1, char* sParam2, var uParam3, BOOL bParam4, BOOL bParam5) // Position - 0x123E3{
float exponent;
int num;
int i;
for (i=0;
i < iParam1;
i=i + 1){
exponent=SYSTEM::TO_FLOAT(i);
num=SYSTEM::ROUND(SYSTEM::POW(2f, exponent));
if(!func_297(*iParam0, num)){
func_68(iParam0, num);
if(bParam5) TEXT_LABEL_APPEND_STRING(sParam2, "_", 24);
TEXT_LABEL_APPEND_INT(sParam2, i + 1, 24);
if(uParam3->[i]) func_256(sParam2);
if(bParam4)if(i==iParam1 - 1) *iParam0=0;
return;
}}
return;
}


void func_386(var uParam0, var uParam1, var uParam2, var uParam3, var uParam4, var uParam5, var uParam6) // Position - 0x12464{
int num;
num=func_387(uParam6);
if(num > -1){
uParam6->[num /*8*/]={
uParam0 
};
func_67(&(uParam6->[num /*8*/].f_7), 2);
}
return;
}

int func_387(var uParam0) // Position - 0x12493{
int i;
for (i=0;
i < 5;
i=i + 1){
if(MISC::IS_STRING_NULL_OR_EMPTY(&uParam0->[i /*8*/])) return i;
}
return -1;
}


void func_388(var uParam0, BOOL bParam1) // Position - 0x124C0{
switch (uParam0->f_411){
case 0:
if(bParam1) _SHOW_SUBTITLE_CLEAR_EXISTING("TX_OBJ_NEX_PU", 7500, 1);
else _SHOW_SUBTITLE_CLEAR_EXISTING("TX_OBJ_NEX_DO", 7500, 1);
break;
case 1:
if(bParam1) _SHOW_SUBTITLE_CLEAR_EXISTING("TX_OBJ_TIE_PU", 7500, 1);
else _SHOW_SUBTITLE_CLEAR_EXISTING("TX_OBJ_TIE_DO", 7500, 1);
break;
case 2:
if(bParam1) _SHOW_SUBTITLE_CLEAR_EXISTING("TX_OBJ_DL_PU", 7500, 1);
else _SHOW_SUBTITLE_CLEAR_EXISTING("TX_OBJ_DL_DO", 7500, 1);
break;
case 3:
if(bParam1) _SHOW_SUBTITLE_CLEAR_EXISTING("TX_OBJ_GYB_PU", 7500, 1);
else _SHOW_SUBTITLE_CLEAR_EXISTING("TX_OBJ_GYB_DO", 7500, 1);
break;
case 4:
if(bParam1) _SHOW_SUBTITLE_CLEAR_EXISTING("TX_OBJ_TTB_PU", 7500, 1);
else _SHOW_SUBTITLE_CLEAR_EXISTING("TX_OBJ_TTB_DO", 7500, 1);
break;
case 5:
if(bParam1) _SHOW_SUBTITLE_CLEAR_EXISTING("TX_OBJ_CYI_PU", 7500, 1);
else _SHOW_SUBTITLE_CLEAR_EXISTING("TX_OBJ_CYI_DO", 7500, 1);
break;
case 6:
if(bParam1) _SHOW_SUBTITLE_CLEAR_EXISTING("TX_OBJ_GYN_PU", 7500, 1);
else _SHOW_SUBTITLE_CLEAR_EXISTING("TX_OBJ_GYN_DO", 7500, 1);
break;
case 7:
if(bParam1) _SHOW_SUBTITLE_CLEAR_EXISTING("TX_OBJ_CC_PU", 7500, 1);
else _SHOW_SUBTITLE_CLEAR_EXISTING("TAXI_OBJ_CC1", 7500, 1);
break;
case 8:
if(bParam1) _SHOW_SUBTITLE_CLEAR_EXISTING("TX_OBJ_FC_PU", 7500, 1);
else _SHOW_SUBTITLE_CLEAR_EXISTING("TAXI_OBJ_FTC1", 7500, 1);
break;
case 9:
if(bParam1) _SHOW_SUBTITLE_CLEAR_EXISTING("TX_OBJ_PRO_PU", 7500, 1);
else _SHOW_SUBTITLE_CLEAR_EXISTING("TX_OBJ_PRO_DO", 7500, 1);
break;
}
if(!bParam1) uParam0->f_139=1;
return;
}


void func_389(var uParam0, int iParam1, var uParam2, var uParam3, var uParam4, var uParam5, var uParam6, var uParam7, char* sParam8, BOOL bParam9, int iParam10) // Position - 0x12677{
func_67(&(uParam0->f_81), iParam1);
func_317(uParam0, 16, 0, false);
TEXT_LABEL_APPEND_STRING(&uParam2, sParam8, 24);
if(bParam9) func_256(&uParam2);
_CONVERSATION_ADD_LINE(&(uParam0->f_244), uParam0->f_144, &uParam2, iParam10, 0, 0, 0);
return;
}


void func_390(var uParam0, var uParam1, var uParam2, var uParam3, var uParam4, var uParam5, var uParam6, char* sParam7) // Position - 0x126B8{
func_317(uParam0, 16, 0, false);
func_317(uParam0, 17, 0f, true);
TEXT_LABEL_APPEND_STRING(&uParam1, sParam7, 24);
if(!PED::IS_PED_INJURED(uParam0->f_3)) AUDIO::INTERRUPT_CONVERSATION(uParam0->f_3, &uParam1, func_391(uParam0));
return;
}


char* func_391(var uParam0) // Position - 0x126F6{
char* str;
switch (uParam0->f_411){
case 0:
str="TaxiFelipe";
break;
case 1:
str="TaxiOtis";
break;
case 2:
str="TaxiKwak";
break;
case 3:
str="TaxiWalter";
break;
case 4:
str="TaxiMiranda";
break;
case 5:
str="TaxiDerrick";
break;
case 6:
str="TaxiAlonzo";
break;
case 7:
str="TaxiDarren";
break;
case 8:
str="TaxiKeyla";
break;
}
return str;
}


char* func_392(var uParam0, int iParam1) // Position - 0x12791{
switch (iParam1){
case 72:
switch (uParam0->f_411){
case 0:
return "_ACRH";
case 1:
return "_ACRH";
case 2:
return "_ACAA";
case 3:
return "_ACRH";
case 4:
return "_AEAA";
case 5:
return "_DKAA";
case 6:
return "_ACAA";
case 7:
return "_ACAA";
case 8:
return "_ACRH";
default:
}
return "_ACRH";
case 82:
switch (uParam0->f_411){
case 0:
return "_AHIT";
case 1:
return "_AHIT";
case 2:
return "_AEAA";
case 3:
return "_ADAA";
case 4:
return "_AFAA";
case 5:
return "_AFAA";
case 6:
return "_AEAA";
case 7:
return "_AHAA";
case 8:
return "_AEAA";
default:
}
return "_AHIT";
case 74:
switch (uParam0->f_411){
case 0:
return "_AROL";
case 1:
return "_AROL";
case 2:
return "_AHAA";
case 3:
return "_AROL";
case 4:
return "_AGAA";
case 5:
return "_AROL";
case 6:
return "_AROL";
case 7:
return "_AROL";
case 8:
return "_AROL";
default:
}
return "_AROL";
case 65:
switch (uParam0->f_411){
case 0:
return "_ABAA";
case 1:
return "_FUAA";
case 2:
return "_AFAA";
case 3:
return "_DBAA";
case 4:
return "_DLAA";
case 5:
return "_DKAA";
case 6:
if(uParam0->f_115) return "_EEAA";
else return "_EFAA";
break;
case 7:
return "_DBAA";
case 8:
return "_EFAA";
default:
return "_AROL";
}
break;
case 66:
switch (uParam0->f_411){
case 0:
return "_AEAA";
case 1:
return "_ACAA";
case 2:
return "_AJAA";
case 3:
return "_AHAA";
case 4:
return "_AHAA";
case 5:
return "_AIAA";
case 6:
if(uParam0->f_115) return "_AJAA";
else return "_AGAA";
break;
case 7:
return "_AUAA";
case 8:
return "_AHAA";
default:
return "_AROL";
}
break;
case 2:
switch (uParam0->f_411){
case 0:
return "_AAAA";
case 1:
return "_AAAA";
case 2:
return "_ADAA";
case 3:
return "_ABAA";
case 4:
return "_AAAA";
case 5:
return "_ABAA";
case 6:
if(uParam0->f_115) return "_AHAA";
else return "_ABAA";
break;
case 7:
return "_BUAA";
case 8:
return "_ADAA";
default:
return "_AAAA";
}
break;
}
return "_ACRH";
}

int func_393(var uParam0, char* sParam1, int iParam2, BOOL bParam3, int iParam4) // Position - 0x12B3A{
func_317(uParam0, 16, 0, false);
if(bParam3) func_317(uParam0, 17, 0f, true);
func_279(uParam0, iParam2, false);
return _CONVERSATION_ADD_LINE(&(uParam0->f_244), uParam0->f_144, sParam1, iParam4, 0, 0, 0);
}


void func_394(int iParam0, var uParam1, int iParam2, var uParam3, var uParam4, var uParam5, var uParam6, var uParam7, var uParam8, var uParam9, BOOL bParam10) // Position - 0x12B77{
if(iParam0==0){
if(func_22(*iParam2, 2)){
if(!bParam10) *uParam1=*uParam1 - 2;
else *uParam1=*uParam1 + 3;
*uParam3={
uParam4 
};
}}elseif(iParam0==8){
if(func_22(*iParam2, 1073741824)){
*uParam1=*uParam1 + 2;
*uParam3={
uParam4 
};
}}elseif(iParam0==1){
if(func_22(*iParam2, 4)){
if(!func_22(*iParam2, 4096)){
*uParam1=*uParam1 - 1;
*uParam3={
uParam4 
};
}else{
func_20(iParam2, 4096);
}}elseif(func_22(*iParam2, 8)){
*uParam1=*uParam1 + 3;
*uParam3={
uParam4 
};
}}elseif(iParam0==5){
if(func_22(*iParam2, 512)){
if(!func_22(*iParam2, 4096)){
*uParam1=*uParam1 - 1;
*uParam3={
uParam4 
};
}else{
func_20(iParam2, 4096);
}}}elseif(iParam0==2){
if(func_22(*iParam2, 16)){
if(!func_22(*iParam2, 4096)){
*uParam1=*uParam1 - 1;
*uParam3={
uParam4 
};
}else{
func_20(iParam2, 4096);
}}elseif(func_22(*iParam2, 32)){
*uParam1=*uParam1 + 3;
*uParam3={
uParam4 
};
}}elseif(iParam0==3){
if(func_22(*iParam2, 64)){
if(!func_22(*iParam2, 4096)){
*uParam1=*uParam1 - 2;
*uParam3={
uParam4 
};
}else{
func_20(iParam2, 4096);
}}elseif(func_22(*iParam2, 128)){
*uParam1=*uParam1 + 3;
*uParam3={
uParam4 
};
}}elseif(iParam0==4){
if(func_22(*iParam2, 256)){
*uParam1=*uParam1 - 1;
*uParam3={
uParam4 
};
}}elseif(iParam0==6){
if(func_22(*iParam2, 1024)){
*uParam1=*uParam1 + 2;
*uParam3={
uParam4 
};
}}elseif(iParam0==7){
if(func_22(*iParam2, 2048)){
*uParam1=*uParam1 - 1;
*uParam3={
uParam4 
};
}}elseif(iParam0==9){
if(func_22(*iParam2, 8192)){
if(func_22(*iParam2, 2097152)){
*uParam1=*uParam1 + 3;
*uParam3={
uParam4 
};
}elseif(func_22(*iParam2, 4194304)){
*uParam1=*uParam1 - 2;
*uParam3={
uParam4 
};
}}}elseif(iParam0==10){
if(func_22(*iParam2, 16384)){
if(func_22(*iParam2, 4194304)){
*uParam1=*uParam1 + 2;
*uParam3={
uParam4 
};
}else{
*uParam1=*uParam1 - 2;
*uParam3={
uParam4 
};
}}}elseif(iParam0==11){
if(func_22(*iParam2, 32768)){
if(func_22(*iParam2, 2097152)){
*uParam1=*uParam1 - 2;
*uParam3={
uParam4 
};
}elseif(func_22(*iParam2, 4194304)){
*uParam1=*uParam1 + 2;
*uParam3={
uParam4 
};
}}}elseif(iParam0==12){
if(func_22(*iParam2, 65536)){
if(func_22(*iParam2, 2097152)){
*uParam1=*uParam1 - 2;
*uParam3={
uParam4 
};
}}}elseif(iParam0==13){
if(func_22(*iParam2, 131072)){
if(func_22(*iParam2, 2097152)){
*uParam1=*uParam1 - 2;
*uParam3={
uParam4 
};
}elseif(func_22(*iParam2, 4194304)){
*uParam1=*uParam1 + 2;
*uParam3={
uParam4 
};
}}}elseif(iParam0==14){
if(func_22(*iParam2, 262144)){
if(func_22(*iParam2, 2097152)){
*uParam1=*uParam1 - 2;
*uParam3={
uParam4 
};
}elseif(func_22(*iParam2, 4194304)){
*uParam1=*uParam1 + 2;
*uParam3={
uParam4 
};
}}}elseif(iParam0==15){
if(func_22(*iParam2, 524288)){
if(func_22(*iParam2, 2097152)){
*uParam1=*uParam1 - 2;
*uParam3={
uParam4 
};
}elseif(func_22(*iParam2, 4194304)){
*uParam1=*uParam1 + 2;
*uParam3={
uParam4 
};
}}}elseif(iParam0==16){
if(func_22(*iParam2, 1048576)){
if(func_22(*iParam2, 2097152)){
*uParam1=*uParam1 - 2;
*uParam3={
uParam4 
};
}elseif(func_22(*iParam2, 4194304)){
*uParam1=*uParam1 + 2;
*uParam3={
uParam4 
};
}}}elseif(iParam0==21){
if(func_22(*iParam2, 8388608)){
*uParam1=*uParam1 - 2;
*uParam3={
uParam4 
};
}}elseif(iParam0==22){
if(func_22(*iParam2, 16777216)){
*uParam1=*uParam1 - 2;
*uParam3={
uParam4 
};
}}elseif(iParam0==23){
if(func_22(*iParam2, 33554432)){
*uParam1=*uParam1 + 2;
*uParam3={
uParam4 
};
}}elseif(iParam0==17){
if(func_22(*iParam2, 67108864)){
if(func_22(*iParam2, 67108864)){
*uParam1=*uParam1 + 2;
*uParam3={
uParam4 
};
}}}elseif(iParam0==18){
if(func_22(*iParam2, 134217728)){
*uParam1=*uParam1 - 1;
*uParam3={
uParam4 
};
}}elseif(iParam0==20){
if(func_22(*iParam2, 536870912)){
*uParam1=*uParam1 - 1;
*uParam3={
uParam4 
};
}}elseif(iParam0==19){
if(func_22(*iParam2, 268435456)){
*uParam1=*uParam1 + 1;
*uParam3={
uParam4 
};
}}elseif(iParam0==25){
if(func_22(*iParam2, 32768)){
*uParam1=*uParam1 - 2;
*uParam3={
uParam4 
};
}}
return;
}

int func_395(var uParam0, char* sParam1, char* sParam2, char* sParam3, int iParam4, int iParam5, int iParam6) // Position - 0x13181{
func_360(uParam0, 145, sParam1, iParam5, iParam6, 0);
if(iParam4 > 7)if(iParam4 < 12) iParam4=7;
Global_21732=false;
Global_21739=0;
Global_21734=0;
Global_22716=1;
Global_22718=0;
Global_22722=0;
TEXT_LABEL_ASSIGN_STRING(&Global_22729, sParam3, 24);
Global_2883585=0;
return func_349(sParam2, iParam4, false);
}


void func_396(int iParam0, int iParam1, char* sParam2, BOOL bParam3, BOOL bParam4, BOOL bParam5) // Position - 0x131D5{
float exponent;
int num;
int i;
for (i=0;
i < iParam1;
i=i + 1){
exponent=SYSTEM::TO_FLOAT(i);
num=SYSTEM::ROUND(SYSTEM::POW(2f, exponent));
if(!func_297(*iParam0, num)){
func_68(iParam0, num);
if(bParam5){
if(!bParam4){
TEXT_LABEL_APPEND_INT(sParam2, i + 1, 24);
func_256(sParam2);
}else{
func_256(sParam2);
}}else{
if(bParam4) TEXT_LABEL_APPEND_STRING(sParam2, "_", 24);
TEXT_LABEL_APPEND_INT(sParam2, i + 1, 24);
}
if(bParam3)if(i==iParam1 - 1) *iParam0=0;
return;
}}
return;
}
BOOL func_397(char* sParam0) // Position - 0x1326C{
if(!MISC::IS_STRING_NULL(sParam0))if(func_229(sParam0, 0, 0)) return true;
return false;
}
BOOL func_398(var uParam0) // Position - 0x1328E{
if(_CONVERSATION_IS_DIALOGUE_IN_PROGRESS()) return true;
if(func_189(uParam0, 17)) return true;
if(func_189(uParam0, 14)) return true;
if(func_227(uParam0)) return true;
return false;
}
BOOL func_399(var uParam0, var uParam1) // Position - 0x132CD{
return *uParam1==-1 && uParam0->f_412==0 && !func_189(uParam0, 9);
}


void func_400(var uParam0) // Position - 0x132F4{
if(func_189(uParam0, 17))if(!func_189(uParam0, 14))if(!func_227(uParam0))if(!_CONVERSATION_IS_DIALOGUE_IN_PROGRESS()) func_208(uParam0, 17, true);
return;
}
BOOL func_401(var uParam0) // Position - 0x1332E{
return uParam0->f_117;
}


void func_402(var uParam0, var uParam1, BOOL bParam2) // Position - 0x1333A{
if(!func_22(uParam0->f_55, 1)){
switch (*uParam1){
case 0:
if(!MISC::IS_STRING_NULL_OR_EMPTY(&(uParam0->f_124)) && _CONVERSATION_IS_DIALOGUE_IN_PROGRESS()) *uParam1=*uParam1 + 1;
break;
case 1:
if(!_CONVERSATION_IS_DIALOGUE_IN_PROGRESS()){
TEXT_LABEL_ASSIGN_STRING(&(uParam0->f_124), func_148(), 24);
uParam0->f_56=uParam0->f_56 + uParam0->f_57;
if(uParam0->f_56 < 0) uParam0->f_56=0;
uParam0->f_57=0;
*uParam1=0;
bParam2;
}
break;
}}
return;
}


void func_403(var uParam0) // Position - 0x133C0{
int i;
if(uParam0->f_410 >=5){
if(ENTITY::DOES_ENTITY_EXIST(uParam0->f_4)){
if(iLocal_343 > 0 && !func_297(iLocal_343.f_1[4 /*4*/], 4)){
i=0;
for (i=0;
i <=iLocal_343 - 1;
i=i + 1){
if(func_297(iLocal_343.f_1[i /*4*/], 2)){
iLocal_343.f_1[i /*4*/].f_2(uParam0);
if(StackVal){
if(!func_297(iLocal_343.f_1[i /*4*/], 4)){
func_68(&iLocal_343.f_1[i /*4*/], 4);
iLocal_343.f_1[i /*4*/].f_1=MISC::GET_GAME_TIMER();
}
}
else{
func_21(&iLocal_343.f_1[i /*4*/], 12);
}
if(func_297(iLocal_343.f_1[i /*4*/], 4) && !func_297(iLocal_343.f_1[i /*4*/], 8)){
iLocal_343.f_1[i /*4*/].f_3(uParam0, iLocal_343.f_1[i /*4*/].f_1);
if(StackVal) func_68(&iLocal_343.f_1[i /*4*/], 8);
}}}}}else{
func_361(uParam0, "Taxi Garbage Collected", 18);
}}
return;
}

int func_404(var uParam0, var uParam1) // Position - 0x134D3{
var unk;
if(!func_189(uParam0, 27)){
func_204(uParam0, 27);
uParam1->f_3=250;
uParam1->f_2=40f;
}
if(!uParam0->f_109 && func_116(uParam0, 27) > 5f){
if(func_431(uParam0->f_3, uParam0->f_4, uParam1, &unk, false, true, false, true, true)){
func_317(uParam0, 27, 0, false);
func_317(uParam0, 10, 0, false);
func_429(uParam0, &unk, uParam1);
}
func_426(uParam0);
}
if(uParam0->f_410 >=3 && uParam0->f_410 <=5) func_405(uParam0);
if(!PLAYER::IS_PLAYER_CONTROL_ON(PLAYER::PLAYER_ID()) && CAM::DOES_CAM_EXIST(*uParam0) && !CAM::IS_CAM_ACTIVE(*uParam0) && CAM::DOES_CAM_EXIST(uParam0->f_1) && !CAM::IS_CAM_ACTIVE(uParam0->f_1) && !HUD::IS_MESSAGE_BEING_DISPLAYED() && !_CONVERSATION_IS_DIALOGUE_IN_PROGRESS()){
if(func_116(uParam0, 26) > 10f){
func_208(uParam0, 26, false);
PLAYER::SET_PLAYER_CONTROL(PLAYER::PLAYER_ID(), true, 0);
}}elseif(func_189(uParam0, 26)){
func_208(uParam0, 26, false);
}
return 0;
}


void func_405(var uParam0) // Position - 0x135FD{
if(!func_425(uParam0->f_429)){
uParam0->f_429=func_424();
func_415(&(uParam0->f_429), 0, 0, MISC::GET_RANDOM_INT_IN_RANGE(4, 7), 0, 0, 0);
}elseif(func_406(uParam0->f_429)){
func_361(uParam0, "Player took too long to make pickup", 9);
}
return;
}
BOOL func_406(int iParam0) // Position - 0x1364A{
return func_407(func_424(), iParam0);
}
BOOL func_407(int iParam0, int iParam1) // Position - 0x1365C{
int num;
int num2;
if(!func_425(iParam1) || !func_425(iParam0)) return 1;
num=func_413(iParam0);
num2=func_413(iParam1);
if(num > num2) return 1;
elseif(num < num2) return 0;
num=func_412(iParam0);
num2=func_412(iParam1);
if(num > num2) return 1;
elseif(num < num2) return 0;
num=func_411(iParam0);
num2=func_411(iParam1);
if(num > num2) return 1;
elseif(num < num2) return 0;
num=func_410(iParam0);
num2=func_410(iParam1);
if(num > num2) return 1;
elseif(num < num2) return 0;
num=func_409(iParam0);
num2=func_409(iParam1);
if(num > num2) return 1;
elseif(num < num2) return 0;
num=func_408(iParam0);
num2=func_408(iParam1);
if(num > num2) return 1;
return 0;
}

int func_408(int iParam0) // Position - 0x13768{
return SYSTEM::SHIFT_RIGHT(iParam0, 20) & 63;
}

int func_409(int iParam0) // Position - 0x1377B{
return SYSTEM::SHIFT_RIGHT(iParam0, 14) & 63;
}

int func_410(int iParam0) // Position - 0x1378E{
return SYSTEM::SHIFT_RIGHT(iParam0, 9) & 31;
}

int func_411(int iParam0) // Position - 0x137A1{
return SYSTEM::SHIFT_RIGHT(iParam0, 4) & 31;
}

int func_412(int iParam0) // Position - 0x137B3{
return iParam0 & 15;
}

int func_413(int iParam0) // Position - 0x137C0{
return (SYSTEM::SHIFT_RIGHT(iParam0, 26) & 31 * IS_BIT_SET(iParam0, 31) ? -1 :
1) + 2011;
}


var func__414(BOOL bParam0, var uParam1, var uParam2) // Position - 0x137E2{
if(bParam0) return uParam1;
return uParam2;
}


void func_415(var uParam0, int iParam1, int iParam2, int iParam3, int iParam4, int iParam5, int iParam6) // Position - 0x137F9{
int num;
int i;
int num2;
int j;
int k;
int l;
int m;
num=func_413(*uParam0);
i=func_412(*uParam0);
num2=func_411(*uParam0);
j=func_410(*uParam0);
k=func_409(*uParam0);
l=func_408(*uParam0);
if(iParam6==0 && iParam5==0 && iParam4==0 && iParam3==0 && iParam2==0 && iParam1==0) return;
if(iParam1 < 0) return;
if(iParam2 < 0) return;
if(iParam3 < 0) return;
if(iParam4 < 0) return;
if(iParam5 < 0) return;
if(iParam6 < 0) return;
for (l=l + iParam1;
l >=60;
l=l - 60){
iParam2=iParam2 + 1;
}
for (k=k + iParam2;
k >=60;
k=k - 60){
iParam3=iParam3 + 1;
}
for (j=j + iParam3;
j >=24;
j=j - 24){
iParam4=iParam4 + 1;
}
num2=num2 + iParam4;
for (m=func_423(i, num);
num2 > m;
m=func_423(i, num)){
i=i + 1;
num2=num2 - m;
if(i > 11){
num=num + 1;
i=i - 12;
}}
for (i=i + iParam5;
i > 11;
i=i - 12){
iParam6=iParam6 + 1;
}
num=num + iParam6;
func_416(uParam0, l, k, j, num2, i, num);
return;
}


void func_416(var uParam0, int iParam1, int iParam2, int iParam3, int iParam4, int iParam5, int iParam6) // Position - 0x1397B{
func_422(uParam0, iParam1);
func_421(uParam0, iParam2);
func_420(uParam0, iParam3);
func_419(uParam0, iParam5);
func_418(uParam0, iParam4);
func_417(uParam0, iParam6);
return;
}


void func_417(var uParam0, int iParam1) // Position - 0x139B3{
if(iParam1 <=0) return;
if(iParam1 > 2043 || iParam1 < 1979) return;
*uParam0=*uParam0 - *uParam0 & 2080374784;
if(iParam1 < 2011){
*uParam0=*uParam0 || SYSTEM::SHIFT_LEFT(2011 - iParam1, 26);
*uParam0=*uParam0 | -2147483648;
}else{
*uParam0=*uParam0 || SYSTEM::SHIFT_LEFT(iParam1 - 2011, 26);
*uParam0=*uParam0 - *uParam0 & -2147483648;
}
return;
}


void func_418(var uParam0, int iParam1) // Position - 0x13A39{
int num;
int num2;
num=func_412(*uParam0);
num2=func_413(*uParam0);
if(iParam1 < 1 || iParam1 > func_423(num, num2)) return;
*uParam0=*uParam0 - *uParam0 & 496;
*uParam0=*uParam0 || SYSTEM::SHIFT_LEFT(iParam1, 4);
return;
}


void func_419(var uParam0, int iParam1) // Position - 0x13A8A{
if(iParam1 < 0 || iParam1 > 11) return;
*uParam0=*uParam0 - *uParam0 & 15;
*uParam0=*uParam0 || iParam1;
return;
}


void func_420(var uParam0, int iParam1) // Position - 0x13ABD{
if(iParam1 < 0 || iParam1 > 24) return;
*uParam0=*uParam0 - *uParam0 & 15872;
*uParam0=*uParam0 || SYSTEM::SHIFT_LEFT(iParam1, 9);
return;
}


void func_421(var uParam0, int iParam1) // Position - 0x13AF7{
if(iParam1 < 0 || iParam1 >=60) return;
*uParam0=*uParam0 - *uParam0 & 1032192;
*uParam0=*uParam0 || SYSTEM::SHIFT_LEFT(iParam1, 14);
return;
}


void func_422(var uParam0, int iParam1) // Position - 0x13B32{
if(iParam1 < 0 || iParam1 >=60) return;
*uParam0=*uParam0 - *uParam0 & 66060288;
*uParam0=*uParam0 || SYSTEM::SHIFT_LEFT(iParam1, 20);
return;
}

int func_423(int iParam0, int iParam1) // Position - 0x13B6E{
if(iParam1 < 0) iParam1=0;
switch (iParam0){
case 0:
case 2:
case 4:
case 6:
case 7:
case 9:
case 11:
return 31;
case 3:
case 5:
case 8:
case 10:
return 30;
case 1:
if(iParam1 % 4==0)if(iParam1 % 100 !=0) return 29;
elseif(iParam1 % 400==0) return 29;
return 28;
}
return 30;
}

int func_424() // Position - 0x13C10{
var unk;
func_422(&unk, CLOCK::GET_CLOCK_SECONDS());
func_421(&unk, CLOCK::GET_CLOCK_MINUTES());
func_420(&unk, CLOCK::GET_CLOCK_HOURS());
func_418(&unk, CLOCK::GET_CLOCK_DAY_OF_MONTH());
func_419(&unk, CLOCK::GET_CLOCK_MONTH());
func_417(&unk, CLOCK::GET_CLOCK_YEAR());
return unk;
}
BOOL func_425(int iParam0) // Position - 0x13C56{
int num;
int num2;
int num3;
int num4;
int num5;
int num6;
if(iParam0==-15) return false;
num=func_408(iParam0);
if(num < 0 || num >=60) return false;
num2=func_409(iParam0);
if(num2 < 0 || num2 >=60) return false;
num3=func_410(iParam0);
if(num3 < 0 || num3 > 23) return false;
num4=func_413(iParam0);
if(num4 <=0 || num4 > 2043 || num4 < 1979) return false;
num5=func_412(iParam0);
if(num5 < 0 || num5 > 11) return false;
num6=func_411(iParam0);
if(num6 < 1 || num6 > func_423(num5, num4)) return false;
return true;
}


void func_426(var uParam0) // Position - 0x13D32{
var unk;
if(uParam0->f_410 < 7 && !uParam0->f_138){
if(uParam0->f_411==9 && func_428() && !func_207(uParam0) || uParam0->f_411 !=9 && func_283(uParam0, 1) && !func_207(uParam0)){
unk=func_427(uParam0->f_4);
ENTITY::SET_ENTITY_AS_NO_LONGER_NEEDED(&unk);
uParam0->f_4=PED::GET_VEHICLE_PED_IS_IN(PLAYER::PLAYER_PED_ID(), false);
ENTITY::SET_ENTITY_AS_MISSION_ENTITY(uParam0->f_4, true, false);
func_242(uParam0);
func_234(uParam0, false);
}}
return;
}


var func__427(var uParam0) // Position - 0x13DC8{
return uParam0;
}
BOOL func_428() // Position - 0x13DD2{
Vehicle vehiclePedIsIn;
if(!ENTITY::IS_ENTITY_DEAD(PLAYER::PLAYER_PED_ID(), false)){
if(PED::IS_PED_IN_ANY_VEHICLE(PLAYER::PLAYER_PED_ID(), false)){
vehiclePedIsIn=PED::GET_VEHICLE_PED_IS_IN(PLAYER::PLAYER_PED_ID(), false);
if(VEHICLE::IS_VEHICLE_DRIVEABLE(vehiclePedIsIn, false))if(VEHICLE::GET_PED_IN_VEHICLE_SEAT(vehiclePedIsIn, -1, false)==PLAYER::PLAYER_PED_ID())if(VEHICLE::IS_VEHICLE_MODEL(vehiclePedIsIn, func_19())) return true;
}}
return false;
}


void func_429(var uParam0, var uParam1, var uParam2) // Position - 0x13E29{
switch (*uParam1){
case 1:
if(func_430(uParam0, false, 1)) func_361(uParam0, "Aggro Aiming", 5);
break;
case 4:
if(func_430(uParam0, false, 4)) func_361(uParam0, "Aggro Shot Near", 8);
break;
case 8:
if(func_430(uParam0, false, 8)) func_361(uParam0, "Aggro Heard Shot", 8);
break;
case 16:
if(func_430(uParam0, true, 1)) func_361(uParam0, "Aggro Attacked", 14);
break;
case 32:
if(func_430(uParam0, false, 1)) func_361(uParam0, "Aggro Minor Attacked", 8);
break;
case 2:
if(!func_22(*uParam2, 2) && func_223(uParam0)) func_361(uParam0, "Aggro Went Wanted", 5);
break;
}
return;
}
BOOL func_430(var uParam0, BOOL bParam1, int iParam2) // Position - 0x13F04{
if(uParam0->f_107 >=2 && uParam0->f_410 < 29 || uParam0->f_410 <=5 || bParam1 && !uParam0->f_114) return true;
elseif(!ENTITY::IS_ENTITY_DEAD(uParam0->f_3, false))if(!ENTITY::IS_ENTITY_OCCLUDED(uParam0->f_3))if(iParam2==4) func_254(uParam0, 66, 1, false, true);
else func_254(uParam0, 65, 1, false, true);
return false;
}
BOOL func_431(Ped pedParam0, Entity eParam1, var uParam2, var uParam3, BOOL bParam4, BOOL bParam5, BOOL bParam6, BOOL bParam7, BOOL bParam8) // Position - 0x13F81{
Ped entity2;
BOOL flag;
entity2=PLAYER::PLAYER_PED_ID();
if(!ENTITY::IS_ENTITY_DEAD(entity2, false) && !ENTITY::IS_ENTITY_DEAD(pedParam0, false)){
if(!func_22(*uParam2, 1)){
if(func_437(pedParam0, uParam2)){
*uParam3=1;
return true;
}}
if(!func_22(*uParam2, 2)){
if(PLAYER::GET_PLAYER_WANTED_LEVEL(PLAYER::PLAYER_ID()) > 0){
*uParam3=2;
return true;
}}
if(!func_22(*uParam2, 4)){
if(func_435(entity2, pedParam0, uParam2, bParam5)){
*uParam3=4;
return true;
}}
if(!func_22(*uParam2, 8)){
if(func_434(entity2, pedParam0, uParam2)){
*uParam3=8;
return true;
}}
flag=!func_22(*uParam2, 128);
if(bParam4){
if(func_432(pedParam0, eParam1, true, bParam6, flag, true)){
*uParam3=32;
return true;
}}elseif(!func_22(*uParam2, 16)){
if(func_432(pedParam0, eParam1, false, bParam6, flag, bParam8)){
*uParam3=16;
return true;
}}}elseif(ENTITY::DOES_ENTITY_EXIST(pedParam0)){
if(bParam7 && ENTITY::HAS_ENTITY_BEEN_DAMAGED_BY_ENTITY(pedParam0, entity2, true)){
*uParam3=16;
return true;
}}
return false;
}
BOOL func_432(Ped pedParam0, Entity eParam1, BOOL bParam2, BOOL bParam3, BOOL bParam4, BOOL bParam5) // Position - 0x140AC{
Vehicle playersLastVehicle;
Vehicle playersLastVehicle2;
if(bParam3){
if(!bLocal_79){
iLocal_80=ENTITY::GET_ENTITY_HEALTH(pedParam0);
bLocal_79=true;
}
iLocal_81=ENTITY::GET_ENTITY_HEALTH(pedParam0);
iLocal_82=iLocal_80 - iLocal_81;
playersLastVehicle=PLAYER::GET_PLAYERS_LAST_VEHICLE();
if(!ENTITY::IS_ENTITY_DEAD(playersLastVehicle, false))if(ENTITY::HAS_ENTITY_BEEN_DAMAGED_BY_ENTITY(pedParam0, playersLastVehicle, true))if((float)iLocal_82 > 100f) return true;
if(bLocal_79)if(ENTITY::HAS_ENTITY_BEEN_DAMAGED_BY_ENTITY(pedParam0, PLAYER::PLAYER_PED_ID(), true))if((float)iLocal_82 > 100f) return true;
}elseif(ENTITY::HAS_ENTITY_BEEN_DAMAGED_BY_ENTITY(pedParam0, PLAYER::PLAYER_PED_ID(), true)){
return true;
}
if(!bParam3){
playersLastVehicle2=PLAYER::GET_PLAYERS_LAST_VEHICLE();
if(!ENTITY::IS_ENTITY_DEAD(playersLastVehicle2, false))if(ENTITY::HAS_ENTITY_BEEN_DAMAGED_BY_ENTITY(pedParam0, playersLastVehicle2, true)) return true;
}
if(bParam4)if(!ENTITY::IS_ENTITY_DEAD(pedParam0, false))if(PED::IS_PED_BEING_JACKED(pedParam0))if(PED::GET_PEDS_JACKER(pedParam0)==PLAYER::PLAYER_PED_ID()) return true;
if(bParam5)if(PED::IS_PED_IN_MELEE_COMBAT(PLAYER::PLAYER_PED_ID()))if(ENTITY::IS_ENTITY_AT_COORD(pedParam0, ENTITY::GET_ENTITY_COORDS(PLAYER::PLAYER_PED_ID(), true), 10f, 10f, 10f, false, true, 0))if(PLAYER::HAS_PLAYER_DAMAGED_AT_LEAST_ONE_PED(PLAYER::PLAYER_ID())) return true;
if(PED::IS_PED_PERFORMING_STEALTH_KILL(PLAYER::PLAYER_PED_ID()))if(PED::WAS_PED_KILLED_BY_STEALTH(pedParam0)) return true;
if(func_433(PLAYER::PLAYER_PED_ID(), pedParam0)) return true;
if(bParam2){
if(PED::IS_PED_RAGDOLL(pedParam0) && func_233(pedParam0, true) < 1.5f) return true;
elseif(PED::IS_PED_IN_ANY_VEHICLE(pedParam0, false))if(ENTITY::IS_ENTITY_TOUCHING_ENTITY(PLAYER::PLAYER_PED_ID(), PED::GET_VEHICLE_PED_IS_IN(pedParam0, false))) return true;
elseif(ENTITY::IS_ENTITY_TOUCHING_ENTITY(PLAYER::PLAYER_PED_ID(), pedParam0)) return true;
if(!ENTITY::IS_ENTITY_DEAD(eParam1, false))if(ENTITY::HAS_ENTITY_BEEN_DAMAGED_BY_ENTITY(eParam1, PLAYER::PLAYER_PED_ID(), true)) return true;
}
return false;
}
BOOL func_433(Ped pedParam0, Ped pedParam1) // Position - 0x14274{
int weaponHash;
WEAPON::GET_CURRENT_PED_WEAPON(pedParam0, &weaponHash, true);
if(weaponHash==joaat("WEAPON_PETROLCAN"))if(PED::IS_PED_SHOOTING(pedParam0))if(SYSTEM::VDIST(ENTITY::GET_ENTITY_COORDS(pedParam0, true), ENTITY::GET_ENTITY_COORDS(pedParam1, true)) < 2.5f)if(PED::IS_PED_FACING_PED(pedParam0, pedParam1, 180f)) return true;
return false;
}
BOOL func_434(Ped pedParam0, Ped pedParam1, var uParam2) // Position - 0x142C9{
if(WEAPON::IS_PED_ARMED(pedParam0, 4))if(PED::IS_PED_SHOOTING(pedParam0) && !WEAPON::IS_PED_CURRENT_WEAPON_SILENCED(pedParam0))if(ENTITY::IS_ENTITY_AT_COORD(pedParam1, ENTITY::GET_ENTITY_COORDS(pedParam0, true), (float)uParam2->f_4, (float)uParam2->f_4, (float)uParam2->f_4, false, true, 0)) return true;
return false;
}
BOOL func_435(Ped pedParam0, Ped pedParam1, var uParam2, BOOL bParam3) // Position - 0x14317{
float entityCoords;
Vehicle vehiclePedIsIn;
vehiclePedIsIn=0;
if(!ENTITY::IS_ENTITY_DEAD(pedParam1, false)) entityCoords={
ENTITY::GET_ENTITY_COORDS(pedParam1, true) 
};
if(MISC::IS_BULLET_IN_AREA(entityCoords, 4f, true)) return true;
if(MISC::HAS_BULLET_IMPACTED_IN_AREA(entityCoords, SYSTEM::TO_FLOAT(uParam2->f_6), true, true)) return true;
if(WEAPON::IS_PED_ARMED(pedParam0, 2)){
if(PED::IS_PED_SHOOTING(pedParam0)){
if(ENTITY::IS_ENTITY_AT_COORD(pedParam1, ENTITY::GET_ENTITY_COORDS(pedParam0, true), (float)uParam2->f_6 * 3, (float)uParam2->f_6 * 3, (float)uParam2->f_6 * 3, false, true, 0))if(PED::IS_PED_FACING_PED(ENTITY::GET_PED_INDEX_FROM_ENTITY_INDEX(pedParam1), pedParam0, 120f) && ENTITY::HAS_ENTITY_CLEAR_LOS_TO_ENTITY(pedParam1, pedParam0, 17)) return true;
}else{
if(PED::IS_PED_IN_ANY_VEHICLE(ENTITY::GET_PED_INDEX_FROM_ENTITY_INDEX(pedParam1), false)) vehiclePedIsIn=PED::GET_VEHICLE_PED_IS_IN(ENTITY::GET_PED_INDEX_FROM_ENTITY_INDEX(pedParam1), false);
if(PED::IS_PED_PLANTING_BOMB(pedParam0) || func_436(vehiclePedIsIn))if(ENTITY::IS_ENTITY_AT_COORD(pedParam1, ENTITY::GET_ENTITY_COORDS(pedParam0, true), (float)uParam2->f_6 * 3, (float)uParam2->f_6 * 3, (float)uParam2->f_6 * 3, false, true, 0))if(PED::IS_PED_FACING_PED(ENTITY::GET_PED_INDEX_FROM_ENTITY_INDEX(pedParam1), pedParam0, 120f) && ENTITY::HAS_ENTITY_CLEAR_LOS_TO_ENTITY(pedParam1, pedParam0, 17)) return true;
}}
if(bParam3)if(MISC::IS_PROJECTILE_IN_AREA(entityCoords - (float)uParam2->f_6, entityCoords.f_1 - (float)uParam2->f_6, entityCoords.f_2 - (float)uParam2->f_6, entityCoords + (float)uParam2->f_6, entityCoords.f_1 + (float)uParam2->f_6, entityCoords.f_2 + (float)uParam2->f_6, false)) return true;
return false;
}
BOOL func_436(Vehicle veParam0) // Position - 0x14490{
int weaponHash;
Entity entity;
if(ENTITY::DOES_ENTITY_EXIST(veParam0))if(VEHICLE::IS_VEHICLE_DRIVEABLE(veParam0, false))if(VEHICLE::GET_PED_IN_VEHICLE_SEAT(veParam0, -1, false) !=0)if(WEAPON::GET_CURRENT_PED_WEAPON(PLAYER::PLAYER_PED_ID(), &weaponHash, true))if(weaponHash==joaat("WEAPON_STICKYBOMB"))if(func_51(PLAYER::PLAYER_PED_ID(), veParam0, true) < 40f)if(PLAYER::GET_ENTITY_PLAYER_IS_FREE_AIMING_AT(PLAYER::PLAYER_ID(), &entity))if(ENTITY::IS_ENTITY_A_VEHICLE(entity) && ENTITY::GET_VEHICLE_INDEX_FROM_ENTITY_INDEX(entity)==veParam0 || ENTITY::IS_ENTITY_A_PED(entity) && ENTITY::GET_PED_INDEX_FROM_ENTITY_INDEX(entity)==VEHICLE::GET_PED_IN_VEHICLE_SEAT(veParam0, -1, false))if(PED::IS_PED_ON_FOOT(PLAYER::PLAYER_PED_ID()) && GRAPHICS::RESET_PARTICLE_FX_OVERRIDE(0, 24) || PED::IS_PED_IN_ANY_VEHICLE(PLAYER::PLAYER_PED_ID(), false) && GRAPHICS::RESET_PARTICLE_FX_OVERRIDE(0, 69)) return true;
return false;
}
BOOL func_437(Ped pedParam0, var uParam1) // Position - 0x1455E{
if(!ENTITY::IS_ENTITY_DEAD(pedParam0, false))if(WEAPON::IS_PED_ARMED(PLAYER::PLAYER_PED_ID(), 6))if(PLAYER::IS_PLAYER_FREE_AIMING_AT_ENTITY(PLAYER::PLAYER_ID(), pedParam0) || PLAYER::IS_PLAYER_TARGETTING_ENTITY(PLAYER::PLAYER_ID(), pedParam0))if(PED::IS_PED_FACING_PED(pedParam0, PLAYER::PLAYER_PED_ID(), 90f))if(func_233(pedParam0, true) < uParam1->f_2)if(uParam1->f_1==0) uParam1->f_1=MISC::GET_GAME_TIMER();
elseif(MISC::GET_GAME_TIMER() - uParam1->f_1 > uParam1->f_3) return true;
return false;
}


void func_438(var uParam0) // Position - 0x145E3{
if(!func_22(uParam0->f_98, 2)){
if(VEHICLE::IS_VEHICLE_DRIVEABLE(uParam0->f_4, false)){
if(func_53(uParam0->f_4, uParam0->f_17, true) < 180f){
MISC::CLEAR_AREA_OF_VEHICLES(uParam0->f_17, 25f, false, false, false, false, false, false, 0);
func_67(&(uParam0->f_98), 2);
}}}
return;
}


void func_439() // Position - 0x1463B{
func_440(&caLocal_423);
func_462(2);
func_458();
return;
}


void func_440(var uParam0) // Position - 0x14653{
func_54(false, uParam0, true);
if(uParam0->f_411 !=9) func_462(2);
return;
}
BOOL func_441(var uParam0, BOOL bParam1) // Position - 0x14672{
if(bParam1) return true;
if(!_CONVERSATION_IS_DIALOGUE_IN_PROGRESS() && func_116(uParam0, 3) > 1f || uParam0->f_415==18 || uParam0->f_415==14 || uParam0->f_415==15){
if(!ENTITY::IS_ENTITY_DEAD(uParam0->f_3, false)){
if(VEHICLE::IS_VEHICLE_DRIVEABLE(uParam0->f_4, false)){
if(PED::IS_PED_IN_VEHICLE(uParam0->f_3, uParam0->f_4, false)){
if(func_66(uParam0)==0 || func_297(uParam0->f_85, 32)){
if(!VEHICLE::IS_VEHICLE_STOPPED(uParam0->f_4)) func_363(uParam0, 4160, false);
else func_363(uParam0, 0, false);
return true;
}else{
func_363(uParam0, 0, false);
return true;
}}else{
func_363(uParam0, 0, false);
return true;
}}else{
func_363(uParam0, 0, false);
return true;
}}else{
return true;
}}else{
MISC::GET_GAME_TIMER() % 1000 < 50;
}
return false;
}


void func_442(var uParam0) // Position - 0x14771{
if(HUD::DOES_BLIP_EXIST(uParam0->f_8)) HUD::REMOVE_BLIP(&(uParam0->f_8));
if(HUD::DOES_BLIP_EXIST(uParam0->f_9)) HUD::REMOVE_BLIP(&(uParam0->f_9));
if(HUD::DOES_BLIP_EXIST(uParam0->f_10)) HUD::REMOVE_BLIP(&(uParam0->f_10));
return;
}
BOOL func_443(var uParam0) // Position - 0x147B2{
if(uParam0->f_109 && uParam0->f_410 < 29) return true;
return false;
}


void func_444() // Position - 0x147D3{
func_447(&caLocal_423, 8);
caLocal_423.f_410=0;
func_446(&caLocal_423, 3, 6);
caLocal_423.f_23={
1412.3242f, -1518.3154f, 58.4644f 
};
caLocal_423.f_33=114.1f;
caLocal_423.f_26={
uLocal_925 
};
caLocal_423.f_34=95.93f;
func_445(&caLocal_423, &hLocal_853);
hLocal_853=joaat("S_M_M_Doctor_01");
hLocal_853.f_1=joaat("bison");
return;
}


void func_445(var uParam0, var uParam1) // Position - 0x14846{
int num;
num=Global_113648.f_19099.f_39[uParam0->f_411];
uParam1->f_20=1;
uParam1->f_32=joaat("SCRIPT_TASK_VEHICLE_DRIVE_TO_COORD");
uParam1->f_12=0.7f - (0.6f * (float)num);
uParam1->f_13=0.8f - (0.6f * (float)num);
uParam1->f_14=24f + (float)10 * num;
return;
}


void func_446(var uParam0, int iParam1, int iParam2) // Position - 0x148A4{
uParam0->f_58=iParam1;
uParam0->f_59=iParam2;
return;
}


void func_447(var uParam0, int iParam1) // Position - 0x148B8{
func_457(true);
func_244();
func_7(&(uParam0->f_244));
func_456(uParam0);
uParam0->f_411=iParam1;
if(!func_22(Global_113648.f_19099, 4)) func_67(&(Global_113648.f_19099), 4);
func_451(uParam0);
func_449(uParam0);
PED::SET_PED_CONFIG_FLAG(PLAYER::PLAYER_PED_ID(), 32, false);
uParam0->f_102=func_448(uParam0->f_411) % uParam0->f_101;
uParam0->f_80=0;
uParam0->f_428=func_2();
HUD::REQUEST_ADDITIONAL_TEXT("TAXI" /*Taxi*/, 2);
return;
}

int func_448(int iParam0) // Position - 0x1493A{
return Global_113648.f_19099.f_39[iParam0];
}


void func_449(var uParam0) // Position - 0x1494F{
switch (func_66(uParam0)){
case 0:
func_450(uParam0, "EXC", "Txm2" /*Taxi - I Need Excitement!*/, "Txm2aud");
uParam0->f_101=2;
break;
case 1:
func_450(uParam0, "TIE", "Txm1" /*Taxi - Take It Easy*/, "txm1aud");
uParam0->f_101=1;
break;
case 2:
func_450(uParam0, "DED", "Txm3" /*Taxi - Deadline*/, "Txm3aud");
uParam0->f_101=1;
break;
case 3:
func_450(uParam0, "GYB", "Txm12" /*Taxi - Got Your Back*/, "Txm12au");
uParam0->f_101=2;
break;
case 4:
func_450(uParam0, "TTB", "Txm6" /*Taxi - Take Me to the Best...*/, "Txm6aud");
uParam0->f_101=2;
break;
case 5:
func_450(uParam0, "CUI", "Txm8" /*Taxi - I'll Cut You In*/, "Txm8aud");
uParam0->f_101=1;
break;
case 6:
func_450(uParam0, "GYN", "Txm9" /*Taxi - Got You Now*/, "Txm9aud");
uParam0->f_101=1;
break;
case 7:
func_450(uParam0, "TCC", "Txm10" /*Taxi - Clown Car*/, "Txm10au");
uParam0->f_101=2;
break;
case 8:
func_450(uParam0, "TFC", "Txm4" /*Taxi - Follow That Car!*/, "Txm4aud");
uParam0->f_101=1;
break;
case 9:
func_450(uParam0, "PRO", "txmP", "TxmPaud");
uParam0->f_101=1;
break;
}
return;
}


void func_450(var uParam0, char* sParam1, char* sParam2, char* sParam3) // Position - 0x14AA2{
uParam0->f_122=sParam1;
uParam0->f_143=sParam2;
uParam0->f_144=sParam3;
return;
}


void func_451(var uParam0) // Position - 0x14ABC{
int num;
switch (uParam0->f_411){
case 0:
func_455(uParam0, 3);
func_454(uParam0, 14);
break;
case 1:
func_455(uParam0, 14);
func_454(uParam0, 8);
break;
case 2:
func_455(uParam0, 8);
func_454(uParam0, 7);
break;
case 3:
func_455(uParam0, 15);
func_454(uParam0, 6);
break;
case 4:
func_455(uParam0, 0);
func_454(uParam0, 3);
break;
case 5:
func_455(uParam0, 6);
func_454(uParam0, 7);
break;
case 6:
func_455(uParam0, 8);
func_454(uParam0, 15);
break;
case 7:
func_455(uParam0, 8);
func_454(uParam0, 14);
break;
case 8:
func_455(uParam0, 7);
func_454(uParam0, 15);
break;
case 9:
func_455(uParam0, MISC::GET_RANDOM_INT_IN_RANGE(0, 17));
num=func_453(uParam0->f_418.f_2 + MISC::GET_RANDOM_INT_IN_RANGE(1, 17), 0, 16);
func_454(uParam0, num);
func_452(uParam0);
uParam0->f_418.f_7=1;
uParam0->f_418.f_8=1;
break;
}
return;
}


void func_452(var uParam0) // Position - 0x14BF3{
switch (uParam0->f_418.f_2){
case 2:
case 8:
uParam0->f_418.f_3=1;
break;
case 0:
case 3:
case 5:
case 9:
case 15:
uParam0->f_418.f_3=2;
break;
case 4:
case 10:
uParam0->f_418.f_3=3;
break;
case 1:
case 6:
case 13:
uParam0->f_418.f_3=4;
break;
case 11:
uParam0->f_418.f_3=5;
break;
case 12:
case 14:
uParam0->f_418.f_3=6;
break;
case 7:
uParam0->f_418.f_3=7;
break;
}
return;
}

int func_453(int iParam0, int iParam1, int iParam2) // Position - 0x14CB4{
int num;
int num2;
int num3;
int num4;
if(iParam1 > iParam2) return -1;
if(iParam0 >=iParam1 && iParam0 <=iParam2) return iParam0;
num=0;
if(iParam0 < iParam1)if(iParam0 < 0) num=-iParam0;
elseif(iParam1 < 0) num=-iParam1;
iParam0=iParam0 + num;
iParam1=iParam1 + num;
iParam2=iParam2 + num;
num2=iParam2 - iParam1;
if(iParam0 > iParam2){
num3=iParam0 - iParam2;
num4=num3 % num2;
iParam0=iParam1 + num4;
}else{
num3=iParam1 - iParam0;
num4=num3 % num2;
iParam0=iParam2 - num4;
}
return iParam0 - num;
}


void func_454(var uParam0, int iParam1) // Position - 0x14D56{
uParam0->f_418.f_1=iParam1;
return;
}


void func_455(var uParam0, int iParam1) // Position - 0x14D67{
uParam0->f_418.f_2=iParam1;
return;
}


void func_456(var uParam0) // Position - 0x14D78{
uParam0->f_2=PLAYER::PLAYER_PED_ID();
uParam0->f_3=0;
uParam0->f_4=0;
uParam0->f_14={
func_40() 
};
uParam0->f_17={
func_40() 
};
uParam0->f_35=0f;
uParam0->f_76=0;
uParam0->f_49=0;
uParam0->f_109=0;
uParam0->f_36=0f;
uParam0->f_410=2;
uParam0->f_123="TRS_FINDING_LOCATION";
func_208(uParam0, 32, false);
return;
}


void func_457(BOOL bParam0) // Position - 0x14DD6{
if(bParam0){
TEXT_LABEL_ASSIGN_STRING(&Global_112704, SCRIPT::GET_THIS_SCRIPT_NAME(), 24);
Global_112698=1;
}else{
TEXT_LABEL_ASSIGN_STRING(&Global_112704, "NULL", 24);
Global_112698=0;
}
return;
}


void func_458() // Position - 0x14E02{
VEHICLE::SET_ALL_VEHICLE_GENERATORS_ACTIVE_IN_AREA(uLocal_928, uLocal_931, true, true);
VEHICLE::SET_ALL_VEHICLE_GENERATORS_ACTIVE_IN_AREA(uLocal_946, uLocal_949, true, true);
func_140(uLocal_958, 60f, false);
func_140(uLocal_961, 60f, false);
PED::CLEAR_PED_NON_CREATION_AREA();
PED::REMOVE_SCENARIO_BLOCKING_AREA(iLocal_894, false);
PED::REMOVE_RELATIONSHIP_GROUP(hLocal_893);
PED::REMOVE_RELATIONSHIP_GROUP(hLocal_892);
TASK::REMOVE_WAYPOINT_RECORDING(&uLocal_976);
func_251(385.1685f, -1372.7186f, 29.8554f, true, 50f);
func_461();
func_460();
func_459();
VEHICLE::SET_VEHICLE_MODEL_IS_SUPPRESSED(hLocal_853.f_1, false);
func_157(&uLocal_45, 0, false);
SCRIPT::TERMINATE_THIS_THREAD();
return;
}


void func_459() // Position - 0x14EA4{
STREAMING::SET_MODEL_AS_NO_LONGER_NEEDED(hLocal_887);
STREAMING::REMOVE_ANIM_DICT("MOVE_DUCK_FOR_COVER");
STREAMING::REMOVE_ANIM_DICT(&uLocal_980);
STREAMING::REMOVE_ANIM_DICT(&uLocal_996);
STREAMING::REMOVE_ANIM_DICT(&uLocal_1012);
STREAMING::REMOVE_ANIM_DICT(&uLocal_1028);
return;
}


void func_460() // Position - 0x14ED7{
STREAMING::SET_MODEL_AS_NO_LONGER_NEEDED(hLocal_853);
STREAMING::SET_MODEL_AS_NO_LONGER_NEEDED(hLocal_853.f_1);
STREAMING::SET_MODEL_AS_NO_LONGER_NEEDED(hLocal_888);
STREAMING::SET_MODEL_AS_NO_LONGER_NEEDED(hLocal_889);
TASK::REMOVE_WAYPOINT_RECORDING(&uLocal_976);
STREAMING::REMOVE_ANIM_DICT("veh@truck@ds@base");
return;
}


void func_461() // Position - 0x14F0C{
STREAMING::SET_MODEL_AS_NO_LONGER_NEEDED(hLocal_886);
STREAMING::REMOVE_ANIM_DICT("gestures@m@standing@casual");
return;
}


void func_462(int iParam0) // Position - 0x14F23{
Global_112358.f_22=iParam0;
return;
}
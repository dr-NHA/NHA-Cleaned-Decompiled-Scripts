//Cleaned With dr NHA's C Script Cleaner V2.72
#region Local Var
var uLocal_0=0;
var uLocal_1=0;
int iLocal_2=0;
int iLocal_3=0;
int iLocal_4=0;
int iLocal_5=0;
int iLocal_6=0;
int iLocal_7=0;
int iLocal_8=0;
int iLocal_9=0;
int iLocal_10=0;
int iLocal_11=0;
var uLocal_12=0;
var uLocal_13=0;
float fLocal_14=0f;
var uLocal_15=0;
var uLocal_16=0;
int iLocal_17=0;
var uLocal_18=0;
var uLocal_19=0;
char* sLocal_20=0;
float fLocal_21=0f;
var uLocal_22=0;
var uLocal_23=0;
var uLocal_24=0;
float fLocal_25=0f;
float fLocal_26=0f;
var uLocal_27=0;
int iLocal_28=0;
var uLocal_29=0;
var uLocal_30=0;
float fLocal_31=0f;
float fLocal_32=0f;
float fLocal_33=0f;
var uLocal_34=0;
var uLocal_35=0;
BOOL bLocal_36=0;
BOOL bLocal_37=0;
int iLocal_38=0;
BOOL bLocal_39=0;
int iLocal_40=0;
int iLocal_41=0;
int iLocal_42=0;
var uLocal_43=0;
BOOL bLocal_44=0;
var uLocal_45=0;
var uLocal_46=0;
var uLocal_47=0;
var uLocal_48=0;
BOOL bLocal_49=0;
BOOL bLocal_50=0;
BOOL bLocal_51=0;
int iLocal_52=0;
int iLocal_53=0;
int iLocal_54=0;
int iLocal_55=0;
Entity eLocal_56=0;
var uLocal_57=12;
var uLocal_58=0;
var uLocal_59=0;
var uLocal_60=0;
var uLocal_61=0;
var uLocal_62=0;
var uLocal_63=0;
var uLocal_64=0;
var uLocal_65=0;
var uLocal_66=0;
var uLocal_67=0;
var uLocal_68=0;
var uLocal_69=0;
var uLocal_70=12;
var uLocal_71=0;
var uLocal_72=0;
var uLocal_73=0;
var uLocal_74=0;
var uLocal_75=0;
var uLocal_76=0;
var uLocal_77=0;
var uLocal_78=0;
var uLocal_79=0;
var uLocal_80=0;
var uLocal_81=0;
var uLocal_82=0;
var uLocal_83=12;
var uLocal_84=0;
var uLocal_85=0;
var uLocal_86=0;
var uLocal_87=0;
var uLocal_88=0;
var uLocal_89=0;
var uLocal_90=0;
var uLocal_91=0;
var uLocal_92=0;
var uLocal_93=0;
var uLocal_94=0;
var uLocal_95=0;
var uLocal_96=9;
var uLocal_97=0;
var uLocal_98=0;
var uLocal_99=0;
var uLocal_100=0;
var uLocal_101=0;
var uLocal_102=0;
var uLocal_103=0;
var uLocal_104=0;
var uLocal_105=0;
var uLocal_106=9;
var uLocal_107=0;
var uLocal_108=0;
var uLocal_109=0;
var uLocal_110=0;
var uLocal_111=0;
var uLocal_112=0;
var uLocal_113=0;
var uLocal_114=0;
var uLocal_115=0;
var uLocal_116=0;
var uLocal_117=0;
var uLocal_118=0;
var uLocal_119=0;
var uLocal_120=0;
var uLocal_121=0;
var uLocal_122=0;
var uLocal_123=16;
var uLocal_124=0;
var uLocal_125=0;
var uLocal_126=0;
var uLocal_127=0;
var uLocal_128=0;
var uLocal_129=0;
var uLocal_130=0;
var uLocal_131=0;
var uLocal_132=0;
var uLocal_133=0;
var uLocal_134=0;
var uLocal_135=0;
var uLocal_136=0;
var uLocal_137=0;
var uLocal_138=0;
var uLocal_139=0;
var uLocal_140=0;
var uLocal_141=0;
var uLocal_142=0;
var uLocal_143=0;
var uLocal_144=0;
var uLocal_145=0;
var uLocal_146=0;
var uLocal_147=0;
var uLocal_148=0;
var uLocal_149=0;
var uLocal_150=0;
var uLocal_151=0;
var uLocal_152=0;
var uLocal_153=0;
var uLocal_154=0;
var uLocal_155=0;
var uLocal_156=0;
var uLocal_157=0;
var uLocal_158=0;
var uLocal_159=0;
var uLocal_160=0;
var uLocal_161=0;
var uLocal_162=0;
var uLocal_163=0;
var uLocal_164=0;
var uLocal_165=0;
var uLocal_166=0;
var uLocal_167=0;
var uLocal_168=0;
var uLocal_169=0;
var uLocal_170=0;
var uLocal_171=0;
var uLocal_172=0;
var uLocal_173=0;
var uLocal_174=0;
var uLocal_175=0;
var uLocal_176=0;
var uLocal_177=0;
var uLocal_178=0;
var uLocal_179=0;
var uLocal_180=0;
var uLocal_181=0;
var uLocal_182=0;
var uLocal_183=0;
var uLocal_184=0;
var uLocal_185=0;
var uLocal_186=0;
var uLocal_187=0;
var uLocal_188=0;
var uLocal_189=0;
var uLocal_190=0;
var uLocal_191=0;
var uLocal_192=0;
var uLocal_193=0;
var uLocal_194=0;
var uLocal_195=0;
var uLocal_196=0;
var uLocal_197=0;
var uLocal_198=0;
var uLocal_199=0;
var uLocal_200=0;
var uLocal_201=0;
var uLocal_202=0;
var uLocal_203=0;
var uLocal_204=0;
var uLocal_205=0;
var uLocal_206=0;
var uLocal_207=0;
var uLocal_208=0;
var uLocal_209=0;
var uLocal_210=0;
var uLocal_211=0;
var uLocal_212=0;
var uLocal_213=0;
var uLocal_214=0;
var uLocal_215=0;
var uLocal_216=0;
var uLocal_217=0;
var uLocal_218=0;
var uLocal_219=0;
var uLocal_220=0;
var uLocal_221=0;
var uLocal_222=0;
var uLocal_223=0;
var uLocal_224=0;
var uLocal_225=0;
var uLocal_226=0;
var uLocal_227=0;
var uLocal_228=0;
var uLocal_229=0;
var uLocal_230=0;
var uLocal_231=0;
var uLocal_232=0;
var uLocal_233=0;
var uLocal_234=0;
var uLocal_235=0;
var uLocal_236=0;
var uLocal_237=0;
var uLocal_238=0;
var uLocal_239=0;
var uLocal_240=0;
var uLocal_241=0;
var uLocal_242=0;
var uLocal_243=0;
var uLocal_244=0;
var uLocal_245=0;
var uLocal_246=0;
var uLocal_247=0;
var uLocal_248=0;
var uLocal_249=0;
var uLocal_250=0;
var uLocal_251=0;
var uLocal_252=0;
var uLocal_253=0;
var uLocal_254=0;
var uLocal_255=0;
var uLocal_256=0;
var uLocal_257=0;
var uLocal_258=0;
var uLocal_259=0;
var uLocal_260=0;
var uLocal_261=0;
var uLocal_262=0;
var uLocal_263=0;
var uLocal_264=0;
var uLocal_265=0;
var uLocal_266=0;
var uLocal_267=0;
var uLocal_268=0;
var uLocal_269=0;
var uLocal_270=0;
var uLocal_271=0;
var uLocal_272=0;
var uLocal_273=0;
var uLocal_274=0;
var uLocal_275=0;
var uLocal_276=0;
var uLocal_277=0;
var uLocal_278=0;
var uLocal_279=0;
var uLocal_280=0;
var uLocal_281=0;
var uLocal_282=0;
var uLocal_283=0;
var uLocal_284=0;
var uLocal_285=0;
var uLocal_286=0;
var uLocal_287=0;
var uLocal_288=4;
var uLocal_289=0;
var uLocal_290=0;
var uLocal_291=0;
var uLocal_292=0;
var uLocal_293=0;
var uLocal_294=0;
var uLocal_295=0;
var uLocal_296=0;
var uLocal_297=0;
var uLocal_298=0;
var uLocal_299=0;
var uLocal_300=0;
var uLocal_301=0;
var uLocal_302=0;
var uLocal_303=0;
var uLocal_304=0;
var uLocal_305=0;
var uLocal_306=0;
int iLocal_307=0;
int iLocal_308=0;
int iLocal_309=0;
BOOL bLocal_310=0;
BOOL bLocal_311=0;
BOOL bLocal_312=0;
BOOL bLocal_313=0;
BOOL bLocal_314=0;
BOOL bLocal_315=0;
BOOL bLocal_316=0;
BOOL bLocal_317=0;
BOOL bLocal_318=0;
BOOL bLocal_319=0;
BOOL bLocal_320=0;
BOOL bLocal_321=0;
BOOL bLocal_322=0;
BOOL bLocal_323=0;
BOOL bLocal_324=0;
BOOL bLocal_325=0;
BOOL bLocal_326=0;
Cam caLocal_327=0;
int iLocal_328=0;
int iLocal_329=0;
int iLocal_330=0;
int iLocal_331=0;
int iLocal_332=0;
int iLocal_333=0;
int iLocal_334=0;
char* sLocal_335=0;
var uLocal_336=0;
var uLocal_337=0;
var uLocal_338=0;
var uLocal_339=0;
var uLocal_340=0;
var uLocal_341=0;
var uLocal_342=0;
var uLocal_343=0;
var uLocal_344=0;
var uLocal_345=0;
var uLocal_346=0;
var uLocal_347=0;
var uLocal_348=0;
var uLocal_349=0;
var uLocal_350=0;
var uLocal_351=0;
var uLocal_352=0;
var uLocal_353=0;
var uLocal_354=0;
var uLocal_355=0;
var uLocal_356=0;
float fLocal_357=0f;
var uLocal_358=0;
var uLocal_359=0;
var uLocal_360=0;
var uLocal_361=0;
var uLocal_362=0;
var uLocal_363=0;
float fLocal_364=0f;
var uLocal_365=0;
var uLocal_366=0;
var uLocal_367=0;
var uLocal_368=0;
var uLocal_369=0;
var uLocal_370=0;
float fLocal_371=0f;
var uLocal_372=0;
var uLocal_373=0;
var uLocal_374=0;
var uLocal_375=0;
var uLocal_376=0;
var uLocal_377=0;
float fLocal_378=0f;
var uScriptParam_0=0;
var uScriptParam_1=5;
var uScriptParam_2=0;
var uScriptParam_3=0;
var uScriptParam_4=0;
var uScriptParam_5=0;
var uScriptParam_6=0;
var uScriptParam_7=0;
var uScriptParam_8=0;
var uScriptParam_9=0;
var uScriptParam_10=0;
var uScriptParam_11=0;
var uScriptParam_12=0;
var uScriptParam_13=0;
var uScriptParam_14=0;
var uScriptParam_15=0;
var uScriptParam_16=0;
var uScriptParam_17=5;
var uScriptParam_18=0;
var uScriptParam_19=0;
var uScriptParam_20=0;
var uScriptParam_21=0;
var uScriptParam_22=0;
#endregion

void main() // Position - 0x0{
iLocal_2=1;
iLocal_3=134;
iLocal_4=134;
iLocal_5=1;
iLocal_6=1;
iLocal_7=1;
iLocal_8=134;
iLocal_9=1;
iLocal_10=12;
iLocal_11=12;
fLocal_14=0.001f;
iLocal_17=-1;
sLocal_20="NULL";
fLocal_21=0f;
fLocal_25=-0.0375f;
fLocal_26=0.17f;
iLocal_28=3;
fLocal_31=80f;
fLocal_32=140f;
fLocal_33=180f;
bLocal_39=true;
iLocal_40=65;
iLocal_41=49;
iLocal_42=64;
iLocal_52=1;
uLocal_301={
0f, 0f, 0f 
};
uLocal_304={
0f, 0f, 0f 
};
iLocal_309=1;
sLocal_335="safe@franklin@ig_13";
uLocal_339={
-11.3259f, -1441.4713f, 30.5788f 
};
uLocal_342={
-0.025f, 0.13f, 0f 
};
uLocal_345={
-0.025f, 0.12f, 0f 
};
uLocal_348={
0f, 90f, 0f 
};
uLocal_351={
-10.1f, -1440.7f, 31.1f 
};
uLocal_354={
-4f, 0f, 121.2f 
};
fLocal_357=31f;
uLocal_358={
-12.1f, -1440.7f, 31.3f 
};
uLocal_361={
-5.3f, 0f, -117.8f 
};
fLocal_364=40f;
uLocal_365={
-10.1f, -1438.5f, 31.5f 
};
uLocal_368={
0.3f, 0f, 159f 
};
fLocal_371=50f;
uLocal_372={
-9.4f, -1439.6f, 30.9f 
};
uLocal_375={
2.3f, 0f, 142.8f 
};
fLocal_378=25.9f;
if(PLAYER::HAS_FORCE_CLEANUP_OCCURRED(19)) func_112();
if(func_109(9)) func_112();
if(func_108() && !func_107()) func_112();
if(AUDIO::IS_MOBILE_PHONE_CALL_ONGOING()) func_112();
if(PLAYER::IS_PLAYER_WANTED_LEVEL_GREATER(PLAYER::PLAYER_ID(), 0)) func_112();
uLocal_336={
uScriptParam_0.f_1[0 /*3*/] 
};
uLocal_336={
-11.3888f, -1441.3252f, 30.1f 
};
iLocal_55=joaat("p_cs_joint_01");
while (true){
SYSTEM::WAIT(0);
if(!PED::IS_PED_INJURED(PLAYER::PLAYER_PED_ID()) && _GET_CURRENT_PLAYER_CHARACTER()==CHAR_FRANKLIN && !STREAMING::IS_PLAYER_SWITCH_IN_PROGRESS() && !PLAYER::IS_PLAYER_WANTED_LEVEL_GREATER(PLAYER::PLAYER_ID(), 0) && INTERIOR::GET_INTERIOR_FROM_ENTITY(PLAYER::PLAYER_PED_ID()) !=0){
if(MISC::GET_DISTANCE_BETWEEN_COORDS(uLocal_336, ENTITY::GET_ENTITY_COORDS(PLAYER::PLAYER_PED_ID(), false), true) < 3f){
if(bLocal_51) PLAYER::SET_ALL_RANDOM_PEDS_FLEE_THIS_FRAME(PLAYER::PLAYER_ID());
switch (iLocal_307){
case 0:
if(func_95()) iLocal_307=1;
break;
case 1:
if(!PED::IS_PED_INJURED(PLAYER::PLAYER_PED_ID())){
func_22();
func_1();
}
break;
case 2:
break;
}}}else{
func_112();
}}
return;
}


void func_1() // Position - 0x2AA{
int num;
num=10;
if(!ENTITY::IS_ENTITY_DEAD(PLAYER::PLAYER_PED_ID(), false)){
switch (iLocal_55){
case joaat("prop_bong_01"):
case joaat("p_cs_joint_01"):
func_2();
break;
case joaat("prop_mr_raspberry_01"):
case joaat("p_w_grass_gls_s"):
if(ENTITY::GET_ENTITY_HEALTH(PLAYER::PLAYER_PED_ID()) < PED::GET_PED_MAX_HEALTH(PLAYER::PLAYER_PED_ID()) - num) ENTITY::SET_ENTITY_HEALTH(PLAYER::PLAYER_PED_ID(), ENTITY::GET_ENTITY_HEALTH(PLAYER::PLAYER_PED_ID()) + num, 0);
else ENTITY::SET_ENTITY_HEALTH(PLAYER::PLAYER_PED_ID(), PED::GET_PED_MAX_HEALTH(PLAYER::PLAYER_PED_ID()), 0);
break;
}}
return;
}


void func_2() // Position - 0x32A{
if(iLocal_54 > 0){
if(!bLocal_44){
iLocal_53=MISC::GET_GAME_TIMER() + 5000;
bLocal_44=true;
}elseif(MISC::GET_GAME_TIMER() > iLocal_53){
func_3();
bLocal_44=false;
iLocal_54=0;
}}
return;
}


void func_3() // Position - 0x360{
int randomIntInRange;
if(_GET_CURRENT_PLAYER_CHARACTER()==CHAR_MICHAEL){
randomIntInRange=MISC::GET_RANDOM_INT_IN_RANGE(0, 10);
_CONVERSATION_INITIALIZE_ACTOR(&uLocal_123, 0, PLAYER::PLAYER_PED_ID(), "MICHAEL", 0, 1);
if(!AUDIO::IS_AUDIO_SCENE_ACTIVE("SAFEHOUSE_STONED_MICHAEL")) AUDIO::START_AUDIO_SCENE("SAFEHOUSE_STONED_MICHAEL");
switch (randomIntInRange){
case 0:
_CONVERSATION_ADD_LINE(&uLocal_123, "WEEDAUD", "M_WD1", 4, 0, 0, 0);
break;
case 1:
_CONVERSATION_ADD_LINE(&uLocal_123, "WEEDAUD", "M_WD2", 4, 0, 0, 0);
break;
case 2:
_CONVERSATION_ADD_LINE(&uLocal_123, "WEEDAUD", "M_WD3", 4, 0, 0, 0);
break;
case 3:
_CONVERSATION_ADD_LINE(&uLocal_123, "WEEDAUD", "M_WD4", 4, 0, 0, 0);
break;
case 4:
_CONVERSATION_ADD_LINE(&uLocal_123, "WEEDAUD", "M_WD5", 4, 0, 0, 0);
break;
case 5:
_CONVERSATION_ADD_LINE(&uLocal_123, "WEEDAUD", "M_WD6", 4, 0, 0, 0);
break;
case 6:
_CONVERSATION_ADD_LINE(&uLocal_123, "WEEDAUD", "M_WD7", 4, 0, 0, 0);
break;
case 7:
_CONVERSATION_ADD_LINE(&uLocal_123, "WEEDAUD", "M_WD8", 4, 0, 0, 0);
break;
case 8:
_CONVERSATION_ADD_LINE(&uLocal_123, "WEEDAUD", "M_WD9", 4, 0, 0, 0);
break;
case 9:
_CONVERSATION_ADD_LINE(&uLocal_123, "WEEDAUD", "M_WD10", 4, 0, 0, 0);
break;
}}elseif(_GET_CURRENT_PLAYER_CHARACTER()==CHAR_FRANKLIN){
GRAPHICS::ENABLE_MOVIE_SUBTITLES(false);
randomIntInRange=MISC::GET_RANDOM_INT_IN_RANGE(0, 11);
_CONVERSATION_INITIALIZE_ACTOR(&uLocal_123, 1, PLAYER::PLAYER_PED_ID(), "FRANKLIN", 0, 1);
switch (randomIntInRange){
case 0:
_CONVERSATION_ADD_LINE(&uLocal_123, "WEEDAUD", "F_WD1", 3, 0, 0, 0);
break;
case 1:
_CONVERSATION_ADD_LINE(&uLocal_123, "WEEDAUD", "F_WD2", 3, 0, 0, 0);
break;
case 2:
_CONVERSATION_ADD_LINE(&uLocal_123, "WEEDAUD", "F_WD3", 3, 0, 0, 0);
break;
case 3:
_CONVERSATION_ADD_LINE(&uLocal_123, "WEEDAUD", "F_WD4", 3, 0, 0, 0);
break;
case 4:
_CONVERSATION_ADD_LINE(&uLocal_123, "WEEDAUD", "F_WD5", 3, 0, 0, 0);
break;
case 5:
_CONVERSATION_ADD_LINE(&uLocal_123, "WEEDAUD", "F_WD6", 3, 0, 0, 0);
break;
case 6:
_CONVERSATION_ADD_LINE(&uLocal_123, "WEEDAUD", "F_WD7", 3, 0, 0, 0);
break;
case 7:
_CONVERSATION_ADD_LINE(&uLocal_123, "WEEDAUD", "F_WD8", 3, 0, 0, 0);
break;
case 8:
_CONVERSATION_ADD_LINE(&uLocal_123, "WEEDAUD", "F_WD9", 3, 0, 0, 0);
break;
case 9:
_CONVERSATION_ADD_LINE(&uLocal_123, "WEEDAUD", "F_WD10", 3, 0, 0, 0);
break;
case 10:
_CONVERSATION_ADD_LINE(&uLocal_123, "WEEDAUD", "F_WD11", 3, 0, 0, 0);
break;
}}else{
randomIntInRange=MISC::GET_RANDOM_INT_IN_RANGE(0, 8);
_CONVERSATION_INITIALIZE_ACTOR(&uLocal_123, 2, PLAYER::PLAYER_PED_ID(), "TREVOR", 0, 1);
switch (randomIntInRange){
case 0:
_CONVERSATION_ADD_LINE(&uLocal_123, "WEEDAUD", "T_WD1", 4, 0, 0, 0);
break;
case 1:
_CONVERSATION_ADD_LINE(&uLocal_123, "WEEDAUD", "T_WD3", 4, 0, 0, 0);
break;
case 2:
_CONVERSATION_ADD_LINE(&uLocal_123, "WEEDAUD", "T_WD4", 4, 0, 0, 0);
break;
case 3:
_CONVERSATION_ADD_LINE(&uLocal_123, "WEEDAUD", "T_WD5", 4, 0, 0, 0);
break;
case 4:
_CONVERSATION_ADD_LINE(&uLocal_123, "WEEDAUD", "T_WD6", 4, 0, 0, 0);
break;
case 5:
_CONVERSATION_ADD_LINE(&uLocal_123, "WEEDAUD", "T_WD8", 4, 0, 0, 0);
break;
case 6:
_CONVERSATION_ADD_LINE(&uLocal_123, "WEEDAUD", "T_WD9", 4, 0, 0, 0);
break;
case 7:
_CONVERSATION_ADD_LINE(&uLocal_123, "WEEDAUD", "T_WD10", 4, 0, 0, 0);
break;
}}
return;
}
int _CONVERSATION_ADD_LINE(var uParam0, char* sParam1, char* sParam2, int iParam3, int iParam4, int iParam5, int iParam6) // Position - 0x6E8{
func_20(uParam0, 145, sParam1, iParam4, iParam5, iParam6);
if(iParam3 > 7)if(iParam3 < 12) iParam3=7;
Global_21732=0;
Global_21734=0;
Global_21739=0;
Global_22716=0;
Global_22718=0;
Global_22722=0;
Global_2883585=0;
return func_5(sParam2, iParam3, false);
}

int func_5(char* sParam0, int iParam1, BOOL bParam2) // Position - 0x736{
Global_21726=0;
if(Global_21725==0 || Global_21727==2){
if(Global_21725 !=0){
if(iParam1 > Global_21727){
if(Global_21732==0){
AUDIO::STOP_SCRIPTED_CONVERSATION(false);
Global_20383.f_1=3;
Global_21725=0;
Global_21726=1;
Global_21778=0;
Global_21721=0;
Global_21722=0;
Global_21736=0;
Global_21735=false;
Global_20382=0;
}else{
func_19();
return 0;
}}else{
return 0;
}}
if(AUDIO::IS_SCRIPTED_CONVERSATION_ONGOING()) return 0;
if(func_18(8, -1)) return 0;
Global_21801={
Global_21795 
};
func_17();
Global_21014={
Global_21179 
};
Global_21731=Global_21732;
Global_21738=Global_21739;
Global_2883586=Global_2883585;
Global_21740={
Global_21756 
};
Global_21733=Global_21734;
Global_22715=Global_22716;
Global_22723={
Global_22729 
};
Global_22717=Global_22718;
Global_22719=Global_22720;
Global_22721=Global_22722;
Global_21344.f_370=Global_22714;
Global_21344.f_368=Global_22712;
Global_21344.f_369=Global_22713;
Global_21721=Global_21722;
if(Global_21731){
MISC::CLEAR_BIT(&Global_8253, 20);
MISC::CLEAR_BIT(&Global_8254, 17);
MISC::CLEAR_BIT(&Global_8255, 0);
if(bParam2){
_UPDATE_CURRENT_PLAYER_CHARACTER();
if(Global_9058[Global_20383 /*2811*/][0 /*281*/].f_259==2){
if(iParam1==13){
}else{
return 0;
}}
if(Global_20383.f_1 > 3) return 0;
}
if(Global_20349==1) return 0;
if(PLAYER::IS_PLAYER_PLAYING(PLAYER::PLAYER_ID())){
if(PED::IS_PED_IN_MELEE_COMBAT(PLAYER::PLAYER_PED_ID())) return 0;
if(func_14()) return 0;
if(TASK::IS_PED_SPRINTING(PLAYER::PLAYER_PED_ID())) return 0;
if(PED::IS_PED_RAGDOLL(PLAYER::PLAYER_PED_ID())) return 0;
if(PED::IS_PED_IN_PARACHUTE_FREE_FALL(PLAYER::PLAYER_PED_ID())) return 0;
if(WEAPON::GET_IS_PED_GADGET_EQUIPPED(PLAYER::PLAYER_PED_ID(), joaat("GADGET_PARACHUTE"))) return 0;
if(!Global_78558){
if(ENTITY::IS_ENTITY_IN_WATER(PLAYER::PLAYER_PED_ID())) return 0;
if(PLAYER::IS_PLAYER_CLIMBING(PLAYER::PLAYER_ID())) return 0;
if(PED::IS_PED_PLANTING_BOMB(PLAYER::PLAYER_PED_ID())) return 0;
if(PLAYER::IS_SPECIAL_ABILITY_ACTIVE(PLAYER::PLAYER_ID(), 0)) return 0;
}}
if(func_13()){
return 0;
}else{
switch (Global_20383.f_1){
case 7:
return 0;
case 8:
return 0;
case 9:
break;
case 10:
break;
default:
break;
}
if(IS_BIT_SET(Global_8253, 9)) return 0;
}
func_12();
Global_21735=bParam2;
}
Global_21727=iParam1;
TEXT_LABEL_ASSIGN_STRING(&Global_21344, sParam0, 24);
Global_20591=0;
func_11();
func_6();
return 1;
}
if(Global_21725==5) return 0;
if(iParam1 < Global_21727 || iParam1==Global_21727) return 0;
if(iParam1==2){}else{
func_19();
}
return 0;
}


void func_6() // Position - 0xA04{
if(!func_7()) return;
if(Global_21731){
TEXT_LABEL_COPY(&(Global_1977511.f_1),{
Global_21344 
}
, 4);
Global_1977511=Global_7568;
Global_1977511.f_6=Global_21735;
}
return;
}
BOOL func_7() // Position - 0xA3B{
if(!Global_262145.f_28878) return false;
if(!Global_78558) return false;
if(PLAYER::PLAYER_ID()==_INVALID_PLAYER_INDEX()) return false;
if(func_8(PLAYER::PLAYER_ID())) return false;
if(IS_BIT_SET(Global_1894573[PLAYER::PLAYER_ID() /*608*/].f_1, 7)) return false;
if(NETWORK::NETWORK_IS_ACTIVITY_SESSION()) return false;
return true;
}
BOOL func_8(Player plParam0) // Position - 0xA9E{
return func_9(plParam0, 20);
}
BOOL func_9(Player plParam0, int iParam1) // Position - 0xAAE{
return IS_BIT_SET(Global_1894573[plParam0 /*608*/].f_10.f_4, iParam1);
}
Player _INVALID_PLAYER_INDEX() // Position - 0xAC6{
return -1;
}


void func_11() // Position - 0xACF{
int i;
for (i=0;
i <=69;
i=i + 1){
TEXT_LABEL_ASSIGN_STRING(&Global_20593[i /*6*/], "", 24);
}
AUDIO::STOP_SCRIPTED_CONVERSATION(false);
Global_21725=1;
return;
}


void func_12() // Position - 0xB01{
Global_21778=Global_21777;
Global_21772=Global_21773;
Global_21819={
Global_21807 
};
Global_21825={
Global_21813 
};
Global_21780=Global_21779;
Global_21849={
Global_21831 
};
Global_21855={
Global_21837 
};
Global_21861={
Global_21843 
};
Global_21867={
Global_21873 
};
Global_7568=Global_7569;
Global_7570=Global_7571;
Global_21736=Global_21737;
Global_21738=Global_21739;
Global_21740={
Global_21756 
};
Global_21729=Global_21730;
Global_22741=0;
Global_21774=0;
Global_21775=0;
MISC::CLEAR_BIT(&Global_8254, 16);
return;
}
BOOL func_13() // Position - 0xB96{
if(Global_20383.f_1==1 || Global_20383.f_1==0) return true;
return false;
}
BOOL func_14() // Position - 0xBBD{
int num;
int weaponHash;
if(Global_78558){
num=0;
WEAPON::GET_CURRENT_PED_WEAPON(PLAYER::PLAYER_PED_ID(), &weaponHash, true);
if(PLAYER::IS_PLAYER_PLAYING(PLAYER::PLAYER_ID()))if(weaponHash==joaat("WEAPON_SNIPERRIFLE") || weaponHash==joaat("WEAPON_HEAVYSNIPER") || weaponHash==joaat("WEAPON_REMOTESNIPER")) num=1;
if(CAM::IS_AIM_CAM_ACTIVE() && num==1) return true;
else return false;
}
if(PLAYER::IS_PLAYER_PLAYING(PLAYER::PLAYER_ID()))if(PED::GET_PED_CONFIG_FLAG(PLAYER::PLAYER_PED_ID(), 78, true)) return true;
else return false;
return true;
}


void _UPDATE_CURRENT_PLAYER_CHARACTER() // Position - 0xC56{
if(func_16(14)){
if(!ENTITY::IS_ENTITY_DEAD(PLAYER::PLAYER_PED_ID(), false))if(ENTITY::GET_ENTITY_MODEL(PLAYER::PLAYER_PED_ID())==Global_113648.f_28052[0 /*29*/]) Global_20383=CHAR_MICHAEL;
elseif(ENTITY::GET_ENTITY_MODEL(PLAYER::PLAYER_PED_ID())==Global_113648.f_28052[1 /*29*/]) Global_20383=CHAR_FRANKLIN;
elseif(ENTITY::GET_ENTITY_MODEL(PLAYER::PLAYER_PED_ID())==Global_113648.f_28052[2 /*29*/]) Global_20383=CHAR_TREVOR;
else Global_20383=CHAR_MICHAEL;
}else{
Global_20383=_GET_CURRENT_PLAYER_CHARACTER();
if(Global_20383==_CHAR_NULL) Global_20383=CHAR_MULTIPLAYER;
if(Global_78558) Global_20383=CHAR_MULTIPLAYER;
if(Global_20383 > CHAR_MULTIPLAYER) Global_20383=CHAR_MULTIPLAYER;
}
return;
}
BOOL func_16(int iParam0) // Position - 0xCF8{
return Global_43257==iParam0;
}


void func_17() // Position - 0xD06{
int i;
for (i=0;
i <=15;
i=i + 1){
Global_21014[i /*10*/]=0;
TEXT_LABEL_ASSIGN_STRING(&(Global_21014[i /*10*/].f_1), "", 24);
Global_21014[i /*10*/].f_7=0;
Global_21014[i /*10*/].f_8=0;
}
Global_21014.f_161=-99;
Global_21014.f_162={
0f, 0f, 0f 
};
return;
}
BOOL func_18(int iParam0, int iParam1) // Position - 0xD5E{
switch (iParam0){
case 5:
if(iParam1 > -1) return Global_1653913.f_203[iParam1];
break;
}
return IS_BIT_SET(Global_1653913.f_1048, iParam0);
}


void func_19() // Position - 0xD96{
AUDIO::RESTART_SCRIPTED_CONVERSATION();
Global_22736=0;
if(AUDIO::IS_MOBILE_PHONE_CALL_ONGOING() || Global_20383.f_1==9 || Global_20382==1){
AUDIO::STOP_SCRIPTED_CONVERSATION(false);
Global_21725=6;
Global_20383.f_1=3;
return;
}
if(AUDIO::IS_SCRIPTED_CONVERSATION_ONGOING()){
AUDIO::STOP_SCRIPTED_CONVERSATION(true);
Global_21725=6;
return;
}
return;
}


void func_20(var uParam0, int iParam1, char* sParam2, int iParam3, int iParam4, int iParam5) // Position - 0xDED{
Global_21179={
*uParam0 
};
Global_7569=iParam1;
TEXT_LABEL_ASSIGN_STRING(&Global_21795, sParam2, 24);
Global_22714=iParam5;
if(iParam3==0){
Global_22712=1;
Global_22710=0;
}else{
Global_22712=0;
Global_22710=1;
}
if(iParam4==0){
Global_22713=1;
Global_22711=0;
}else{
Global_22713=0;
Global_22711=1;
}
return;
}


void _CONVERSATION_INITIALIZE_ACTOR(var uParam0, int iParam1, Ped pedParam2, char* sParam3, int iParam4, int iParam5) // Position - 0xE43{
uParam0->[iParam1 /*10*/].f_7==1;
uParam0->[iParam1 /*10*/]=pedParam2;
TEXT_LABEL_ASSIGN_STRING(&(uParam0->[iParam1 /*10*/].f_1), sParam3, 24);
uParam0->[iParam1 /*10*/].f_7=1;
uParam0->[iParam1 /*10*/].f_8=iParam4;
uParam0->[iParam1 /*10*/].f_9=iParam5;
if(!Global_78558){
if(!PED::IS_PED_INJURED(pedParam2))if(uParam0->[iParam1 /*10*/].f_8==0) PED::SET_PED_CAN_PLAY_AMBIENT_ANIMS(pedParam2, false);
else PED::SET_PED_CAN_PLAY_AMBIENT_ANIMS(pedParam2, true);
if(!PED::IS_PED_INJURED(pedParam2))if(uParam0->[iParam1 /*10*/].f_9==0) TASK::OPEN_PATROL_ROUTE(pedParam2, 0);
else TASK::OPEN_PATROL_ROUTE(pedParam2, 1);
}
return;
}


void func_22() // Position - 0xEDE{
var unk;
float synchronizedScenePhase;
float num;
float num2;
float num3;
float num4;
unk={
1.5f, 1.5f, 1.5f 
};
synchronizedScenePhase=0f;
switch (iLocal_308){
case 0:
if(func_90(uLocal_336, unk) && !func_89() && PED::IS_PED_HEADING_TOWARDS_POSITION(PLAYER::PLAYER_PED_ID(), uLocal_339, 90f) && func_88()){
func_87("TV_HLP0" /*Press ~INPUT_CONTEXT~ to sit on the couch.*/);
if(!AUDIO::IS_AUDIO_SCENE_ACTIVE("FRANKLIN_SAFEHOUSE_ACTIVITIES_SCENE")) AUDIO::START_AUDIO_SCENE("FRANKLIN_SAFEHOUSE_ACTIVITIES_SCENE");
iLocal_308=1;
}
break;
case 1:
if(func_86(true, false, true)){
if(func_90(uLocal_336, unk)){
if(!PLAYER::IS_PLAYER_FREE_AIMING(PLAYER::PLAYER_ID()) && !PLAYER::IS_PLAYER_TARGETTING_ANYTHING(PLAYER::PLAYER_ID()) && GRAPHICS::RESET_PARTICLE_FX_OVERRIDE(2, 51) && func_88()){
if(_IS_THIS_HELP_MESSAGE_BEING_DISPLAYED("TV_HLP0" /*Press ~INPUT_CONTEXT~ to sit on the couch.*/)) HUD::SET_SCRIPT_VARIABLE_HUD_COLOUR(1);
MISC::CLEAR_AREA_OF_PROJECTILES(uLocal_339, 3f, 0);
if(CAM::GET_FOLLOW_PED_CAM_VIEW_MODE() !=FIRST_PERSON) PLAYER::SET_PLAYER_CONTROL(PLAYER::PLAYER_ID(), false, 0);
else PLAYER::SET_PLAYER_CONTROL(PLAYER::PLAYER_ID(), false, SPC_LEAVE_CAMERA_CONTROL_ON);
bLocal_51=true;
WEAPON::SET_CURRENT_PED_WEAPON(PLAYER::PLAYER_PED_ID(), joaat("WEAPON_UNARMED"), true);
func_76(true, true, true, false, false, false, false);
GRAPHICS::ENABLE_MOVIE_SUBTITLES(true);
PAD::INIT_PC_SCRIPTED_CONTROLS("SOFA ACTIVITY");
bLocal_326=true;
iLocal_308=2;
}}else{
if(_IS_THIS_HELP_MESSAGE_BEING_DISPLAYED("TV_HLP0" /*Press ~INPUT_CONTEXT~ to sit on the couch.*/)) HUD::SET_SCRIPT_VARIABLE_HUD_COLOUR(1);
iLocal_308=0;
}}
break;
case 2:
func_75();
HUD::HIDE_HUD_AND_RADAR_THIS_FRAME();
PAD::DISABLE_CONTROL_ACTION(PLAYER_CONTROL, INPUT_NEXT_CAMERA, true);
if(CAM::GET_FOLLOW_PED_CAM_VIEW_MODE() !=FIRST_PERSON){
caLocal_327=CAM::CREATE_CAMERA(joaat("DEFAULT_SCRIPTED_CAMERA"), false);
if(Global_32224[0 /*11*/].f_2){
CAM::SET_CAM_PARAMS(caLocal_327, uLocal_358, uLocal_361, fLocal_364, 0, 1, 1, 2);
if(!AUDIO::IS_AUDIO_SCENE_ACTIVE("TV_FRANKLINS_HOUSE_SOCEN")) AUDIO::START_AUDIO_SCENE("TV_FRANKLINS_HOUSE_SOCEN");
}else{
CAM::SET_CAM_PARAMS(caLocal_327, uLocal_351, uLocal_354, fLocal_357, 0, 1, 1, 2);
}}else{
CAM::DESTROY_ALL_CAMS(false);
}
if(func_74(caLocal_327)){
CAM::SET_CAM_ACTIVE(caLocal_327, true);
CAM::SHAKE_CAM(caLocal_327, "HAND_SHAKE", 0.2f / 3f);
CAM::RENDER_SCRIPT_CAMS(true, false, 3000, true, false, 0);
}
iLocal_330=PED::CREATE_SYNCHRONIZED_SCENE(func_73(), func_72(), 2);
TASK::TASK_SYNCHRONIZED_SCENE(PLAYER::PLAYER_PED_ID(), iLocal_330, sLocal_335, "enter", 1000f, -4f, 0, 0, 1148846080, 0);
if(func_74(caLocal_327)) PED::SET_SYNCHRONIZED_SCENE_PHASE(iLocal_330, 0.278f);
else PED::SET_SYNCHRONIZED_SCENE_PHASE(iLocal_330, 0f);
if(PED::IS_SYNCHRONIZED_SCENE_HOLD_LAST_FRAME(iLocal_330)) PED::SET_SYNCHRONIZED_SCENE_HOLD_LAST_FRAME(iLocal_330, false);
PED::FORCE_PED_AI_AND_ANIMATION_UPDATE(PLAYER::PLAYER_PED_ID(), false, false);
iLocal_308=3;
break;
case 3:
func_75();
HUD::HIDE_HUD_AND_RADAR_THIS_FRAME();
PAD::DISABLE_CONTROL_ACTION(PLAYER_CONTROL, INPUT_NEXT_CAMERA, true);
if(func_74(caLocal_327))if(Global_32224[0 /*11*/].f_2) func_70(caLocal_327, uLocal_361);
else func_70(caLocal_327, uLocal_354);
if(!PED::IS_SYNCHRONIZED_SCENE_RUNNING(iLocal_330)){
iLocal_330=PED::CREATE_SYNCHRONIZED_SCENE(func_73(), func_72(), 2);
if(!Global_32224[0 /*11*/].f_2){
func_68();
TASK::TASK_SYNCHRONIZED_SCENE(PLAYER::PLAYER_PED_ID(), iLocal_330, sLocal_335, "base", 4f, -8f, 64, 0, 1148846080, 0);
ENTITY::PLAY_SYNCHRONIZED_ENTITY_ANIM(func_67(), iLocal_330, "base_remote", sLocal_335, 4f, -8f, 64, 1148846080);
PED::SET_SYNCHRONIZED_SCENE_LOOPED(iLocal_330, true);
}else{
TASK::TASK_SYNCHRONIZED_SCENE(PLAYER::PLAYER_PED_ID(), iLocal_330, sLocal_335, "tv_enter", 4f, -8f, 0, 0, 1148846080, 0);
ENTITY::PLAY_SYNCHRONIZED_ENTITY_ANIM(func_67(), iLocal_330, "tv_enter_remote", sLocal_335, 4f, -8f, 0, 1148846080);
if(PED::IS_SYNCHRONIZED_SCENE_HOLD_LAST_FRAME(iLocal_330)) PED::SET_SYNCHRONIZED_SCENE_HOLD_LAST_FRAME(iLocal_330, false);
}
Global_32209=1;
iLocal_308=4;
}
break;
case 4:
func_75();
HUD::HIDE_HUD_AND_RADAR_THIS_FRAME();
PAD::DISABLE_CONTROL_ACTION(PLAYER_CONTROL, INPUT_NEXT_CAMERA, true);
if(!Global_32224[0 /*11*/].f_2){
func_87("TV_HLP3" /*Press ~INPUT_CONTEXT~ to watch the TV.~n~Press ~INPUT_SCRIPT_RLEFT~ to smoke.~n~Press ~INPUT_SCRIPT_RUP~ to stand up.~n~*/);
if(func_74(caLocal_327)) CAM::SHAKE_CAM(caLocal_327, "HAND_SHAKE", 0.2f / 3f);
iLocal_308=5;
}else{
if(_IS_THIS_HELP_MESSAGE_BEING_DISPLAYED("TV_HLP3" /*Press ~INPUT_CONTEXT~ to watch the TV.~n~Press ~INPUT_SCRIPT_RLEFT~ to smoke.~n~Press ~INPUT_SCRIPT_RUP~ to stand up.~n~*/)) HUD::SET_SCRIPT_VARIABLE_HUD_COLOUR(1);
if(PED::GET_SYNCHRONIZED_SCENE_PHASE(iLocal_330) > 0.2f){
if(!_IS_THIS_HELP_MESSAGE_BEING_DISPLAYED("TV_HLP4" /*Use ~INPUT_SCRIPT_LEFT_AXIS_X~ to change the channel.~n~Use ~INPUT_SCRIPT_LEFT_AXIS_Y~ to change the volume.~n~Press ~INPUT_CONTEXT~ to stop watching.~n~Press ~INPUT_SCRIPT_RLEFT~ to smoke.~n~Press ~INPUT_SCRIPT_RUP~ to stand up.~n~*/)) func_87("TV_HLP4" /*Use ~INPUT_SCRIPT_LEFT_AXIS_X~ to change the channel.~n~Use ~INPUT_SCRIPT_LEFT_AXIS_Y~ to change the volume.~n~Press ~INPUT_CONTEXT~ to stop watching.~n~Press ~INPUT_SCRIPT_RLEFT~ to smoke.~n~Press ~INPUT_SCRIPT_RUP~ to stand up.~n~*/);
if(func_74(caLocal_327)) CAM::SHAKE_CAM(caLocal_327, "HAND_SHAKE", 0.2f / 3f);
iLocal_308=6;
}}
break;
case 5:
func_75();
HUD::HIDE_HUD_AND_RADAR_THIS_FRAME();
PAD::DISABLE_CONTROL_ACTION(PLAYER_CONTROL, INPUT_NEXT_CAMERA, true);
func_65();
if(func_74(caLocal_327)) func_70(caLocal_327, uLocal_354);
if(!_IS_THIS_HELP_MESSAGE_BEING_DISPLAYED("TV_HLP3" /*Press ~INPUT_CONTEXT~ to watch the TV.~n~Press ~INPUT_SCRIPT_RLEFT~ to smoke.~n~Press ~INPUT_SCRIPT_RUP~ to stand up.~n~*/)) func_87("TV_HLP3" /*Press ~INPUT_CONTEXT~ to watch the TV.~n~Press ~INPUT_SCRIPT_RLEFT~ to smoke.~n~Press ~INPUT_SCRIPT_RUP~ to stand up.~n~*/);
if(PAD::IS_CONTROL_JUST_PRESSED(FRONTEND_CONTROL, INPUT_CONTEXT)){
if(!bLocal_324){
if(STATS::STAT_GET_INT(joaat("NUM_SH_TV_WATCHED"), &iLocal_333, -1)){
STATS::STAT_SET_INT(joaat("NUM_SH_TV_WATCHED"), iLocal_333 + 1, true);
bLocal_324=true;
}}
if(!AUDIO::IS_AUDIO_SCENE_ACTIVE("TV_FRANKLINS_HOUSE_SOCEN")) AUDIO::START_AUDIO_SCENE("TV_FRANKLINS_HOUSE_SOCEN");
iLocal_330=PED::CREATE_SYNCHRONIZED_SCENE(func_73(), func_72(), 2);
TASK::TASK_SYNCHRONIZED_SCENE(PLAYER::PLAYER_PED_ID(), iLocal_330, sLocal_335, "tv_enter", 8f, -8f, 0, 0, 1148846080, 0);
ENTITY::PLAY_SYNCHRONIZED_ENTITY_ANIM(func_67(), iLocal_330, "tv_enter_remote", sLocal_335, 8f, -8f, 0, 1148846080);
if(PED::IS_SYNCHRONIZED_SCENE_HOLD_LAST_FRAME(iLocal_330)) PED::SET_SYNCHRONIZED_SCENE_HOLD_LAST_FRAME(iLocal_330, false);
iLocal_308=6;
}elseif(PAD::IS_CONTROL_JUST_PRESSED(FRONTEND_CONTROL, INPUT_SCRIPT_RUP)){
func_64();
iLocal_330=PED::CREATE_SYNCHRONIZED_SCENE(func_73(), func_72(), 2);
TASK::TASK_SYNCHRONIZED_SCENE(PLAYER::PLAYER_PED_ID(), iLocal_330, sLocal_335, "exit", 8f, -8f, 0, 0, 1148846080, 0);
if(PED::IS_SYNCHRONIZED_SCENE_HOLD_LAST_FRAME(iLocal_330)) PED::SET_SYNCHRONIZED_SCENE_HOLD_LAST_FRAME(iLocal_330, false);
iLocal_308=12;
}
break;
case 6:
func_75();
HUD::HIDE_HUD_AND_RADAR_THIS_FRAME();
PAD::DISABLE_CONTROL_ACTION(PLAYER_CONTROL, INPUT_NEXT_CAMERA, true);
if(PED::GET_SYNCHRONIZED_SCENE_PHASE(iLocal_330) > 0.6f){
iLocal_330=PED::CREATE_SYNCHRONIZED_SCENE(func_73(), func_72(), 2);
TASK::TASK_SYNCHRONIZED_SCENE(PLAYER::PLAYER_PED_ID(), iLocal_330, sLocal_335, "tv_base", 4f, -8f, 64, 0, 1148846080, 0);
ENTITY::PLAY_SYNCHRONIZED_ENTITY_ANIM(func_67(), iLocal_330, "tv_base_remote", sLocal_335, 4f, -8f, 0, 1148846080);
PED::SET_SYNCHRONIZED_SCENE_LOOPED(iLocal_330, true);
if(func_74(caLocal_327)){
CAM::SET_CAM_PARAMS(caLocal_327, uLocal_358, uLocal_361, fLocal_364, 0, 1, 1, 2);
CAM::SHAKE_CAM(caLocal_327, "HAND_SHAKE", 0.2f / 3f);
}
iLocal_308=7;
}elseif(!Global_32224[0 /*11*/].f_2){
if(func_74(caLocal_327)) func_70(caLocal_327, uLocal_354);
if(PED::GET_SYNCHRONIZED_SCENE_PHASE(iLocal_330) > 0.5f){
func_60(0, 0, 1, 0, 0);
func_87("TV_HLP4" /*Use ~INPUT_SCRIPT_LEFT_AXIS_X~ to change the channel.~n~Use ~INPUT_SCRIPT_LEFT_AXIS_Y~ to change the volume.~n~Press ~INPUT_CONTEXT~ to stop watching.~n~Press ~INPUT_SCRIPT_RLEFT~ to smoke.~n~Press ~INPUT_SCRIPT_RUP~ to stand up.~n~*/);
if(!AUDIO::IS_AUDIO_SCENE_ACTIVE("TV_FRANKLINS_HOUSE_SOCEN")) AUDIO::START_AUDIO_SCENE("TV_FRANKLINS_HOUSE_SOCEN");
}}
break;
case 7:
func_75();
HUD::HIDE_HUD_AND_RADAR_THIS_FRAME();
PAD::DISABLE_CONTROL_ACTION(PLAYER_CONTROL, INPUT_NEXT_CAMERA, true);
func_65();
if(func_74(caLocal_327)) func_70(caLocal_327, uLocal_361);
func_59(false, true);
GRAPHICS::SET_TV_PLAYER_WATCHING_THIS_FRAME(PLAYER::PLAYER_PED_ID());
if(!_CONVERSATION_IS_DIALOGUE_IN_PROGRESS()) GRAPHICS::ENABLE_MOVIE_SUBTITLES(true);
if(PAD::IS_CONTROL_JUST_PRESSED(FRONTEND_CONTROL, INPUT_CONTEXT)){
iLocal_330=PED::CREATE_SYNCHRONIZED_SCENE(func_73(), func_72(), 2);
TASK::TASK_SYNCHRONIZED_SCENE(PLAYER::PLAYER_PED_ID(), iLocal_330, sLocal_335, "tv_exit", 8f, -8f, 0, 0, 1148846080, 0);
ENTITY::PLAY_SYNCHRONIZED_ENTITY_ANIM(func_67(), iLocal_330, "tv_exit_remote", sLocal_335, 8f, -8f, 0, 1148846080);
if(PED::IS_SYNCHRONIZED_SCENE_HOLD_LAST_FRAME(iLocal_330)) PED::SET_SYNCHRONIZED_SCENE_HOLD_LAST_FRAME(iLocal_330, false);
bLocal_318=true;
iLocal_308=9;
}elseif(PAD::IS_CONTROL_JUST_PRESSED(FRONTEND_CONTROL, INPUT_SCRIPT_RUP)){
func_64();
iLocal_330=PED::CREATE_SYNCHRONIZED_SCENE(func_73(), func_72(), 2);
TASK::TASK_SYNCHRONIZED_SCENE(PLAYER::PLAYER_PED_ID(), iLocal_330, sLocal_335, "tv_exit", 8f, -8f, 0, 0, 1148846080, 0);
ENTITY::PLAY_SYNCHRONIZED_ENTITY_ANIM(func_67(), iLocal_330, "tv_exit_remote", sLocal_335, 8f, -8f, 0, 1148846080);
if(PED::IS_SYNCHRONIZED_SCENE_HOLD_LAST_FRAME(iLocal_330)) PED::SET_SYNCHRONIZED_SCENE_HOLD_LAST_FRAME(iLocal_330, false);
iLocal_308=11;
}elseif(func_57(false)){
iLocal_330=PED::CREATE_SYNCHRONIZED_SCENE(func_73(), func_72(), 2);
TASK::TASK_SYNCHRONIZED_SCENE(PLAYER::PLAYER_PED_ID(), iLocal_330, sLocal_335, "tv_idle_a", 8f, -8f, 0, 0, 1148846080, 0);
ENTITY::PLAY_SYNCHRONIZED_ENTITY_ANIM(func_67(), iLocal_330, "tv_idle_a_remote", sLocal_335, 8f, -8f, 0, 1148846080);
if(PED::IS_SYNCHRONIZED_SCENE_HOLD_LAST_FRAME(iLocal_330)) PED::SET_SYNCHRONIZED_SCENE_HOLD_LAST_FRAME(iLocal_330, false);
bLocal_319=true;
iLocal_308=8;
}
break;
case 8:
func_75();
HUD::HIDE_HUD_AND_RADAR_THIS_FRAME();
PAD::DISABLE_CONTROL_ACTION(PLAYER_CONTROL, INPUT_NEXT_CAMERA, true);
if(func_74(caLocal_327)) func_70(caLocal_327, uLocal_361);
GRAPHICS::SET_TV_PLAYER_WATCHING_THIS_FRAME(PLAYER::PLAYER_PED_ID());
if(PED::IS_SYNCHRONIZED_SCENE_RUNNING(iLocal_330)){
if(bLocal_319){
synchronizedScenePhase=PED::GET_SYNCHRONIZED_SCENE_PHASE(iLocal_330);
if(synchronizedScenePhase > 0.3f){
if(GRAPHICS::GET_TV_CHANNEL()==0) GRAPHICS::SET_TV_CHANNEL(1);
else GRAPHICS::SET_TV_CHANNEL(0);
bLocal_319=false;
}}}else{
iLocal_330=PED::CREATE_SYNCHRONIZED_SCENE(func_73(), func_72(), 2);
TASK::TASK_SYNCHRONIZED_SCENE(PLAYER::PLAYER_PED_ID(), iLocal_330, sLocal_335, "tv_base", 8f, -8f, 64, 0, 1148846080, 0);
ENTITY::PLAY_SYNCHRONIZED_ENTITY_ANIM(func_67(), iLocal_330, "tv_base_remote", sLocal_335, 8f, -8f, 64, 1148846080);
PED::SET_SYNCHRONIZED_SCENE_LOOPED(iLocal_330, true);
iLocal_308=7;
}
break;
case 9:
func_75();
HUD::HIDE_HUD_AND_RADAR_THIS_FRAME();
PAD::DISABLE_CONTROL_ACTION(PLAYER_CONTROL, INPUT_NEXT_CAMERA, true);
if(PED::GET_SYNCHRONIZED_SCENE_PHASE(iLocal_330) < 0.9f){
if(bLocal_318){
if(PED::GET_SYNCHRONIZED_SCENE_PHASE(iLocal_330) > 0.5f){
func_56(0);
if(AUDIO::IS_AUDIO_SCENE_ACTIVE("TV_FRANKLINS_HOUSE_SOCEN")) AUDIO::STOP_AUDIO_SCENE("TV_FRANKLINS_HOUSE_SOCEN");
if(_IS_THIS_HELP_MESSAGE_BEING_DISPLAYED("TV_HLP4" /*Use ~INPUT_SCRIPT_LEFT_AXIS_X~ to change the channel.~n~Use ~INPUT_SCRIPT_LEFT_AXIS_Y~ to change the volume.~n~Press ~INPUT_CONTEXT~ to stop watching.~n~Press ~INPUT_SCRIPT_RLEFT~ to smoke.~n~Press ~INPUT_SCRIPT_RUP~ to stand up.~n~*/)) HUD::SET_SCRIPT_VARIABLE_HUD_COLOUR(1);
bLocal_318=false;
}}}else{
iLocal_330=PED::CREATE_SYNCHRONIZED_SCENE(func_73(), func_72(), 2);
TASK::TASK_SYNCHRONIZED_SCENE(PLAYER::PLAYER_PED_ID(), iLocal_330, sLocal_335, "base", 8f, -8f, 64, 0, 1148846080, 0);
ENTITY::PLAY_SYNCHRONIZED_ENTITY_ANIM(func_67(), iLocal_330, "base_remote", sLocal_335, 8f, -8f, 64, 1148846080);
PED::SET_SYNCHRONIZED_SCENE_LOOPED(iLocal_330, true);
if(func_74(caLocal_327)) CAM::SET_CAM_PARAMS(caLocal_327, uLocal_351, uLocal_354, fLocal_357, 0, 1, 1, 2);
iLocal_308=4;
}
break;
case 10:
func_75();
HUD::HIDE_HUD_AND_RADAR_THIS_FRAME();
PAD::DISABLE_CONTROL_ACTION(PLAYER_CONTROL, INPUT_NEXT_CAMERA, true);
if(Global_32224[0 /*11*/].f_2){
if(func_74(caLocal_327)) func_70(caLocal_327, uLocal_361);
GRAPHICS::SET_TV_PLAYER_WATCHING_THIS_FRAME(PLAYER::PLAYER_PED_ID());
}elseif(func_74(caLocal_327)){
func_70(caLocal_327, uLocal_375);
}
switch (iLocal_309){
case 0:
if(_IS_THIS_HELP_MESSAGE_BEING_DISPLAYED("TV_HLP4" /*Use ~INPUT_SCRIPT_LEFT_AXIS_X~ to change the channel.~n~Use ~INPUT_SCRIPT_LEFT_AXIS_Y~ to change the volume.~n~Press ~INPUT_CONTEXT~ to stop watching.~n~Press ~INPUT_SCRIPT_RLEFT~ to smoke.~n~Press ~INPUT_SCRIPT_RUP~ to stand up.~n~*/) || _IS_THIS_HELP_MESSAGE_BEING_DISPLAYED("TV_HLP3" /*Press ~INPUT_CONTEXT~ to watch the TV.~n~Press ~INPUT_SCRIPT_RLEFT~ to smoke.~n~Press ~INPUT_SCRIPT_RUP~ to stand up.~n~*/)) HUD::SET_SCRIPT_VARIABLE_HUD_COLOUR(1);
iLocal_330=PED::CREATE_SYNCHRONIZED_SCENE(func_73(), func_72(), 2);
TASK::TASK_SYNCHRONIZED_SCENE(PLAYER::PLAYER_PED_ID(), iLocal_330, sLocal_335, "tv_exit", 8f, -8f, 0, 0, 1148846080, 0);
ENTITY::PLAY_SYNCHRONIZED_ENTITY_ANIM(func_67(), iLocal_330, "tv_exit_remote", sLocal_335, 8f, -8f, 0, 1148846080);
if(PED::IS_SYNCHRONIZED_SCENE_HOLD_LAST_FRAME(iLocal_330)) PED::SET_SYNCHRONIZED_SCENE_HOLD_LAST_FRAME(iLocal_330, false);
iLocal_309=1;
break;
case 1:
if(_IS_THIS_HELP_MESSAGE_BEING_DISPLAYED("TV_HLP4" /*Use ~INPUT_SCRIPT_LEFT_AXIS_X~ to change the channel.~n~Use ~INPUT_SCRIPT_LEFT_AXIS_Y~ to change the volume.~n~Press ~INPUT_CONTEXT~ to stop watching.~n~Press ~INPUT_SCRIPT_RLEFT~ to smoke.~n~Press ~INPUT_SCRIPT_RUP~ to stand up.~n~*/) || _IS_THIS_HELP_MESSAGE_BEING_DISPLAYED("TV_HLP3" /*Press ~INPUT_CONTEXT~ to watch the TV.~n~Press ~INPUT_SCRIPT_RLEFT~ to smoke.~n~Press ~INPUT_SCRIPT_RUP~ to stand up.~n~*/)) HUD::SET_SCRIPT_VARIABLE_HUD_COLOUR(1);
if(!PED::IS_SYNCHRONIZED_SCENE_RUNNING(iLocal_330) || bLocal_314){
iLocal_330=PED::CREATE_SYNCHRONIZED_SCENE(func_73(), func_72(), 2);
TASK::TASK_SYNCHRONIZED_SCENE(PLAYER::PLAYER_PED_ID(), iLocal_330, sLocal_335, "blunt_enter", 8f, -8f, 0, 0, 1148846080, 0);
ENTITY::PLAY_SYNCHRONIZED_ENTITY_ANIM(func_55(), iLocal_330, "blunt_enter_joint", sLocal_335, 1000f, -1000f, 0, 1148846080);
ENTITY::PLAY_SYNCHRONIZED_ENTITY_ANIM(func_53(), iLocal_330, "blunt_enter_lighter", sLocal_335, 8f, -8f, 0, 1148846080);
if(!Global_32224[0 /*11*/].f_2)if(func_74(caLocal_327)) CAM::SET_CAM_PARAMS(caLocal_327, uLocal_372, uLocal_375, fLocal_378, 0, 1, 1, 2);
if(PED::IS_SYNCHRONIZED_SCENE_HOLD_LAST_FRAME(iLocal_330)) PED::SET_SYNCHRONIZED_SCENE_HOLD_LAST_FRAME(iLocal_330, false);
bLocal_314=false;
iLocal_309=2;
}
break;
case 2:
if(PED::IS_SYNCHRONIZED_SCENE_RUNNING(iLocal_330)){
if(PED::GET_SYNCHRONIZED_SCENE_PHASE(iLocal_330) > 0.55f)if(_CONVERSATION_IS_DIALOGUE_IN_PROGRESS()) func_51();
func_50(0);
}else{
iLocal_330=PED::CREATE_SYNCHRONIZED_SCENE(func_73(), func_72(), 2);
bLocal_320=_GET_RANDOM_BOOL();
if(bLocal_320){
TASK::TASK_SYNCHRONIZED_SCENE(PLAYER::PLAYER_PED_ID(), iLocal_330, sLocal_335, "blunt_idle_a", 8f, -8f, 0, 0, 1148846080, 0);
ENTITY::PLAY_SYNCHRONIZED_ENTITY_ANIM(func_55(), iLocal_330, "blunt_idle_a_joint", sLocal_335, 1000f, -1000f, 0, 1148846080);
ENTITY::PLAY_SYNCHRONIZED_ENTITY_ANIM(func_53(), iLocal_330, "blunt_idle_a_lighter", sLocal_335, 8f, -8f, 0, 1148846080);
}
else{
TASK::TASK_SYNCHRONIZED_SCENE(PLAYER::PLAYER_PED_ID(), iLocal_330, sLocal_335, "blunt_idle_b", 8f, -8f, 0, 0, 1148846080, 0);
ENTITY::PLAY_SYNCHRONIZED_ENTITY_ANIM(func_55(), iLocal_330, "blunt_idle_b_joint", sLocal_335, 1000f, -1000f, 0, 1148846080);
ENTITY::PLAY_SYNCHRONIZED_ENTITY_ANIM(func_53(), iLocal_330, "blunt_idle_b_lighter", sLocal_335, 8f, -8f, 0, 1148846080);
}
if(PED::IS_SYNCHRONIZED_SCENE_HOLD_LAST_FRAME(iLocal_330)) PED::SET_SYNCHRONIZED_SCENE_HOLD_LAST_FRAME(iLocal_330, false);
func_48();
iLocal_309=3;
}
break;
case 3:
if(PED::IS_SYNCHRONIZED_SCENE_RUNNING(iLocal_330)){
func_46();
if(bLocal_320) func_50(1);
else func_50(2);
if(bLocal_315){
if(!bLocal_316){
synchronizedScenePhase=PED::GET_SYNCHRONIZED_SCENE_PHASE(iLocal_330);
if(iLocal_331==0)if(ENTITY::FIND_ANIM_EVENT_PHASE(func_45(), "blunt_idle_a", func_44(), &num, &num2))if(synchronizedScenePhase >=num && synchronizedScenePhase <=num2) bLocal_316=true;
elseif(ENTITY::FIND_ANIM_EVENT_PHASE(func_45(), "blunt_idle_b", func_44(), &num, &num2))if(synchronizedScenePhase >=num && synchronizedScenePhase <=num2) bLocal_316=true;
}else{
iLocal_330=PED::CREATE_SYNCHRONIZED_SCENE(func_73(), func_72(), 2);
TASK::TASK_SYNCHRONIZED_SCENE(PLAYER::PLAYER_PED_ID(), iLocal_330, sLocal_335, "blunt_interrupt", 8f, -8f, 0, 0, 1148846080, 0);
ENTITY::PLAY_SYNCHRONIZED_ENTITY_ANIM(func_55(), iLocal_330, "blunt_interrupt_joint", sLocal_335, 1000f, -1000f, 0, 1148846080);
ENTITY::PLAY_SYNCHRONIZED_ENTITY_ANIM(func_53(), iLocal_330, "blunt_interrupt_lighter", sLocal_335, 8f, -8f, 0, 1148846080);
if(PED::IS_SYNCHRONIZED_SCENE_HOLD_LAST_FRAME(iLocal_330)) PED::SET_SYNCHRONIZED_SCENE_HOLD_LAST_FRAME(iLocal_330, false);
if(!bLocal_323){
if(func_74(caLocal_327)) func_24(PLAYER::PLAYER_PED_ID(), caLocal_327, 1, 0, -1);
else func_24(PLAYER::PLAYER_PED_ID(), 0, 1, 0, -1);
iLocal_54=iLocal_54 + 1;
bLocal_323=true;
}
bLocal_315=false;
iLocal_308=12;
}
}}else{
func_48();
iLocal_330=PED::CREATE_SYNCHRONIZED_SCENE(func_73(), func_72(), 2);
TASK::TASK_SYNCHRONIZED_SCENE(PLAYER::PLAYER_PED_ID(), iLocal_330, sLocal_335, "blunt_exit", 8f, -8f, 0, 0, 1148846080, 0);
ENTITY::PLAY_SYNCHRONIZED_ENTITY_ANIM(func_55(), iLocal_330, "blunt_exit_joint", sLocal_335, 1000f, -1000f, 0, 1148846080);
ENTITY::PLAY_SYNCHRONIZED_ENTITY_ANIM(func_53(), iLocal_330, "blunt_exit_lighter", sLocal_335, 8f, -8f, 0, 1148846080);
if(PED::IS_SYNCHRONIZED_SCENE_HOLD_LAST_FRAME(iLocal_330)) PED::SET_SYNCHRONIZED_SCENE_HOLD_LAST_FRAME(iLocal_330, false);
if(!bLocal_323){
if(func_74(caLocal_327)) func_24(PLAYER::PLAYER_PED_ID(), caLocal_327, 1, 0, -1);
else func_24(PLAYER::PLAYER_PED_ID(), 0, 1, 0, -1);
iLocal_54=iLocal_54 + 1;
bLocal_323=true;
}
if(Global_32224[0 /*11*/].f_2) iLocal_309=4;
else iLocal_309=5;
}
break;
case 4:
if(!PED::IS_SYNCHRONIZED_SCENE_RUNNING(iLocal_330)){
iLocal_330=PED::CREATE_SYNCHRONIZED_SCENE(func_73(), func_72(), 2);
TASK::TASK_SYNCHRONIZED_SCENE(PLAYER::PLAYER_PED_ID(), iLocal_330, sLocal_335, "tv_enter", 8f, -8f, 0, 0, 1148846080, 0);
ENTITY::PLAY_SYNCHRONIZED_ENTITY_ANIM(func_67(), iLocal_330, "tv_enter_remote", sLocal_335, 8f, -8f, 0, 1148846080);
if(PED::IS_SYNCHRONIZED_SCENE_HOLD_LAST_FRAME(iLocal_330)) PED::SET_SYNCHRONIZED_SCENE_HOLD_LAST_FRAME(iLocal_330, false);
iLocal_309=5;
}else{
func_50(3);
}
break;
case 5:
if(!PED::IS_SYNCHRONIZED_SCENE_RUNNING(iLocal_330)){
func_48();
bLocal_323=false;
iLocal_330=PED::CREATE_SYNCHRONIZED_SCENE(func_73(), func_72(), 2);
if(Global_32224[0 /*11*/].f_2){
TASK::TASK_SYNCHRONIZED_SCENE(PLAYER::PLAYER_PED_ID(), iLocal_330, sLocal_335, "tv_base", 8f, -8f, 64, 0, 1148846080, 0);
ENTITY::PLAY_SYNCHRONIZED_ENTITY_ANIM(func_67(), iLocal_330, "tv_base_remote", sLocal_335, 8f, -8f, 64, 1148846080);
PED::SET_SYNCHRONIZED_SCENE_LOOPED(iLocal_330, true);
func_87("TV_HLP4" /*Use ~INPUT_SCRIPT_LEFT_AXIS_X~ to change the channel.~n~Use ~INPUT_SCRIPT_LEFT_AXIS_Y~ to change the volume.~n~Press ~INPUT_CONTEXT~ to stop watching.~n~Press ~INPUT_SCRIPT_RLEFT~ to smoke.~n~Press ~INPUT_SCRIPT_RUP~ to stand up.~n~*/);
iLocal_308=7;
}
else{
TASK::TASK_SYNCHRONIZED_SCENE(PLAYER::PLAYER_PED_ID(), iLocal_330, sLocal_335, "base", 8f, -8f, 64, 0, 1148846080, 0);
ENTITY::PLAY_SYNCHRONIZED_ENTITY_ANIM(func_67(), iLocal_330, "base_remote", sLocal_335, 8f, -8f, 64, 1148846080);
if(func_74(caLocal_327)) CAM::SET_CAM_PARAMS(caLocal_327, uLocal_351, uLocal_354, fLocal_357, 0, 1, 1, 2);
PED::SET_SYNCHRONIZED_SCENE_LOOPED(iLocal_330, true);
func_87("TV_HLP3" /*Press ~INPUT_CONTEXT~ to watch the TV.~n~Press ~INPUT_SCRIPT_RLEFT~ to smoke.~n~Press ~INPUT_SCRIPT_RUP~ to stand up.~n~*/);
iLocal_308=5;
}}else{
func_50(3);
}
break;
}
break;
case 11:
func_75();
HUD::HIDE_HUD_AND_RADAR_THIS_FRAME();
PAD::DISABLE_CONTROL_ACTION(PLAYER_CONTROL, INPUT_NEXT_CAMERA, true);
if(!PED::IS_SYNCHRONIZED_SCENE_RUNNING(iLocal_330)){
func_64();
iLocal_330=PED::CREATE_SYNCHRONIZED_SCENE(func_73(), func_72(), 2);
TASK::TASK_SYNCHRONIZED_SCENE(PLAYER::PLAYER_PED_ID(), iLocal_330, sLocal_335, "exit", 8f, -8f, 0, 0, 1148846080, 0);
if(PED::IS_SYNCHRONIZED_SCENE_HOLD_LAST_FRAME(iLocal_330)) PED::SET_SYNCHRONIZED_SCENE_HOLD_LAST_FRAME(iLocal_330, false);
iLocal_308=12;
}
break;
case 12:
func_75();
HUD::HIDE_HUD_AND_RADAR_THIS_FRAME();
PAD::DISABLE_CONTROL_ACTION(PLAYER_CONTROL, INPUT_NEXT_CAMERA, true);
if(AUDIO::IS_AUDIO_SCENE_ACTIVE("TV_FRANKLINS_HOUSE_SOCEN")) AUDIO::STOP_AUDIO_SCENE("TV_FRANKLINS_HOUSE_SOCEN");
if(PED::GET_SYNCHRONIZED_SCENE_PHASE(iLocal_330) > 0.95f){
iLocal_308=13;
}else{
func_50(3);
func_46();
if(!bLocal_317){
if(func_74(caLocal_327)) CAM::STOP_RENDERING_SCRIPT_CAMS_USING_CATCH_UP(false, 0, 3, 0);
PLAYER::SET_PLAYER_CONTROL(PLAYER::PLAYER_ID(), false, SPC_LEAVE_CAMERA_CONTROL_ON);
bLocal_317=true;
}
if(bLocal_315){
synchronizedScenePhase=PED::GET_SYNCHRONIZED_SCENE_PHASE(iLocal_330);
if(ENTITY::FIND_ANIM_EVENT_PHASE(func_45(), "exit", "WalkInterruptible", &num3, &num4) || ENTITY::FIND_ANIM_EVENT_PHASE(func_45(), "exit_drunk", "WalkInterruptible", &num3, &num4)){
if(synchronizedScenePhase >=num3 && synchronizedScenePhase <=num4){
TASK::CLEAR_PED_TASKS(PLAYER::PLAYER_PED_ID());
iLocal_308=13;
}}}}
break;
case 13:
BRAIN::REACTIVATE_NAMED_WORLD_BRAINS_WAITING_TILL_OUT_OF_RANGE("chop");
if(!bLocal_317 && func_74(caLocal_327)) CAM::STOP_RENDERING_SCRIPT_CAMS_USING_CATCH_UP(false, 0, 3, 0);
if(STATS::STAT_GET_INT(joaat("NUM_SH_SOFA_USED"), &iLocal_334, -1)) STATS::STAT_SET_INT(joaat("NUM_SH_SOFA_USED"), iLocal_334 + 1, true);
PLAYER::SET_PLAYER_CONTROL(PLAYER::PLAYER_ID(), true, 0);
bLocal_51=false;
if(Global_32224[0 /*11*/].f_2) func_23(0);
if(bLocal_326){
PAD::SHUTDOWN_PC_SCRIPTED_CONTROLS();
bLocal_326=false;
}
Global_32209=0;
bLocal_315=false;
bLocal_316=false;
bLocal_323=false;
bLocal_324=false;
bLocal_317=false;
func_76(false, true, true, false, false, false, false);
iLocal_308=0;
break;
}
return;
}


void func_23(int iParam0) // Position - 0x223E{
if(iParam0 !=-1){
Global_32224[iParam0 /*11*/].f_5=0;
if(Global_32224[iParam0 /*11*/].f_2 && Global_32224[iParam0 /*11*/].f_7==0) Global_32224[iParam0 /*11*/].f_7=1;
Global_32224[iParam0 /*11*/].f_8=0;
}
return;
}


void func_24(Ped pedParam0, Cam caParam1, int iParam2, int iParam3, int iParam4) // Position - 0x2286{
int num;
int num2;
int num3;
int num4;
int num5;
int num6;
int num7;
int num8;
if(pedParam0==0) return;
if(!ENTITY::DOES_ENTITY_EXIST(pedParam0)) return;
if(func_43(pedParam0) + iParam2 > 10) iParam2=10 - func_43(pedParam0);
num=20000;
if(iParam4 !=-1) num=iParam4;
num2=num;
if(NETWORK::NETWORK_IS_GAME_IN_PROGRESS() && iParam4==-1) num2=num2 * 3;
if(!func_41(pedParam0)){
func_39(pedParam0, num2, false);
func_36(num2, num2, 0.3f, func_37(), caParam1, false);
num3=func_35(pedParam0);
if(num3==-1){
num4=func_34(num3);
if(!num4==-1) Global_44232[num4 /*5*/].f_4=Global_44232[num4 /*5*/].f_4 + iParam2;
}}else{
num5=func_35(pedParam0);
num6=-1;
if(num5==-1){
num6=func_34(num5);
if(!num6==-1) Global_44232[num6 /*5*/].f_4=Global_44232[num6 /*5*/].f_4 + iParam2;
}
if(Global_44413==0 || Global_44413 <=MISC::GET_GAME_TIMER()){
func_36(num2, num2, 0.3f, func_37(), caParam1, false);
}else{
Global_44413=Global_44413 + num2;
func_31(pedParam0, num2);
}}
Global_44419=0.25f;
TEXT_LABEL_ASSIGN_STRING(&Global_44420, func_30(iParam3), 16);
num7=func_35(pedParam0);
if(num7==-1){
num8=func_34(num7);
!num8==-1;
return;
}
func_25(1, num7, 4, pedParam0, iParam2);
return;
}


void func_25(int iParam0, int iParam1, int iParam2, Ped pedParam3, int iParam4) // Position - 0x23F8{
func_26(iParam0, iParam1, iParam2, pedParam3, 0, iParam4);
return;
}


void func_26(int iParam0, int iParam1, int iParam2, Ped pedParam3, int iParam4, int iParam5) // Position - 0x240F{
int num;
if(iParam0==-1) return;
if(iParam1==-1) return;
if(iParam2==6) return;
if(func_28(iParam0, iParam1, iParam2)) return;
num=func_27();
if(num==-1) return;
Global_44313[num /*6*/]=iParam0;
Global_44313[num /*6*/].f_1=iParam1;
Global_44313[num /*6*/].f_2=iParam2;
Global_44313[num /*6*/].f_3=pedParam3;
Global_44313[num /*6*/].f_4=iParam4;
Global_44313[num /*6*/].f_5=iParam5;
return;
}

int func_27() // Position - 0x2491{
int i;
i=0;
for (i=0;
i < 16;
i=i + 1){
if(Global_44313[i /*6*/].f_2==6) return i;
}
return -1;
}
BOOL func_28(int iParam0, int iParam1, int iParam2) // Position - 0x24C2{
if(func_29(iParam0, iParam1, iParam2)==-1) return false;
return true;
}

int func_29(int iParam0, int iParam1, int iParam2) // Position - 0x24DD{
int i;
i=0;
for (i=0;
i < 16;
i=i + 1){
if(iParam2==Global_44313[i /*6*/].f_2)if(iParam0==Global_44313[i /*6*/])if(iParam1==Global_44313[i /*6*/].f_1) return i;
}
return -1;
}


char* func_30(int iParam0) // Position - 0x2529{
switch (iParam0){
case 0:
return "STONED";
case 1:
return "FixerShortTrip";
default:
}
return "INVALID_SMOKING_EFFECT";
}


void func_31(Ped pedParam0, int iParam1) // Position - 0x2556{
int num;
int num2;
if(pedParam0==0) return;
if(!ENTITY::DOES_ENTITY_EXIST(pedParam0)) return;
if(iParam1 < 0) return;
num=func_35(pedParam0);
num2=-1;
if(num==-1){
num2=func_33(pedParam0);
if(!num2==-1){
Global_44206[num2 /*5*/].f_3=Global_44206[num2 /*5*/].f_3 + iParam1;
Global_44206[num2 /*5*/].f_2=Global_44206[num2 /*5*/].f_2 + iParam1;
}
return;
}
func_32(1, num, 2, iParam1);
return;
}


void func_32(int iParam0, int iParam1, int iParam2, int iParam3) // Position - 0x25D5{
func_26(iParam0, iParam1, iParam2, 0, iParam3, 1);
return;
}

int func_33(Ped pedParam0) // Position - 0x25EB{
int i;
i=0;
for (i=0;
i < 5;
i=i + 1){
if(Global_44206[i /*5*/].f_1==pedParam0) return i;
}
return -1;
}

int func_34(int iParam0) // Position - 0x261C{
int i;
i=0;
for (i=0;
i < 16;
i=i + 1){
if(Global_44232[i /*5*/]==iParam0) return i;
}
return -1;
}

int func_35(Ped pedParam0) // Position - 0x264C{
int i;
if(pedParam0==0) return -1;
i=0;
for (i=0;
i < 16;
i=i + 1){
if(pedParam0==Global_44232[i /*5*/].f_1) return Global_44232[i /*5*/];
}
return -1;
}


void func_36(int iParam0, int iParam1, float fParam2, float fParam3, Cam caParam4, BOOL bParam5) // Position - 0x268D{
int gameTimer;
if(Global_3) return;
if(Global_44411) return;
if(!bParam5)if(iParam0 < 0) return;
if(fParam2 < 0f || fParam2 > 5f) return;
if(!CAM::IS_GAMEPLAY_CAM_SHAKING()) CAM::SHAKE_GAMEPLAY_CAM("DRUNK_SHAKE", fParam3);
if(!CAM::IS_CINEMATIC_CAM_SHAKING()) CAM::SHAKE_CINEMATIC_CAM("DRUNK_SHAKE", fParam3 * Global_44410);
if(CAM::DOES_CAM_EXIST(caParam4)){
CAM::SHAKE_CAM(caParam4, "DRUNK_SHAKE", fParam3);
Global_44412=caParam4;
}else{
Global_44412=0;
}
Global_44411=true;
gameTimer=MISC::GET_GAME_TIMER();
Global_44413=gameTimer + iParam0;
if(bParam5)if(iParam0==-1) Global_44413=-1;
Global_44414=iParam1;
Global_44415=fParam2;
Global_44417=fParam3;
Global_44416=fParam3;
return;
}


float func_37() // Position - 0x2748{
float num;
int value;
int value2;
num=0.1f;
value=func_38(PLAYER::PLAYER_PED_ID());
value2=func_43(PLAYER::PLAYER_PED_ID());
if(value2==0){
if(value==0){
num=0.1f;
}else{
num=SYSTEM::TO_FLOAT(value) / SYSTEM::TO_FLOAT(10);
if(num > 1f) num=1f;
}}elseif(value2==0){
num=0.1f;
}else{
num=SYSTEM::TO_FLOAT(value2) / SYSTEM::TO_FLOAT(5);
if(num > 1f) num=1f;
}
return num;
}

int func_38(Ped pedParam0) // Position - 0x27C7{
int num;
int num2;
if(pedParam0==0) return 0;
if(!ENTITY::DOES_ENTITY_EXIST(pedParam0)) return 0;
num=func_35(pedParam0);
num2=func_34(num);
if(num2==-1) return -1;
return Global_44232[num2 /*5*/].f_3;
}

int func_39(Ped pedParam0, int iParam1, BOOL bParam2) // Position - 0x280A{
int num;
int num2;
int num3;
if(pedParam0==0) return 0;
if(!ENTITY::DOES_ENTITY_EXIST(pedParam0)) return 0;
num=func_35(pedParam0);
if(!num==-1) return 1;
num2=func_33(pedParam0);
if(!num2==-1) return 1;
if(!bParam2)if(iParam1==0 || iParam1 < 0) return 0;
num3=func_40();
if(num3==-1) return 0;
Global_44206[num3 /*5*/]=0;
Global_44206[num3 /*5*/].f_1=pedParam0;
Global_44206[num3 /*5*/].f_2=iParam1;
Global_44206[num3 /*5*/].f_3=iParam1;
Global_44206[num3 /*5*/].f_4=0;
if(pedParam0==PLAYER::PLAYER_PED_ID()) Global_44444=1;
Global_44204=Global_44204 + 1;
return 1;
}

int func_40() // Position - 0x28C6{
int i;
i=0;
for (i=0;
i < 5;
i=i + 1){
if(Global_44206[i /*5*/]==13) return i;
}
return -1;
}
BOOL func_41(Ped pedParam0) // Position - 0x28F5{
if(pedParam0==0) return false;
if(func_42(pedParam0)==-1) return false;
return true;
}

int func_42(Ped pedParam0) // Position - 0x2916{
int i;
if(pedParam0==0) return -1;
i=0;
for (i=0;
i < 16;
i=i + 1){
if(!Global_44232[i /*5*/]==-1)if(pedParam0==Global_44232[i /*5*/].f_1) return i;
}
return -1;
}

int func_43(Ped pedParam0) // Position - 0x295F{
int num;
int num2;
if(pedParam0==0) return 0;
if(!ENTITY::DOES_ENTITY_EXIST(pedParam0)) return 0;
num=func_35(pedParam0);
num2=func_34(num);
if(num2==-1) return -1;
return Global_44232[num2 /*5*/].f_4;
}


char* func_44() // Position - 0x29A2{
char* str;
str="ScriptEvent";
return str;
}


char* func_45() // Position - 0x29B2{
char* str;
switch (iLocal_55){
case joaat("prop_bong_01"):
if(bLocal_49) str="safe@franklin@ig_10";
else str="safe@michael@ig_4";
break;
case joaat("prop_cigar_03"):
str="safe@michael@ig_3";
break;
case joaat("prop_cs_beer_bot_01"):
str="safe@franklin@ig_9";
break;
case joaat("p_cs_joint_01"):
str="safe@franklin@ig_13";
break;
case joaat("p_tumbler_02_s1"):
case joaat("p_tumbler_cs2_s"):
case joaat("p_tumbler_cs2_s_trev"):
if(!Global_78558)if(bLocal_50) str="safe@trevor@ig_6";
else str="safe@michael@ig_1";
else str="MP_SAFEHOUSEWHISKEY@";
break;
case joaat("prop_rolled_sock_02"):
str="safe@trevor@ig_8";
break;
case joaat("prop_mr_raspberry_01"):
str="safe@trevor@ig_7";
break;
case joaat("prop_radio_01"):
if(bLocal_50) str="safe@trevor@ig_5";
else str="safe@michael@ig_5";
break;
case joaat("p_w_grass_gls_s"):
str="safe@michael@ig_2";
break;
case joaat("p_wine_glass_s"):
str="safe@franklin@ig_11";
break;
}
return str;
}


void func_46() // Position - 0x2A9E{
int num;
int num2;
var unk;
var unk2;
if(!bLocal_315){
func_47(&num, &num2, &unk, &unk2, false);
if(num < -64 || num > 64 || num2 < -64 || num2 > 64) bLocal_315=true;
}
return;
}


void func_47(var uParam0, var uParam1, var uParam2, var uParam3, BOOL bParam4) // Position - 0x2AE9{
*uParam0=SYSTEM::FLOOR(PAD::GET_CONTROL_NORMAL(FRONTEND_CONTROL, INPUT_SCRIPT_LEFT_AXIS_X) * 127f);
*uParam1=SYSTEM::FLOOR(PAD::GET_CONTROL_NORMAL(FRONTEND_CONTROL, INPUT_SCRIPT_LEFT_AXIS_Y) * 127f);
*uParam2=SYSTEM::FLOOR(PAD::GET_CONTROL_NORMAL(FRONTEND_CONTROL, INPUT_SCRIPT_RIGHT_AXIS_X) * 127f);
*uParam3=SYSTEM::FLOOR(PAD::GET_CONTROL_NORMAL(FRONTEND_CONTROL, INPUT_SCRIPT_RIGHT_AXIS_Y) * 127f);
if(bParam4){
if((float)*uParam0==0f && (float)*uParam1==0f){
*uParam0=SYSTEM::FLOOR(PAD::GET_DISABLED_CONTROL_NORMAL(FRONTEND_CONTROL, INPUT_SCRIPT_LEFT_AXIS_X) * 127f);
*uParam1=SYSTEM::FLOOR(PAD::GET_DISABLED_CONTROL_NORMAL(FRONTEND_CONTROL, INPUT_SCRIPT_LEFT_AXIS_Y) * 127f);
}
if((float)*uParam2==0f && (float)*uParam3==0f){
*uParam2=SYSTEM::FLOOR(PAD::GET_DISABLED_CONTROL_NORMAL(FRONTEND_CONTROL, INPUT_SCRIPT_RIGHT_AXIS_X) * 127f);
*uParam3=SYSTEM::FLOOR(PAD::GET_DISABLED_CONTROL_NORMAL(FRONTEND_CONTROL, INPUT_SCRIPT_RIGHT_AXIS_Y) * 127f);
}}
return;
}


void func_48() // Position - 0x2BBE{
bLocal_310=false;
bLocal_311=false;
bLocal_325=false;
bLocal_312=false;
bLocal_313=false;
return;
}
BOOL _GET_RANDOM_BOOL() // Position - 0x2BDA{
if(IS_BIT_SET(MISC::GET_RANDOM_INT_IN_RANGE(0, 65535), 0)) return 1;
return 0;
}


void func_50(int iParam0) // Position - 0x2BF8{
switch (iParam0){
case 0:
if(!bLocal_311 && PED::GET_SYNCHRONIZED_SCENE_PHASE(iLocal_330) > 0.25f){
GRAPHICS::START_PARTICLE_FX_NON_LOOPED_ON_ENTITY("scr_sh_lighter_sparks", func_53(), 0f, 0f, 0.05f, 0f, 0f, 0f, 1065353216, false, false, false);
bLocal_311=true;
}
if(!bLocal_310 && PED::GET_SYNCHRONIZED_SCENE_PHASE(iLocal_330) > 0.255f){
iLocal_329=GRAPHICS::START_PARTICLE_FX_LOOPED_ON_ENTITY("scr_sh_lighter_flame", func_53(), 0f, 0f, 0.05f, 0f, 0f, 0f, 1065353216, false, false, false);
bLocal_310=true;
}
if(GRAPHICS::DOES_PARTICLE_FX_LOOPED_EXIST(iLocal_329) && PED::GET_SYNCHRONIZED_SCENE_PHASE(iLocal_330) > 0.45f) GRAPHICS::STOP_PARTICLE_FX_LOOPED(iLocal_329, false);
if(!bLocal_325 && PED::GET_SYNCHRONIZED_SCENE_PHASE(iLocal_330) > 0.346f){
iLocal_328=GRAPHICS::START_PARTICLE_FX_LOOPED_ON_ENTITY("scr_sh_cig_smoke", func_55(), -0.09f, 0f, 0f, 0f, 0f, 0f, 1065353216, false, false, false);
bLocal_325=true;
}
if(!bLocal_312 && PED::GET_SYNCHRONIZED_SCENE_PHASE(iLocal_330) > 0.82f){
GRAPHICS::START_PARTICLE_FX_NON_LOOPED_ON_PED_BONE("scr_sh_cig_exhale_mouth", PLAYER::PLAYER_PED_ID(), uLocal_342, 0f, 0f, 0f, 31086, 1065353216, false, false, false);
bLocal_312=true;
}
if(!bLocal_313 && PED::GET_SYNCHRONIZED_SCENE_PHASE(iLocal_330) > 0.876f){
GRAPHICS::START_PARTICLE_FX_NON_LOOPED_ON_PED_BONE("scr_sh_cig_exhale_nose", PLAYER::PLAYER_PED_ID(), uLocal_345, uLocal_348, 31086, 1065353216, false, false, false);
bLocal_313=true;
}
break;
case 1:
if(!bLocal_313 && PED::GET_SYNCHRONIZED_SCENE_PHASE(iLocal_330) > 0.42f){
GRAPHICS::START_PARTICLE_FX_NON_LOOPED_ON_PED_BONE("scr_sh_cig_exhale_nose", PLAYER::PLAYER_PED_ID(), uLocal_345, 0f, 0f, 0f, 31086, 1065353216, false, false, false);
bLocal_313=true;
}
if(!bLocal_312 && PED::GET_SYNCHRONIZED_SCENE_PHASE(iLocal_330) > 0.7f){
GRAPHICS::START_PARTICLE_FX_NON_LOOPED_ON_PED_BONE("scr_sh_cig_exhale_mouth", PLAYER::PLAYER_PED_ID(), uLocal_342, 0f, 0f, 0f, 31086, 1065353216, false, false, false);
bLocal_312=true;
}
break;
case 2:
if(!bLocal_313 && PED::GET_SYNCHRONIZED_SCENE_PHASE(iLocal_330) > 0.48f){
GRAPHICS::START_PARTICLE_FX_NON_LOOPED_ON_PED_BONE("scr_sh_cig_exhale_nose", PLAYER::PLAYER_PED_ID(), uLocal_345, uLocal_348, 31086, 1065353216, false, false, false);
bLocal_313=true;
}
break;
case 3:
if(GRAPHICS::DOES_PARTICLE_FX_LOOPED_EXIST(iLocal_328) && PED::GET_SYNCHRONIZED_SCENE_PHASE(iLocal_330) > 0.27f) GRAPHICS::STOP_PARTICLE_FX_LOOPED(iLocal_328, false);
if(!bLocal_312 && PED::GET_SYNCHRONIZED_SCENE_PHASE(iLocal_330) > 0.45f){
GRAPHICS::START_PARTICLE_FX_NON_LOOPED_ON_PED_BONE("scr_sh_cig_exhale_mouth", PLAYER::PLAYER_PED_ID(), uLocal_342, 0f, 0f, 0f, 31086, 1065353216, false, false, false);
bLocal_312=true;
}
if(!bLocal_313 && PED::GET_SYNCHRONIZED_SCENE_PHASE(iLocal_330) > 0.45f){
GRAPHICS::START_PARTICLE_FX_NON_LOOPED_ON_PED_BONE("scr_sh_cig_exhale_nose", PLAYER::PLAYER_PED_ID(), uLocal_345, uLocal_348, 31086, 1065353216, false, false, false);
bLocal_313=true;
}
break;
}
return;
}


void func_51() // Position - 0x2EDC{
Global_20591=0;
func_52();
return;
}


void func_52() // Position - 0x2EEC{
AUDIO::RESTART_SCRIPTED_CONVERSATION();
Global_22736=0;
if(AUDIO::IS_SCRIPTED_CONVERSATION_ONGOING()){
AUDIO::STOP_SCRIPTED_CONVERSATION(false);
Global_21725=6;
}
return;
}
Object func_53() // Position - 0x2F0D{
Object closestObjectOfType;
switch (iLocal_55){
case joaat("prop_bong_01"):
case joaat("prop_cigar_03"):
closestObjectOfType=OBJECT::GET_CLOSEST_OBJECT_OF_TYPE(func_54(), 5f, joaat("p_cs_lighter_01"), false, false, true);
break;
case joaat("p_cs_joint_01"):
closestObjectOfType=OBJECT::GET_CLOSEST_OBJECT_OF_TYPE(func_54(), 2f, joaat("p_cs_lighter_01"), false, false, true);
break;
case joaat("p_tumbler_02_s1"):
case joaat("p_tumbler_cs2_s"):
case joaat("p_tumbler_cs2_s_trev"):
closestObjectOfType=OBJECT::GET_CLOSEST_OBJECT_OF_TYPE(func_54(), 5f, joaat("p_whiskey_bottle_s"), false, false, true);
break;
case joaat("p_wine_glass_s"):
closestObjectOfType=OBJECT::GET_CLOSEST_OBJECT_OF_TYPE(func_54(), 5f, joaat("prop_wine_bot_01"), false, false, true);
break;
case joaat("prop_radio_01"):
closestObjectOfType=OBJECT::GET_CLOSEST_OBJECT_OF_TYPE(func_54(), 5f, joaat("prop_bottle_cap_01"), false, false, true);
break;
}
return closestObjectOfType;
}


Vector3 func__54() // Position - 0x2FBC{
var unk;
switch (iLocal_55){
case joaat("prop_bong_01"):
if(bLocal_49) unk={
9.95f, 528.9f, 173.6282f 
};
else unk={
-807.5781f, 171.357f, 75.7407f 
};
break;
case joaat("prop_cigar_03"):
unk={
-805.881f, 173.8548f, 71.8347f 
};
break;
case joaat("prop_cs_beer_bot_01"):
unk={
-9.66f, -1429.48f, 31.21f 
};
break;
case joaat("p_cs_joint_01"):
unk={
-10.6378f, -1441.3145f, 30.1015f 
};
break;
case joaat("p_tumbler_02_s1"):
case joaat("p_tumbler_cs2_s"):
case joaat("p_tumbler_cs2_s_trev"):
if(bLocal_50) unk={
-1154.343f, -1522.5997f, 9.6327f 
};
else unk={
-800.4056f, 183.4856f, 71.6055f 
};
break;
case joaat("prop_rolled_sock_02"):
unk={
1972.1417f, 3813.243f, 32.4271f 
};
break;
case joaat("prop_mr_raspberry_01"):
unk={
-1145.91f, -1514.9445f, 9.6327f 
};
break;
case joaat("prop_radio_01"):
unk={
1976.94f, 3821.2417f, 33.3266f 
};
break;
case joaat("p_w_grass_gls_s"):
unk={
-804.2254f, 184.3325f, 72.6042f 
};
break;
case joaat("p_wine_glass_s"):
unk={
-8.8011f, 515.7225f, 173.6282f 
};
break;
}
return unk;
}
Object func_55() // Position - 0x3129{
Object closestObjectOfType;
switch (iLocal_55){
case joaat("prop_cigar_03"):
closestObjectOfType=OBJECT::GET_CLOSEST_OBJECT_OF_TYPE(func_54(), 5f, joaat("prop_cigar_03"), false, false, true);
break;
case joaat("prop_cs_beer_bot_01"):
closestObjectOfType=OBJECT::GET_CLOSEST_OBJECT_OF_TYPE(func_54(), 2.5f, joaat("prop_cs_beer_bot_01"), false, false, true);
break;
case joaat("p_tumbler_02_s1"):
closestObjectOfType=OBJECT::GET_CLOSEST_OBJECT_OF_TYPE(func_54(), 5f, joaat("p_tumbler_02_s1"), false, false, true);
break;
case joaat("p_tumbler_cs2_s"):
closestObjectOfType=OBJECT::GET_CLOSEST_OBJECT_OF_TYPE(func_54(), 5f, joaat("p_tumbler_cs2_s"), false, false, true);
break;
case joaat("p_tumbler_cs2_s_trev"):
closestObjectOfType=OBJECT::GET_CLOSEST_OBJECT_OF_TYPE(func_54(), 5f, joaat("p_tumbler_cs2_s_trev"), false, false, true);
break;
case joaat("p_cs_joint_01"):
closestObjectOfType=OBJECT::GET_CLOSEST_OBJECT_OF_TYPE(func_54(), 5f, joaat("p_cs_joint_01"), false, false, true);
break;
case joaat("prop_radio_01"):
closestObjectOfType=OBJECT::GET_CLOSEST_OBJECT_OF_TYPE(func_54(), 3f, joaat("prop_cs_beer_bot_01"), false, false, true);
break;
case joaat("p_w_grass_gls_s"):
closestObjectOfType=OBJECT::GET_CLOSEST_OBJECT_OF_TYPE(func_54(), 5f, joaat("p_w_grass_gls_s"), false, false, true);
break;
case joaat("p_wine_glass_s"):
closestObjectOfType=OBJECT::GET_CLOSEST_OBJECT_OF_TYPE(func_54(), 5f, joaat("p_wine_glass_s"), false, false, true);
break;
}
return closestObjectOfType;
}


void func_56(int iParam0) // Position - 0x323A{
if(iParam0 !=-1) Global_32224[iParam0 /*11*/].f_4=1;
return;
}
BOOL func_57(BOOL bParam0) // Position - 0x3252{
int num;
int num2;
num=64;
num2=PAD::GET_CONTROL_VALUE(FRONTEND_CONTROL, INPUT_SCRIPT_LEFT_AXIS_X) - 127;
if(bParam0 || SYSTEM::TIMERA() > 300){
if(num2 > 0 + num || num2 < 0 - num){
SYSTEM::SETTIMERA(0);
return true;
}}
return false;
}
BOOL _CONVERSATION_IS_DIALOGUE_IN_PROGRESS() // Position - 0x329E{
if(Global_21725 !=0 || AUDIO::IS_SCRIPTED_CONVERSATION_ONGOING()) return true;
return false;
}


void func_59(BOOL bParam0, BOOL bParam1) // Position - 0x32C0{
int num;
int num2;
float tvVolume;
num=64;
if(bParam0){
if(func_57(false)){
if(!bLocal_36){
if(AUDIO::REQUEST_AMBIENT_AUDIO_BANK("SAFEHOUSE_MICHAEL_SIT_SOFA", false, -1)) AUDIO::PLAY_SOUND_FRONTEND(-1, "MICHAEL_SOFA_TV_CHANGE_CHANNEL_MASTER", 0, true);
if(GRAPHICS::GET_TV_CHANNEL()==0) GRAPHICS::SET_TV_CHANNEL(1);
else GRAPHICS::SET_TV_CHANNEL(0);
bLocal_36=true;
}}elseif(bLocal_36){
bLocal_36=false;
}}
if(bParam1){
num2=PAD::GET_CONTROL_VALUE(FRONTEND_CONTROL, INPUT_SCRIPT_LEFT_AXIS_Y) - 127;
if(!bLocal_37){
if(num2 > 0 + num){
tvVolume=GRAPHICS::GET_TV_VOLUME();
tvVolume=tvVolume - 0.5f;
if(tvVolume < -36f) tvVolume=-36f;
GRAPHICS::SET_TV_VOLUME(tvVolume);
iLocal_38=MISC::GET_GAME_TIMER();
bLocal_37=true;
}
if(num2 < 0 - num){
tvVolume=GRAPHICS::GET_TV_VOLUME();
tvVolume=tvVolume + 0.5f;
if(tvVolume > 0f) tvVolume=0f;
GRAPHICS::SET_TV_VOLUME(tvVolume);
iLocal_38=MISC::GET_GAME_TIMER();
bLocal_37=true;
}
if(num2 < 0 + num && num2 > 0 - num){
bLocal_39=true;
}elseif(bLocal_39){
if(AUDIO::REQUEST_AMBIENT_AUDIO_BANK("SAFEHOUSE_MICHAEL_SIT_SOFA", false, -1)){
if(tvVolume !=-36f && tvVolume !=0f) AUDIO::PLAY_SOUND_FRONTEND(-1, "MICHAEL_SOFA_REMOTE_CLICK_VOLUME_MASTER", 0, true);
bLocal_39=false;
}}}
if(bLocal_37)if(num2==0 || MISC::GET_GAME_TIMER() > iLocal_38 + 24) bLocal_37=false;
}
return;
}


void func_60(int iParam0, int iParam1, int iParam2, int iParam3, BOOL bParam4) // Position - 0x340B{
if(iParam0 !=-1){
if(!func_63(iParam0)) return;
Global_32224[iParam0 /*11*/].f_5=1;
Global_32224[iParam0 /*11*/]=iParam1;
Global_32224[iParam0 /*11*/].f_1=iParam2;
Global_32224[iParam0 /*11*/].f_9=bParam4;
Global_32224[iParam0 /*11*/].f_7=iParam3;
if(func_62(iParam0)){
GRAPHICS::SET_TV_CHANNEL(-1);
GRAPHICS::SET_TV_CHANNEL_PLAYLIST(iParam1, func_61(iParam2), bParam4);
GRAPHICS::SET_TV_CHANNEL(iParam1);
}}
TEXT_LABEL_ASSIGN_STRING(&Global_32302, SCRIPT::GET_THIS_SCRIPT_NAME(), 24);
return;
}


char* func_61(int iParam0) // Position - 0x3485{
char* str;
switch (iParam0){
case 1:
str="PL_STD_CNT";
break;
case 2:
str="PL_STD_WZL";
break;
case 3:
str="PL_LO_CNT";
break;
case 4:
str="PL_LO_WZL";
break;
case 7:
str="PL_SP_WORKOUT";
break;
case 8:
str="PL_SP_INV";
break;
case 9:
str="PL_SP_INV_EXP";
break;
case 5:
str="PL_LO_RS";
break;
case 6:
str="PL_LO_RS_CUTSCENE";
break;
case 10:
str="PL_SP_PLSH1_INTRO";
break;
case 11:
str="PL_LES1_FAME_OR_SHAME";
break;
case 12:
str="PL_STD_WZL_FOS_EP2";
break;
case 13:
str="PL_MP_WEAZEL";
break;
case 14:
str="PL_MP_CCTV";
break;
}
return str;
}
BOOL func_62(int iParam0) // Position - 0x3568{
if(iParam0 !=-1)if(Global_32224[iParam0 /*11*/].f_2) return true;
return false;
}
BOOL func_63(int iParam0) // Position - 0x3587{
if(iParam0 !=-1)if(Global_32224[iParam0 /*11*/].f_6) return true;
return false;
}


void func_64() // Position - 0x35A6{
if(func_74(caLocal_327)) CAM::SET_CAM_PARAMS(caLocal_327, uLocal_365, uLocal_368, fLocal_371, 0, 1, 1, 2);
if(_IS_THIS_HELP_MESSAGE_BEING_DISPLAYED("TV_HLP4" /*Use ~INPUT_SCRIPT_LEFT_AXIS_X~ to change the channel.~n~Use ~INPUT_SCRIPT_LEFT_AXIS_Y~ to change the volume.~n~Press ~INPUT_CONTEXT~ to stop watching.~n~Press ~INPUT_SCRIPT_RLEFT~ to smoke.~n~Press ~INPUT_SCRIPT_RUP~ to stand up.~n~*/) || _IS_THIS_HELP_MESSAGE_BEING_DISPLAYED("TV_HLP3" /*Press ~INPUT_CONTEXT~ to watch the TV.~n~Press ~INPUT_SCRIPT_RLEFT~ to smoke.~n~Press ~INPUT_SCRIPT_RUP~ to stand up.~n~*/)) HUD::SET_SCRIPT_VARIABLE_HUD_COLOUR(1);
if(PED::GET_PED_STEALTH_MOVEMENT(PLAYER::PLAYER_PED_ID())) PED::SET_PED_STEALTH_MOVEMENT(PLAYER::PLAYER_PED_ID(), false, 0);
return;
}


void func_65() // Position - 0x3603{
if(PAD::IS_CONTROL_JUST_PRESSED(FRONTEND_CONTROL, INPUT_SCRIPT_RLEFT)){
func_66(202, 1);
if(_IS_THIS_HELP_MESSAGE_BEING_DISPLAYED("TV_HLP4" /*Use ~INPUT_SCRIPT_LEFT_AXIS_X~ to change the channel.~n~Use ~INPUT_SCRIPT_LEFT_AXIS_Y~ to change the volume.~n~Press ~INPUT_CONTEXT~ to stop watching.~n~Press ~INPUT_SCRIPT_RLEFT~ to smoke.~n~Press ~INPUT_SCRIPT_RUP~ to stand up.~n~*/) || _IS_THIS_HELP_MESSAGE_BEING_DISPLAYED("TV_HLP3" /*Press ~INPUT_CONTEXT~ to watch the TV.~n~Press ~INPUT_SCRIPT_RLEFT~ to smoke.~n~Press ~INPUT_SCRIPT_RUP~ to stand up.~n~*/)) HUD::SET_SCRIPT_VARIABLE_HUD_COLOUR(1);
if(Global_32224[0 /*11*/].f_2){
iLocal_309=0;
}else{
bLocal_314=true;
iLocal_309=1;
}
if(STATS::STAT_GET_INT(joaat("NUM_SH_SOFA_SMOKED"), &iLocal_332, -1)) STATS::STAT_SET_INT(joaat("NUM_SH_SOFA_SMOKED"), iLocal_332 + 1, true);
iLocal_308=10;
}
return;
}


void func_66(int iParam0, int iParam1) // Position - 0x3679{
int outValue;
if(iParam1 < 1) return;
if(Global_59104[iParam0 /*7*/].f_2) return;
if(NETWORK::NETWORK_IS_GAME_IN_PROGRESS()) return;
if(Global_59104[iParam0 /*7*/]){
STATS::STAT_GET_INT(Global_59104[iParam0 /*7*/].f_1, &outValue, -1);
outValue=outValue + iParam1;
STATS::STAT_SET_INT(Global_59104[iParam0 /*7*/].f_1, outValue, true);
}
return;
}
Object func_67() // Position - 0x36D6{
Object closestObjectOfType;
closestObjectOfType=OBJECT::GET_CLOSEST_OBJECT_OF_TYPE(func_54(), 10f, joaat("prop_cs_remote_01"), false, false, true);
return closestObjectOfType;
}


void func_68() // Position - 0x36F7{
GRAPHICS::SET_TV_CHANNEL_PLAYLIST(0, func_61(1), false);
if(func_69(22)) GRAPHICS::SET_TV_CHANNEL_PLAYLIST(1, func_61(12), false);
else GRAPHICS::SET_TV_CHANNEL_PLAYLIST(1, func_61(2), false);
return;
}
BOOL func_69(int iParam0) // Position - 0x372D{
if(iParam0==94 || iParam0==-1) return false;
return Global_113648.f_9087.f_330[iParam0 /*6*/];
}


void func_70(Cam caParam0, var uParam1, var uParam2, var uParam3) // Position - 0x3759{
var camRot;
float num;
Vector3 vector;
float controlNormal;
float controlNormal2;
float num2;
float num3;
float num4;
float num5;
var unk7;
var unk8;
int num6;
int num7;
float num8;
float num9;
if(CAM::DOES_CAM_EXIST(caParam0)){
camRot={
CAM::GET_CAM_ROT(caParam0, 2) 
};
num={
uParam1 
};
if(PAD::IS_USING_KEYBOARD_AND_MOUSE(FRONTEND_CONTROL)){
controlNormal=PAD::GET_CONTROL_NORMAL(FRONTEND_CONTROL, INPUT_CURSOR_Y);
controlNormal2=PAD::GET_CONTROL_NORMAL(FRONTEND_CONTROL, INPUT_CURSOR_X);
num2=(controlNormal - 0.5f) * -6.5f * 2f;
num3=(controlNormal2 - 0.5f) * -12.5f * 2f;
num=num + num2;
num.f_2=num.f_2 + num3;
while (num.f_2 < -180f){
num.f_2=num.f_2 + 360f;
}
while (num.f_2 > 180f){
num.f_2=num.f_2 - 360f;
}
while (num < -180f){
num=num + 360f;
}
while (num > 180f){
num=num - 360f;
}
num4=num.f_2 - camRot.f_2;
num5=func_71(num4, -180f, 180f);
vector={
camRot + ((num - camRot) *{
0.25f, 0.25f, 0.25f 
}
) 
};
vector.f_2=camRot.f_2 + (num5 * 0.25f);
}else{
func_47(&unk7, &unk8, &num6, &num7, false);
if(num6 < 32 && num6 > -32 && num7 < 32 && num7 > -32){
if(num6 < 32 && num6 > -32) num6=0;
elseif(num6 < 0) num6=num6 - 32;
else num6=num6 + 32;
if(num7 < 32 && num7 > -32) num7=0;
elseif(num7 < 0) num7=num7 - 32;
else num7=num7 + 32;
}
num6=num6 * -1;
num7=num7 * -1;
if(PAD::IS_LOOK_INVERTED()) num7=num7 * -1;
num=num + ((float)num7 * 0.05f);
num.f_2=num.f_2 + ((float)num6 * 0.1f);
while (num.f_2 < -180f){
num.f_2=num.f_2 + 360f;
}
while (num.f_2 > 180f){
num.f_2=num.f_2 - 360f;
}
while (camRot.f_2 < -180f){
camRot.f_2=camRot.f_2 + 360f;
}
while (camRot.f_2 > 180f){
camRot.f_2=camRot.f_2 - 360f;
}
num8=num.f_2 - camRot.f_2;
num9=func_71(num8, -180f, 180f);
vector={
camRot + ((num - camRot) *{
0.25f, 0.25f, 0.25f 
}
) 
};
vector.f_2=camRot.f_2 + (num9 * 0.25f);
}
while (vector.f_2 < -180f){
vector.f_2=vector.f_2 + 360f;
}
while (vector.f_2 > 180f){
vector.f_2=vector.f_2 - 360f;
}
CAM::SET_CAM_ROT(caParam0, vector, 2);
}
return;
}


float func_71(float fParam0, float fParam1, float fParam2) // Position - 0x3A55{
float num;
float num2;
if(fParam1==fParam2) return fParam1;
num=fParam2 - fParam1;
num2=SYSTEM::TO_FLOAT(SYSTEM::FLOOR((fParam0 - fParam1) / num));
return fParam0 - (num2 * num);
}


Vector3 func__72() // Position - 0x3A8B{
var unk;
unk={
0f, 0f, 0f 
};
switch (iLocal_55){
case joaat("prop_bong_01"):
if(!bLocal_49) unk={
0f, 0f, -68.75494f 
};
else unk={
0f, 0f, -179.90875f 
};
break;
case joaat("prop_cigar_03"):
unk={
0f, 0f, 21.1994f 
};
break;
case joaat("prop_cs_beer_bot_01"):
unk={
0f, 0f, -128.34f 
};
break;
case joaat("p_cs_joint_01"):
unk={
0f, 0f, 0.5729f 
};
break;
case joaat("prop_rolled_sock_02"):
unk={
0f, 0f, 2.8647f 
};
break;
case joaat("p_tumbler_02_s1"):
case joaat("p_tumbler_cs2_s"):
case joaat("p_tumbler_cs2_s_trev"):
if(bLocal_50) unk={
0f, 0f, 34.9504f 
};
else unk={
0f, 0f, 21.1994f 
};
break;
case joaat("prop_mr_raspberry_01"):
unk={
0f, 0f, 72.76564f 
};
break;
case joaat("prop_radio_01"):
unk={
0f, 0f, -9.1673f 
};
break;
case joaat("p_w_grass_gls_s"):
unk={
0f, 0f, 21.1994f 
};
break;
case joaat("p_wine_glass_s"):
unk={
0f, 0f, -29.793f 
};
break;
}
return unk;
}


Vector3 func__73() // Position - 0x3BA0{
var unk;
unk={
0f, 0f, 0f 
};
switch (iLocal_55){
case joaat("prop_bong_01"):
if(!bLocal_49) unk={
-806.82f, 170.03f, 75.74f 
};
else unk={
10.22f, 527.73f, 174.11f 
};
break;
case joaat("prop_cigar_03"):
unk={
-805.17f, 173.99f, 72.69f 
};
break;
case joaat("prop_cs_beer_bot_01"):
unk={
-9.66f, -1429.48f, 31.21f 
};
break;
case joaat("p_cs_joint_01"):
unk={
-10.07f, -1440.64f, 30.36f 
};
break;
case joaat("prop_rolled_sock_02"):
unk={
1972.852f, 3812.42f, 33.28f 
};
break;
case joaat("p_tumbler_02_s1"):
case joaat("p_tumbler_cs2_s"):
case joaat("p_tumbler_cs2_s_trev"):
if(bLocal_50) unk={
-1153.829f, -1523.314f, 10.56f 
};
else unk={
-800.68f, 184.18f, 72.55f 
};
break;
case joaat("prop_mr_raspberry_01"):
unk={
-1146.284f, -1514.1305f, 10.8468f 
};
break;
case joaat("prop_radio_01"):
unk={
1976.75f, 3822.76f, 33.28f 
};
break;
case joaat("p_w_grass_gls_s"):
unk={
-804.87f, 185.69f, 72.75f 
};
break;
case joaat("p_wine_glass_s"):
unk={
-9.1f, 516.83f, 173.62f 
};
break;
}
return unk;
}
BOOL func_74(Cam caParam0) // Position - 0x3D15{
if(CAM::GET_FOLLOW_PED_CAM_VIEW_MODE() !=FIRST_PERSON && CAM::DOES_CAM_EXIST(caParam0)) return true;
return false;
}


void func_75() // Position - 0x3D36{
Global_23131.f_6=1;
return;
}


void func_76(BOOL bParam0, BOOL bParam1, BOOL bParam2, BOOL bParam3, BOOL bParam4, BOOL bParam5, BOOL bParam6) // Position - 0x3D44{
if(bParam0){
PLAYER::SPECIAL_ABILITY_DEACTIVATE_FAST(PLAYER::PLAYER_ID(), 0);
PLAYER::SET_ALL_RANDOM_PEDS_FLEE(PLAYER::PLAYER_ID(), true);
PLAYER::SET_POLICE_IGNORE_PLAYER(PLAYER::PLAYER_ID(), true);
func_84(1);
HUD::THEFEED_FLUSH_QUEUE();
HUD::THEFEED_PAUSE();
if(Global_20383.f_1 > 3 && !bParam6){
if(AUDIO::IS_MOBILE_PHONE_CALL_ONGOING()) AUDIO::STOP_SCRIPTED_CONVERSATION(false);
if(!func_13()) Global_20383.f_1=3;
Global_21725=5;
}
func_83(true, bParam3, bParam2, false);
Global_63368=1;
Global_75696=1;
Global_78556=1;
}else{
func_84(0);
HUD::THEFEED_RESUME();
Global_63368=0;
if(bParam1) GRAPHICS::CASCADE_SHADOWS_INIT_SESSION();
PLAYER::SET_ALL_RANDOM_PEDS_FLEE(PLAYER::PLAYER_ID(), false);
PLAYER::SET_POLICE_IGNORE_PLAYER(PLAYER::PLAYER_ID(), false);
func_83(false, bParam3, bParam2, false);
if(NETWORK::NETWORK_IS_GAME_IN_PROGRESS())if(!PED::IS_PED_INJURED(PLAYER::PLAYER_PED_ID()) && !func_81(PLAYER::PLAYER_ID()) && !_NETWORK_IS_PLAYER_IN_SCTV(PLAYER::PLAYER_ID(), 0) && !func_77() && !bParam4 && !bParam5 && !NETWORK::NETWORK_IS_IN_SPECTATOR_MODE()) ENTITY::SET_ENTITY_INVINCIBLE(PLAYER::PLAYER_PED_ID(), false);
elseif(!PED::IS_PED_INJURED(PLAYER::PLAYER_PED_ID()) && !func_81(PLAYER::PLAYER_ID()) && !bParam4 && !bParam5) ENTITY::SET_ENTITY_INVINCIBLE(PLAYER::PLAYER_PED_ID(), false);
Global_78556=0;
}
return;
}
BOOL func_77() // Position - 0x3E91{
return IS_BIT_SET(Global_1853910[PLAYER::PLAYER_ID() /*862*/].f_36.f_18, 14);
}
BOOL _NETWORK_IS_PLAYER_IN_SCTV(Player player, int bCheckTeam) // Position - 0x3EAB{
BOOL flag;
if(player==PLAYER::PLAYER_ID()) flag=func_79(-1, false)==8;
else flag=Global_1853910[player /*862*/].f_205==8;
if(bCheckTeam==1)if(NETWORK::NETWORK_IS_PLAYER_ACTIVE(player)) flag=PLAYER::GET_PLAYER_TEAM(player)==8;
return flag;
}

int func_79(int iParam0, BOOL bParam1) // Position - 0x3EF6{
int num;
int num2;
num2=iParam0;
if(num2==-1) num2=func_80();
if(Global_1575040[num2]==1){
bParam1;
num=8;
}else{
num=Global_1574912[num2];
bParam1;
}
return num;
}

int func_80() // Position - 0x3F37{
return Global_1574918;
}
BOOL func_81(Player plParam0) // Position - 0x3F43{
if(_NETWORK_IS_PLAYER_IN_SCTV(plParam0, 0)) return true;
if(func_82())if(plParam0==PLAYER::PLAYER_ID()) return true;
if(IS_BIT_SET(Global_2657589[plParam0 /*466*/].f_199, 2)) return true;
return false;
}
BOOL func_82() // Position - 0x3F82{
return IS_BIT_SET(Global_2621446, 3);
}

int func_83(BOOL bParam0, BOOL bParam1, BOOL bParam2, BOOL bParam3) // Position - 0x3F90{
int num;
num=0;
if(MISC::IS_PC_VERSION()){
if(CUTSCENE::IS_MULTIHEAD_FADE_UP() !=bParam0 && bParam2){
CUTSCENE::SET_CUTSCENE_MULTIHEAD_FADE(bParam0, bParam1, true, bParam3);
num=1;
}}
return num;
}


void func_84(int iParam0) // Position - 0x3FC3{
if(iParam0==1) MISC::SET_BIT(&Global_8253, 13);
else MISC::CLEAR_BIT(&Global_8253, 13);
return;
}
BOOL _IS_THIS_HELP_MESSAGE_BEING_DISPLAYED(char* message) // Position - 0x3FE6{
HUD::BEGIN_TEXT_COMMAND_IS_THIS_HELP_MESSAGE_BEING_DISPLAYED(message);
return HUD::END_TEXT_COMMAND_IS_THIS_HELP_MESSAGE_BEING_DISPLAYED(0);
}
BOOL func_86(BOOL bParam0, BOOL bParam1, BOOL bParam2) // Position - 0x3FF9{
Vehicle vehiclePedIsIn;
if(MISC::IS_MINIGAME_IN_PROGRESS()) return false;
if(bParam0)if(ENTITY::IS_ENTITY_DEAD(PLAYER::PLAYER_PED_ID(), false)) return false;
vehiclePedIsIn=0;
if(PED::IS_PED_IN_ANY_VEHICLE(PLAYER::PLAYER_PED_ID(), false)){
if(!PED::IS_PED_SITTING_IN_ANY_VEHICLE(PLAYER::PLAYER_PED_ID())) return false;
vehiclePedIsIn=PED::GET_VEHICLE_PED_IS_IN(PLAYER::PLAYER_PED_ID(), false);
if(bParam0)if(ENTITY::IS_ENTITY_DEAD(vehiclePedIsIn, false)) return false;
if(bParam2)if(!ENTITY::IS_ENTITY_DEAD(vehiclePedIsIn, false))if(VEHICLE::GET_PED_IN_VEHICLE_SEAT(vehiclePedIsIn, -1, false) !=PLAYER::PLAYER_PED_ID()) return false;
if(!ENTITY::IS_ENTITY_DEAD(vehiclePedIsIn, false))if(ENTITY::GET_ENTITY_UPRIGHT_VALUE(vehiclePedIsIn) < 0.95f || ENTITY::GET_ENTITY_UPRIGHT_VALUE(vehiclePedIsIn) > 1.011f) return false;
}elseif(bParam1){
return false;
}
if(!PLAYER::IS_PLAYER_READY_FOR_CUTSCENE(PLAYER::PLAYER_ID())) return false;
if(!PLAYER::CAN_PLAYER_START_MISSION(PLAYER::PLAYER_ID())) return false;
return true;
}


void func_87(char* sParam0) // Position - 0x40E0{
HUD::BEGIN_TEXT_COMMAND_DISPLAY_HELP(sParam0);
HUD::END_TEXT_COMMAND_DISPLAY_HELP(0, true, true, -1);
return;
}
BOOL func_88() // Position - 0x40F6{
switch (iLocal_55){
case joaat("prop_cigar_03"):
if(OBJECT::DOES_OBJECT_OF_TYPE_EXIST_AT_COORDS(-805.17f, 173.98f, 72.69f, 0.1f, joaat("prop_cigar_03"), false)){
ENTITY::FREEZE_ENTITY_POSITION(OBJECT::GET_CLOSEST_OBJECT_OF_TYPE(-805.17f, 173.98f, 72.69f, 0.1f, joaat("prop_cigar_03"), false, false, true), true);
if(OBJECT::DOES_OBJECT_OF_TYPE_EXIST_AT_COORDS(-805.13f, 173.86f, 72.68f, 0.1f, joaat("p_cs_lighter_01"), false)){
ENTITY::FREEZE_ENTITY_POSITION(OBJECT::GET_CLOSEST_OBJECT_OF_TYPE(-805.13f, 173.86f, 72.68f, 0.1f, joaat("p_cs_lighter_01"), false, false, true), true);
if(OBJECT::DOES_OBJECT_OF_TYPE_EXIST_AT_COORDS(-805.09f, 173.83f, 72.68f, 0.1f, joaat("prop_ashtray_01"), false)){
ENTITY::FREEZE_ENTITY_POSITION(OBJECT::GET_CLOSEST_OBJECT_OF_TYPE(-805.13f, 173.86f, 72.68f, 0.1f, joaat("prop_ashtray_01"), false, false, true), true);
if(OBJECT::DOES_OBJECT_OF_TYPE_EXIST_AT_COORDS(-804.45f, 172.78f, 72.33f, 0.1f, joaat("prop_cs_remote_01"), false)){
ENTITY::FREEZE_ENTITY_POSITION(OBJECT::GET_CLOSEST_OBJECT_OF_TYPE(-804.45f, 172.78f, 72.33f, 0.1f, joaat("prop_cs_remote_01"), false, false, true), true);
return true;
}}}}
break;
case joaat("prop_cs_beer_bot_01"):
if(ENTITY::DOES_ENTITY_EXIST(eLocal_56)) return true;
break;
case joaat("p_wine_glass_s"):
if(ENTITY::DOES_ENTITY_EXIST(eLocal_56) && OBJECT::DOES_OBJECT_OF_TYPE_EXIST_AT_COORDS(-8.9f, 517.01f, 174f, 1f, joaat("prop_wine_bot_01"), false)) return true;
break;
case joaat("p_cs_joint_01"):
if(OBJECT::DOES_OBJECT_OF_TYPE_EXIST_AT_COORDS(-10.3f, -1440.94f, 30.62f, 0.5f, joaat("p_cs_joint_01"), false)){
ENTITY::FREEZE_ENTITY_POSITION(OBJECT::GET_CLOSEST_OBJECT_OF_TYPE(-10.3f, -1440.94f, 30.62f, 0.5f, joaat("p_cs_joint_01"), false, false, true), true);
if(OBJECT::DOES_OBJECT_OF_TYPE_EXIST_AT_COORDS(-10.3f, -1440.94f, 30.62f, 0.5f, joaat("p_cs_lighter_01"), false)){
ENTITY::FREEZE_ENTITY_POSITION(OBJECT::GET_CLOSEST_OBJECT_OF_TYPE(-10.3f, -1440.94f, 30.62f, 0.5f, joaat("p_cs_lighter_01"), false, false, true), true);
if(OBJECT::DOES_OBJECT_OF_TYPE_EXIST_AT_COORDS(-10.3f, -1440.94f, 30.62f, 0.5f, joaat("prop_ashtray_01"), false)){
ENTITY::FREEZE_ENTITY_POSITION(OBJECT::GET_CLOSEST_OBJECT_OF_TYPE(-10.3f, -1440.94f, 30.62f, 0.5f, joaat("prop_ashtray_01"), false, false, true), true);
return true;
}}}
break;
case joaat("p_tumbler_02_s1"):
if(bLocal_50){
if(OBJECT::DOES_OBJECT_OF_TYPE_EXIST_AT_COORDS(-1153.82f, -1523.31f, 10.51f, 0.5f, joaat("p_tumbler_02_s1"), false)){
ENTITY::FREEZE_ENTITY_POSITION(OBJECT::GET_CLOSEST_OBJECT_OF_TYPE(-1153.82f, -1523.31f, 10.51f, 0.5f, joaat("p_tumbler_02_s1"), false, false, true), true);
if(OBJECT::DOES_OBJECT_OF_TYPE_EXIST_AT_COORDS(-1153.82f, -1523.31f, 10.51f, 0.5f, joaat("p_whiskey_bottle_s"), false)){
ENTITY::FREEZE_ENTITY_POSITION(OBJECT::GET_CLOSEST_OBJECT_OF_TYPE(-1153.82f, -1523.31f, 10.51f, 0.5f, joaat("p_whiskey_bottle_s"), false, false, true), true);
return true;
}}}elseif(OBJECT::DOES_OBJECT_OF_TYPE_EXIST_AT_COORDS(-800.68f, 184.18f, 72.57f, 0.5f, joaat("p_tumbler_02_s1"), false)){
ENTITY::FREEZE_ENTITY_POSITION(OBJECT::GET_CLOSEST_OBJECT_OF_TYPE(-800.68f, 184.18f, 72.57f, 0.5f, joaat("p_tumbler_02_s1"), false, false, true), true);
if(OBJECT::DOES_OBJECT_OF_TYPE_EXIST_AT_COORDS(-800.68f, 184.18f, 72.55f, 0.5f, joaat("p_whiskey_bottle_s"), false)){
ENTITY::FREEZE_ENTITY_POSITION(OBJECT::GET_CLOSEST_OBJECT_OF_TYPE(-800.68f, 184.18f, 72.55f, 0.5f, joaat("p_whiskey_bottle_s"), false, false, true), true);
return true;
}}
break;
case joaat("p_tumbler_cs2_s"):
if(bLocal_50){
if(OBJECT::DOES_OBJECT_OF_TYPE_EXIST_AT_COORDS(-1153.82f, -1523.31f, 10.51f, 0.5f, joaat("p_tumbler_cs2_s"), false)){
ENTITY::FREEZE_ENTITY_POSITION(OBJECT::GET_CLOSEST_OBJECT_OF_TYPE(-1153.82f, -1523.31f, 10.51f, 0.5f, joaat("p_tumbler_cs2_s"), false, false, true), true);
if(OBJECT::DOES_OBJECT_OF_TYPE_EXIST_AT_COORDS(-1153.82f, -1523.31f, 10.51f, 0.5f, joaat("p_whiskey_bottle_s"), false)){
ENTITY::FREEZE_ENTITY_POSITION(OBJECT::GET_CLOSEST_OBJECT_OF_TYPE(-1153.82f, -1523.31f, 10.51f, 0.5f, joaat("p_whiskey_bottle_s"), false, false, true), true);
return true;
}}}elseif(OBJECT::DOES_OBJECT_OF_TYPE_EXIST_AT_COORDS(-800.68f, 184.18f, 72.55f, 0.5f, joaat("p_tumbler_cs2_s"), false)){
ENTITY::FREEZE_ENTITY_POSITION(OBJECT::GET_CLOSEST_OBJECT_OF_TYPE(-800.68f, 184.18f, 72.55f, 0.5f, joaat("p_tumbler_cs2_s"), false, false, true), true);
if(OBJECT::DOES_OBJECT_OF_TYPE_EXIST_AT_COORDS(-800.68f, 184.18f, 72.55f, 0.5f, joaat("p_whiskey_bottle_s"), false)){
ENTITY::FREEZE_ENTITY_POSITION(OBJECT::GET_CLOSEST_OBJECT_OF_TYPE(-800.68f, 184.18f, 72.55f, 0.5f, joaat("p_whiskey_bottle_s"), false, false, true), true);
return true;
}}
break;
case joaat("p_tumbler_cs2_s_trev"):
if(bLocal_50){
if(OBJECT::DOES_OBJECT_OF_TYPE_EXIST_AT_COORDS(-1153.82f, -1523.31f, 10.51f, 0.5f, joaat("p_tumbler_cs2_s_trev"), false)){
ENTITY::FREEZE_ENTITY_POSITION(OBJECT::GET_CLOSEST_OBJECT_OF_TYPE(-1153.82f, -1523.31f, 10.51f, 0.5f, joaat("p_tumbler_cs2_s_trev"), false, false, true), true);
if(OBJECT::DOES_OBJECT_OF_TYPE_EXIST_AT_COORDS(-1153.82f, -1523.31f, 10.51f, 0.5f, joaat("p_whiskey_bottle_s"), false)){
ENTITY::FREEZE_ENTITY_POSITION(OBJECT::GET_CLOSEST_OBJECT_OF_TYPE(-1153.82f, -1523.31f, 10.51f, 0.5f, joaat("p_whiskey_bottle_s"), false, false, true), true);
return true;
}}}elseif(OBJECT::DOES_OBJECT_OF_TYPE_EXIST_AT_COORDS(-800.68f, 184.18f, 72.55f, 0.5f, joaat("p_tumbler_cs2_s"), false)){
ENTITY::FREEZE_ENTITY_POSITION(OBJECT::GET_CLOSEST_OBJECT_OF_TYPE(-800.68f, 184.18f, 72.55f, 0.5f, joaat("p_tumbler_cs2_s"), false, false, true), true);
if(OBJECT::DOES_OBJECT_OF_TYPE_EXIST_AT_COORDS(-800.68f, 184.18f, 72.55f, 0.5f, joaat("p_whiskey_bottle_s"), false)){
ENTITY::FREEZE_ENTITY_POSITION(OBJECT::GET_CLOSEST_OBJECT_OF_TYPE(-800.68f, 184.18f, 72.55f, 0.5f, joaat("p_whiskey_bottle_s"), false, false, true), true);
return true;
}}
break;
case joaat("prop_radio_01"):
if(OBJECT::DOES_OBJECT_OF_TYPE_EXIST_AT_COORDS(1976.92f, 3821.21f, 33.32f, 0.5f, joaat("prop_cs_beer_bot_01"), false)) return true;
break;
case joaat("p_w_grass_gls_s"):
if(ENTITY::DOES_ENTITY_EXIST(eLocal_56)){
ENTITY::FREEZE_ENTITY_POSITION(eLocal_56, true);
return true;
}
break;
}
return false;
}
BOOL func_89() // Position - 0x4733{
if(!NETWORK::NETWORK_IS_GAME_IN_PROGRESS()) return Global_98159.f_44==1;
return false;
}
BOOL func_90(Vector3 vParam0, var uParam1, var uParam2, float fParam3, var uParam4, var uParam5) // Position - 0x474F{
if(PLAYER::IS_PLAYER_PLAYING(PLAYER::PLAYER_ID())){
if(!PED::IS_PED_IN_ANY_VEHICLE(PLAYER::PLAYER_PED_ID(), false) && !FILES::GET_DLC_VEHICLE_FLAGS(PLAYER::PLAYER_PED_ID()) && PLAYER::IS_PLAYER_CONTROL_ON(PLAYER::PLAYER_ID())){
if(!FIRE::IS_EXPLOSION_IN_SPHERE(-1, vParam0, 2f)){
if(CAM::IS_GAMEPLAY_CAM_RENDERING() && !CUTSCENE::IS_CUTSCENE_PLAYING() && !CAM::IS_CINEMATIC_CAM_RENDERING() && !func_94(0) && !func_93()){
if(Global_97609 && Global_97610 || func_92()) return false;
if(func_91(ENTITY::GET_ENTITY_COORDS(PLAYER::PLAYER_PED_ID(), true), vParam0, fParam3, false)) return true;
}}}}
return false;
}
BOOL func_91(float fParam0, var uParam1, var uParam2, var uParam3, var uParam4, var uParam5, float fParam6, BOOL bParam7) // Position - 0x4802{
if(fParam6 < 0f) fParam6=0f;
if(!bParam7)if(MISC::ABSF(fParam0 - uParam3) <=fParam6)if(MISC::ABSF(fParam0.f_1 - uParam3.f_1) <=fParam6)if(MISC::ABSF(fParam0.f_2 - uParam3.f_2) <=fParam6) return true;
elseif(MISC::ABSF(fParam0 - uParam3) <=fParam6)if(MISC::ABSF(fParam0.f_1 - uParam3.f_1) <=fParam6) return true;
return false;
}
BOOL func_92() // Position - 0x487D{
if(Global_43257==15) return false;
return true;
}
BOOL func_93() // Position - 0x4892{
int pedNearbyPeds;
int i;
var sizeAndPeds;
sizeAndPeds=32;
if(!PED::IS_PED_INJURED(PLAYER::PLAYER_PED_ID())) pedNearbyPeds=PED::GET_PED_NEARBY_PEDS(PLAYER::PLAYER_PED_ID(), &sizeAndPeds, -1);
for (i=0;
i < pedNearbyPeds;
i=i + 1){
if(!PED::IS_PED_INJURED(sizeAndPeds[i])){
if(bLocal_50)if(ENTITY::GET_ENTITY_MODEL(sizeAndPeds[i])==joaat("Player_Zero"))if(MISC::GET_DISTANCE_BETWEEN_COORDS(ENTITY::GET_ENTITY_COORDS(PLAYER::PLAYER_PED_ID(), true), ENTITY::GET_ENTITY_COORDS(sizeAndPeds[i], true), true) < 3f) return true;
if(!bLocal_50 && !bLocal_49)if(ENTITY::GET_ENTITY_MODEL(sizeAndPeds[i])==joaat("Player_One"))if(MISC::GET_DISTANCE_BETWEEN_COORDS(ENTITY::GET_ENTITY_COORDS(PLAYER::PLAYER_PED_ID(), true), ENTITY::GET_ENTITY_COORDS(sizeAndPeds[i], true), true) < 3f) return true;
}}
return false;
}
BOOL func_94(int iParam0) // Position - 0x4956{
if(iParam0==1)if(Global_20383.f_1 > 3)if(IS_BIT_SET(Global_8253, 14)) return true;
else return false;
else return false;
if(SCRIPT::GET_NUMBER_OF_THREADS_RUNNING_THE_SCRIPT_WITH_THIS_HASH(joaat("cellphone_flashhand")) > 0) return true;
if(Global_20383.f_1 > 3) return true;
return false;
}
BOOL func_95() // Position - 0x49AD{
if(func_100() && func_99() && func_97()) return true;
!func_100();
!func_96();
!func_99();
!func_97();
return false;
}
BOOL func_96() // Position - 0x49F3{
STREAMING::REQUEST_PTFX_ASSET();
if(STREAMING::HAS_PTFX_ASSET_LOADED()){
bLocal_322=true;
return true;
}
return false;
}
BOOL func_97() // Position - 0x4A12{
if(AUDIO::REQUEST_AMBIENT_AUDIO_BANK(func_98(), false, -1)) return true;
return false;
}


char* func_98() // Position - 0x4A2C{
char* str;
switch (iLocal_55){
case joaat("prop_bong_01"):
if(bLocal_49) str="SAFEHOUSE_FRANKLIN_USE_BONG";
else str="SAFEHOUSE_MICHAEL_USE_BONG";
break;
case joaat("p_tumbler_02_s1"):
case joaat("p_tumbler_cs2_s"):
case joaat("p_tumbler_cs2_s_trev"):
if(bLocal_50) str="SAFEHOUSE_TREVOR_DRINK_WHISKEY";
else str="SAFEHOUSE_MICHAEL_DRINK_WHISKEY";
break;
case joaat("prop_radio_01"):
if(bLocal_50) str="SAFEHOUSE_TREVOR_DRINK_BEER";
else str="SAFEHOUSE_MICHAEL_DRINK_BEER";
break;
case joaat("prop_cs_beer_bot_01"):
str="SAFEHOUSE_FRANKLIN_DRINK_BEER";
break;
case joaat("prop_rolled_sock_02"):
str="SAFEHOUSE_TREVOR_GAS";
break;
case joaat("prop_mr_raspberry_01"):
str="SAFEHOUSE_TREVOR_RASBERRY";
break;
case joaat("p_w_grass_gls_s"):
str="SAFEHOUSE_MICHAEL_DRINK_WHEATGRASS";
break;
case joaat("p_wine_glass_s"):
str="SAFEHOUSE_FRANKLIN_DRINK_WINE";
break;
case joaat("prop_cigar_03"):
str="SAFEHOUSE_MICHAEL_SIT_SOFA";
break;
case joaat("p_cs_joint_01"):
str="SAFEHOUSE_FRANKLIN_SOFA";
break;
}
return str;
}
BOOL func_99() // Position - 0x4B09{
Object object;
object=func_67();
if(ENTITY::DOES_ENTITY_EXIST(object)) return 1;
return 0;
}
BOOL func_100() // Position - 0x4B25{
STREAMING::REQUEST_ANIM_DICT(sLocal_335);
if(!STREAMING::HAS_ANIM_DICT_LOADED(sLocal_335)) return false;
bLocal_321=true;
return true;
}
eCharacter _GET_CURRENT_PLAYER_CHARACTER() // Position - 0x4B48{
func_102();
return Global_113648.f_2365.f_539.f_4321;
}


void func_102() // Position - 0x4B61{
eCharacter character;
if(ENTITY::DOES_ENTITY_EXIST(PLAYER::PLAYER_PED_ID())){
if(_GET_CHARACTER_MODEL(Global_113648.f_2365.f_539.f_4321) !=ENTITY::GET_ENTITY_MODEL(PLAYER::PLAYER_PED_ID())){
character=_GET_PLAYER_CHARACTER_FROM_PED(PLAYER::PLAYER_PED_ID());
if(func_103(character) && !func_16(14) || Global_112599){
if(Global_113648.f_2365.f_539.f_4321 !=character && func_103(Global_113648.f_2365.f_539.f_4321)) Global_113648.f_2365.f_539.f_4322=Global_113648.f_2365.f_539.f_4321;
Global_113648.f_2365.f_539.f_4323=character;
Global_113648.f_2365.f_539.f_4321=character;
return;
}}else{
if(Global_113648.f_2365.f_539.f_4321 !=_CHAR_NULL) Global_113648.f_2365.f_539.f_4323=Global_113648.f_2365.f_539.f_4321;
return;
}}
Global_113648.f_2365.f_539.f_4321=145;
return;
}
BOOL func_103(eCharacter echParam0) // Position - 0x4C5E{
return echParam0 < CHAR_MULTIPLAYER;
}
eCharacter _GET_PLAYER_CHARACTER_FROM_PED(Ped pedParam0) // Position - 0x4C6A{
eCharacter i;
Hash entityModel;
if(ENTITY::DOES_ENTITY_EXIST(pedParam0)){
entityModel=ENTITY::GET_ENTITY_MODEL(pedParam0);
for (i=CHAR_MICHAEL;
i <=CHAR_TREVOR;
i=i + 1){
if(_GET_CHARACTER_MODEL(i)==entityModel) return i;
}}
return _CHAR_NULL;
}
Hash _GET_CHARACTER_MODEL(eCharacter character) // Position - 0x4CA7{
if(func_103(character)) return func_106(character);
else character !=_CHAR_NULL;
return 0;
}
Hash func_106(eCharacter echParam0) // Position - 0x4CCC{
return Global_2028[echParam0 /*29*/];
}
BOOL func_107() // Position - 0x4CDB{
if(MISC::IS_PC_VERSION())if(MISC::GET_CITY_DENSITY()==1f) return true;
return false;
}
BOOL func_108() // Position - 0x4CF8{
if(Global_97603 !=-1) return IS_BIT_SET(Global_91469[Global_97603 /*34*/].f_15, 20);
return false;
}
BOOL func_109(int iParam0) // Position - 0x4D1B{
if(Global_43257==15) return false;
if(_CAN_ENTER_FREEROAM_STATE(iParam0)) return false;
return true;
}
BOOL _CAN_ENTER_FREEROAM_STATE(int iParam0) // Position - 0x4D3D{
return func_111(iParam0, Global_43257);
}
BOOL func_111(int iParam0, int iParam1) // Position - 0x4D4E{
if(iParam1==15) return 1;
if(iParam0==15) return 0;
switch (iParam0){
case 16:
switch (iParam1){
case 9:
case 10:
case 7:
case 13:
case 14:
return 0;
}
return 1;
case 0:
switch (iParam1){
case 5:
case 17:
return 1;
}
break;
case 2:
case 3:
switch (iParam1){
case 5:
case 6:
case 8:
case 17:
return 1;
}
break;
case 4:
if(iParam1==17) return 1;
break;
case 5:
break;
case 6:
case 8:
if(iParam1==5) return 1;
break;
case 7:
if(iParam1==6) return 1;
break;
case 9:
if(iParam1==5) return 1;
break;
case 10:
switch (iParam1){
case 5:
case 6:
case 17:
return 1;
}
break;
case 11:
if(iParam1==5) return 1;
break;
case 17:
switch (iParam1){
case 17:
case 12:
case 5:
return 1;
}
break;
case 18:
case 12:
switch (iParam1){
case 5:
case 6:
case 8:
return 1;
}
break;
case 13:
switch (iParam1){
case 5:
return 1;
}
break;
case 14:
switch (iParam1){
case 5:
return 1;
}
break;
}
return 0;
}


void func_112() // Position - 0x4F2F{
func_117();
if(_IS_THIS_HELP_MESSAGE_BEING_DISPLAYED(func_116()) || _IS_THIS_HELP_MESSAGE_BEING_DISPLAYED("TV_HLP0" /*Press ~INPUT_CONTEXT~ to sit on the couch.*/) || _IS_THIS_HELP_MESSAGE_BEING_DISPLAYED("TV_HLP1" /*Press ~INPUT_CONTEXT~ to turn on the TV.*/) || _IS_THIS_HELP_MESSAGE_BEING_DISPLAYED("TV_HLP2" /*Use ~INPUT_SCRIPT_LEFT_AXIS_X~ to change the channel.~n~Use ~INPUT_SCRIPT_LEFT_AXIS_Y~ to change the volume.~n~Press ~INPUT_NEXT_CAMERA~ to change view.~n~Press ~INPUT_CONTEXT~ to stop watching.~n~*/) || _IS_THIS_HELP_MESSAGE_BEING_DISPLAYED("TV_HLP3" /*Press ~INPUT_CONTEXT~ to watch the TV.~n~Press ~INPUT_SCRIPT_RLEFT~ to smoke.~n~Press ~INPUT_SCRIPT_RUP~ to stand up.~n~*/) || _IS_THIS_HELP_MESSAGE_BEING_DISPLAYED("TV_HLP4" /*Use ~INPUT_SCRIPT_LEFT_AXIS_X~ to change the channel.~n~Use ~INPUT_SCRIPT_LEFT_AXIS_Y~ to change the volume.~n~Press ~INPUT_CONTEXT~ to stop watching.~n~Press ~INPUT_SCRIPT_RLEFT~ to smoke.~n~Press ~INPUT_SCRIPT_RUP~ to stand up.~n~*/)) HUD::SET_SCRIPT_VARIABLE_HUD_COLOUR(1);
AUDIO::RELEASE_AMBIENT_AUDIO_BANK();
if(AUDIO::IS_AUDIO_SCENE_ACTIVE("FRANKLIN_SAFEHOUSE_ACTIVITIES_SCENE")) AUDIO::STOP_AUDIO_SCENE("FRANKLIN_SAFEHOUSE_ACTIVITIES_SCENE");
if(AUDIO::IS_AUDIO_SCENE_ACTIVE("TV_FRANKLINS_HOUSE_SOCEN")) AUDIO::STOP_AUDIO_SCENE("TV_FRANKLINS_HOUSE_SOCEN");
GRAPHICS::ENABLE_MOVIE_SUBTITLES(false);
if(bLocal_321) STREAMING::REMOVE_ANIM_DICT(func_45());
if(bLocal_322) STREAMING::REMOVE_PTFX_ASSET();
if(CAM::DOES_CAM_EXIST(caLocal_327)) CAM::DESTROY_CAM(caLocal_327, false);
func_115();
func_114(&uLocal_123, 0);
func_114(&uLocal_123, 1);
if(bLocal_51) BRAIN::REACTIVATE_NAMED_WORLD_BRAINS_WAITING_TILL_OUT_OF_RANGE("chop");
func_113();
if(bLocal_326) PAD::SHUTDOWN_PC_SCRIPTED_CONTROLS();
SCRIPT::TERMINATE_THIS_THREAD();
return;
}


void func_113() // Position - 0x501B{
if(PLAYER::IS_PLAYER_PLAYING(PLAYER::PLAYER_ID())){
if(!PLAYER::IS_PLAYER_CONTROL_ON(PLAYER::PLAYER_ID()) && func_86(true, false, true) && bLocal_51){
func_76(false, true, true, false, false, false, false);
if(!PED::IS_PED_INJURED(PLAYER::PLAYER_PED_ID())) TASK::CLEAR_PED_TASKS(PLAYER::PLAYER_PED_ID());
PLAYER::SET_PLAYER_CONTROL(PLAYER::PLAYER_ID(), true, 0);
}}
return;
}


void func_114(var uParam0, int iParam1) // Position - 0x5076{
if(uParam0->[iParam1 /*10*/].f_7==1) uParam0->[iParam1 /*10*/].f_7=0;
return;
}


void func_115() // Position - 0x5093{
iLocal_54=0;
return;
}


char* func_116() // Position - 0x509E{
char* str;
switch (iLocal_55){
case joaat("prop_bong_01"):
if(bLocal_49) str="SA_BONG2" /*Press ~INPUT_CONTEXT~ to take a hit from the bong.*/;
else str="SA_BONG" /*Press ~INPUT_CONTEXT~ to take a hit from Jimmy's bong.*/;
break;
case joaat("prop_cigar_03"):
str="SA_CIGAR" /*Press ~INPUT_CONTEXT~ to smoke a cigar.*/;
break;
case joaat("prop_cs_beer_bot_01"):
str="SA_BEER" /*Press ~INPUT_CONTEXT~ to drink a beer.*/;
break;
case joaat("p_cs_joint_01"):
str="SA_SPLFF" /*Press ~INPUT_CONTEXT~ to smoke a joint.*/;
break;
case joaat("p_tumbler_02_s1"):
str="SA_WHSKY" /*Press ~INPUT_CONTEXT~ to drink whiskey.*/;
break;
case joaat("p_tumbler_cs2_s"):
str="SA_WHSKY" /*Press ~INPUT_CONTEXT~ to drink whiskey.*/;
break;
case joaat("p_tumbler_cs2_s_trev"):
str="SA_WHSKY" /*Press ~INPUT_CONTEXT~ to drink whiskey.*/;
break;
case joaat("prop_rolled_sock_02"):
str="SA_GAS" /*Press ~INPUT_CONTEXT~ to huff gas.*/;
break;
case joaat("prop_mr_raspberry_01"):
str="SA_MRJAM" /*Press ~INPUT_CONTEXT~ to play with Mr. Raspberry Jam.*/;
break;
case joaat("prop_radio_01"):
str="SA_BEER" /*Press ~INPUT_CONTEXT~ to drink a beer.*/;
break;
case joaat("p_w_grass_gls_s"):
str="SA_WHEAT" /*Press ~INPUT_CONTEXT~ to drink green juice.*/;
break;
case joaat("p_wine_glass_s"):
str="SA_WINE" /*Press ~INPUT_CONTEXT~ to drink some wine.*/;
break;
default:
str="";
break;
}
return str;
}


void func_117() // Position - 0x517A{
switch (iLocal_55){
case joaat("prop_cigar_03"):
break;
case joaat("prop_bong_01"):
break;
case joaat("prop_cs_beer_bot_01"):
break;
case joaat("p_tumbler_02_s1"):
break;
case joaat("p_tumbler_cs2_s"):
break;
case joaat("p_tumbler_cs2_s_trev"):
break;
case joaat("prop_rolled_sock_02"):
break;
case joaat("prop_mr_raspberry_01"):
break;
case joaat("prop_radio_01"):
if(bLocal_50){
}
break;
case joaat("p_w_grass_gls_s"):
break;
case joaat("p_wine_glass_s"):
break;
}
return;
}
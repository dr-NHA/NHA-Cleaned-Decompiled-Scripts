//Cleaned With dr NHA's C Script Cleaner V2.72
#region Local Var
var uLocal_0=0;
var uLocal_1=0;
int iLocal_2=0;
int iLocal_3=0;
int iLocal_4=0;
int iLocal_5=0;
int iLocal_6=0;
int iLocal_7=0;
int iLocal_8=0;
int iLocal_9=0;
int iLocal_10=0;
int iLocal_11=0;
var uLocal_12=0;
var uLocal_13=0;
float fLocal_14=0f;
var uLocal_15=0;
var uLocal_16=0;
int iLocal_17=0;
var uLocal_18=0;
var uLocal_19=0;
char* sLocal_20=0;
float fLocal_21=0f;
var uLocal_22=0;
var uLocal_23=0;
var uLocal_24=0;
float fLocal_25=0f;
float fLocal_26=0f;
var uLocal_27=0;
var uLocal_28=0;
var uLocal_29=0;
BOOL bLocal_30=0;
BOOL bLocal_31=0;
BOOL bLocal_32=0;
BOOL bLocal_33=0;
BOOL bLocal_34=0;
BOOL bLocal_35=0;
BOOL bLocal_36=0;
int iLocal_37=0;
var uLocal_38=0;
var uLocal_39=0;
Hash hLocal_40=0;
Object obLocal_41=0;
var uLocal_42=12;
var uLocal_43=0;
var uLocal_44=0;
var uLocal_45=0;
var uLocal_46=0;
var uLocal_47=0;
var uLocal_48=0;
var uLocal_49=0;
var uLocal_50=0;
var uLocal_51=0;
var uLocal_52=0;
var uLocal_53=0;
var uLocal_54=0;
var uLocal_55=12;
var uLocal_56=0;
var uLocal_57=0;
var uLocal_58=0;
var uLocal_59=0;
var uLocal_60=0;
var uLocal_61=0;
var uLocal_62=0;
var uLocal_63=0;
var uLocal_64=0;
var uLocal_65=0;
var uLocal_66=0;
var uLocal_67=0;
var uLocal_68=12;
var uLocal_69=0;
var uLocal_70=0;
var uLocal_71=0;
var uLocal_72=0;
var uLocal_73=0;
var uLocal_74=0;
var uLocal_75=0;
var uLocal_76=0;
var uLocal_77=0;
var uLocal_78=0;
var uLocal_79=0;
var uLocal_80=0;
var uLocal_81=9;
var uLocal_82=0;
var uLocal_83=0;
var uLocal_84=0;
var uLocal_85=0;
var uLocal_86=0;
var uLocal_87=0;
var uLocal_88=0;
var uLocal_89=0;
var uLocal_90=0;
var uLocal_91=9;
var uLocal_92=0;
var uLocal_93=0;
var uLocal_94=0;
var uLocal_95=0;
var uLocal_96=0;
var uLocal_97=0;
var uLocal_98=0;
var uLocal_99=0;
var uLocal_100=0;
var uLocal_101=0;
var uLocal_102=0;
var uLocal_103=0;
var uLocal_104=0;
var uLocal_105=0;
var uLocal_106=0;
var uLocal_107=0;
var uLocal_108=16;
var uLocal_109=0;
var uLocal_110=0;
var uLocal_111=0;
var uLocal_112=0;
var uLocal_113=0;
var uLocal_114=0;
var uLocal_115=0;
var uLocal_116=0;
var uLocal_117=0;
var uLocal_118=0;
var uLocal_119=0;
var uLocal_120=0;
var uLocal_121=0;
var uLocal_122=0;
var uLocal_123=0;
var uLocal_124=0;
var uLocal_125=0;
var uLocal_126=0;
var uLocal_127=0;
var uLocal_128=0;
var uLocal_129=0;
var uLocal_130=0;
var uLocal_131=0;
var uLocal_132=0;
var uLocal_133=0;
var uLocal_134=0;
var uLocal_135=0;
var uLocal_136=0;
var uLocal_137=0;
var uLocal_138=0;
var uLocal_139=0;
var uLocal_140=0;
var uLocal_141=0;
var uLocal_142=0;
var uLocal_143=0;
var uLocal_144=0;
var uLocal_145=0;
var uLocal_146=0;
var uLocal_147=0;
var uLocal_148=0;
var uLocal_149=0;
var uLocal_150=0;
var uLocal_151=0;
var uLocal_152=0;
var uLocal_153=0;
var uLocal_154=0;
var uLocal_155=0;
var uLocal_156=0;
var uLocal_157=0;
var uLocal_158=0;
var uLocal_159=0;
var uLocal_160=0;
var uLocal_161=0;
var uLocal_162=0;
var uLocal_163=0;
var uLocal_164=0;
var uLocal_165=0;
var uLocal_166=0;
var uLocal_167=0;
var uLocal_168=0;
var uLocal_169=0;
var uLocal_170=0;
var uLocal_171=0;
var uLocal_172=0;
var uLocal_173=0;
var uLocal_174=0;
var uLocal_175=0;
var uLocal_176=0;
var uLocal_177=0;
var uLocal_178=0;
var uLocal_179=0;
var uLocal_180=0;
var uLocal_181=0;
var uLocal_182=0;
var uLocal_183=0;
var uLocal_184=0;
var uLocal_185=0;
var uLocal_186=0;
var uLocal_187=0;
var uLocal_188=0;
var uLocal_189=0;
var uLocal_190=0;
var uLocal_191=0;
var uLocal_192=0;
var uLocal_193=0;
var uLocal_194=0;
var uLocal_195=0;
var uLocal_196=0;
var uLocal_197=0;
var uLocal_198=0;
var uLocal_199=0;
var uLocal_200=0;
var uLocal_201=0;
var uLocal_202=0;
var uLocal_203=0;
var uLocal_204=0;
var uLocal_205=0;
var uLocal_206=0;
var uLocal_207=0;
var uLocal_208=0;
var uLocal_209=0;
var uLocal_210=0;
var uLocal_211=0;
var uLocal_212=0;
var uLocal_213=0;
var uLocal_214=0;
var uLocal_215=0;
var uLocal_216=0;
var uLocal_217=0;
var uLocal_218=0;
var uLocal_219=0;
var uLocal_220=0;
var uLocal_221=0;
var uLocal_222=0;
var uLocal_223=0;
var uLocal_224=0;
var uLocal_225=0;
var uLocal_226=0;
var uLocal_227=0;
var uLocal_228=0;
var uLocal_229=0;
var uLocal_230=0;
var uLocal_231=0;
var uLocal_232=0;
var uLocal_233=0;
var uLocal_234=0;
var uLocal_235=0;
var uLocal_236=0;
var uLocal_237=0;
var uLocal_238=0;
var uLocal_239=0;
var uLocal_240=0;
var uLocal_241=0;
var uLocal_242=0;
var uLocal_243=0;
var uLocal_244=0;
var uLocal_245=0;
var uLocal_246=0;
var uLocal_247=0;
var uLocal_248=0;
var uLocal_249=0;
var uLocal_250=0;
var uLocal_251=0;
var uLocal_252=0;
var uLocal_253=0;
var uLocal_254=0;
var uLocal_255=0;
var uLocal_256=0;
var uLocal_257=0;
var uLocal_258=0;
var uLocal_259=0;
var uLocal_260=0;
var uLocal_261=0;
var uLocal_262=0;
var uLocal_263=0;
var uLocal_264=0;
var uLocal_265=0;
var uLocal_266=0;
var uLocal_267=0;
var uLocal_268=0;
var uLocal_269=0;
var uLocal_270=0;
var uLocal_271=0;
var uLocal_272=0;
var uLocal_273=4;
var uLocal_274=0;
var uLocal_275=0;
var uLocal_276=0;
var uLocal_277=0;
var uLocal_278=0;
var uLocal_279=0;
var uLocal_280=0;
var uLocal_281=0;
var uLocal_282=0;
var uLocal_283=0;
var uLocal_284=0;
var uLocal_285=0;
var uLocal_286=0;
var uLocal_287=0;
var uLocal_288=0;
var uLocal_289=0;
var uLocal_290=0;
var uLocal_291=0;
int iLocal_292=0;
int iLocal_293=0;
int iLocal_294=0;
Cam caLocal_295=0;
int iLocal_296=0;
BOOL bLocal_297=0;
BOOL bLocal_298=0;
BOOL bLocal_299=0;
int iLocal_300=0;
int iLocal_301=0;
Object obScriptParam_0=0;
#endregion

void main() // Position - 0x0{
iLocal_2=1;
iLocal_3=134;
iLocal_4=134;
iLocal_5=1;
iLocal_6=1;
iLocal_7=1;
iLocal_8=134;
iLocal_9=1;
iLocal_10=12;
iLocal_11=12;
fLocal_14=0.001f;
iLocal_17=-1;
sLocal_20="NULL";
fLocal_21=0f;
fLocal_25=-0.0375f;
fLocal_26=0.17f;
iLocal_37=1;
uLocal_286={
0f, 0f, 0f 
};
uLocal_289={
0f, 0f, 0f 
};
iLocal_296=MISC::GET_RANDOM_INT_IN_RANGE(0, 4);
func_76();
if(PLAYER::HAS_FORCE_CLEANUP_OCCURRED(19)) func_74();
if(func_71(9)) func_74();
if(func_70() && !func_69()) func_74();
if(ENTITY::DOES_ENTITY_EXIST(obScriptParam_0)){
obLocal_41=obScriptParam_0;
ENTITY::FREEZE_ENTITY_POSITION(obLocal_41, true);
hLocal_40=ENTITY::GET_ENTITY_MODEL(obLocal_41);
}
_CONVERSATION_INITIALIZE_ACTOR(&uLocal_108, 2, PLAYER::PLAYER_PED_ID(), "TREVOR", 0, 1);
while (true){
SYSTEM::WAIT(0);
if(ENTITY::DOES_ENTITY_EXIST(obLocal_41)){
if(BRAIN::IS_OBJECT_WITHIN_BRAIN_ACTIVATION_RANGE(obLocal_41) && !ENTITY::IS_ENTITY_DEAD(obLocal_41, false) && !PED::IS_PED_INJURED(PLAYER::PLAYER_PED_ID()) && func_63() && func_62(0) && !STREAMING::IS_PLAYER_SWITCH_IN_PROGRESS()){
switch (iLocal_292){
case 0:
if(func_60() && func_58()) iLocal_292=1;
break;
case 1:
if(!PED::IS_PED_INJURED(PLAYER::PLAYER_PED_ID())) func_1();
break;
case 2:
break;
}}else{
func_74();
}}else{
func_74();
}}
return;
}


void func_1() // Position - 0x171{
Vector3 vector;
var unk3;
float synchronizedScenePhase;
float num;
float num2;
vector={
func_57() 
};
unk3={
1.2f, 1.2f, 1.2f 
};
synchronizedScenePhase=0f;
switch (iLocal_293){
case 0:
if(func_52(vector, unk3) && PED::IS_PED_HEADING_TOWARDS_POSITION(PLAYER::PLAYER_PED_ID(), ENTITY::GET_ENTITY_COORDS(obLocal_41, true), 90f)){
func_76();
if(!AUDIO::IS_AUDIO_SCENE_ACTIVE("TREVOR_SAFEHOUSE_ACTIVITIES_SCENE")) AUDIO::START_AUDIO_SCENE("TREVOR_SAFEHOUSE_ACTIVITIES_SCENE");
func_50(func_51());
iLocal_293=1;
}
break;
case 1:
if(func_49(true, false, true)){
if(func_52(vector, unk3)){
if(!PLAYER::IS_PLAYER_FREE_AIMING(PLAYER::PLAYER_ID()) && !PLAYER::IS_PLAYER_TARGETTING_ANYTHING(PLAYER::PLAYER_ID()) && GRAPHICS::RESET_PARTICLE_FX_OVERRIDE(2, 51)){
func_76();
func_40(true, true, true, false, false, false, false);
if(_IS_THIS_HELP_MESSAGE_BEING_DISPLAYED(func_51())) HUD::SET_SCRIPT_VARIABLE_HUD_COLOUR(1);
MISC::CLEAR_AREA_OF_PROJECTILES(vector, 3f, 0);
PLAYER::SET_PLAYER_CONTROL(PLAYER::PLAYER_ID(), false, SPC_LEAVE_CAMERA_CONTROL_ON);
bLocal_36=true;
WEAPON::SET_CURRENT_PED_WEAPON(PLAYER::PLAYER_PED_ID(), joaat("WEAPON_UNARMED"), true);
ENTITY::FREEZE_ENTITY_POSITION(obLocal_41, false);
func_40(true, true, true, false, false, false, false);
iLocal_293=2;
}}else{
if(_IS_THIS_HELP_MESSAGE_BEING_DISPLAYED(func_51())) HUD::SET_SCRIPT_VARIABLE_HUD_COLOUR(1);
iLocal_293=0;
}}
break;
case 2:
func_38();
HUD::HIDE_HUD_AND_RADAR_THIS_FRAME();
PAD::DISABLE_CONTROL_ACTION(CAMERA_CONTROL, INPUT_NEXT_CAMERA, true);
iLocal_294=PED::CREATE_SYNCHRONIZED_SCENE(func_37(), func_36(), 2);
TASK::TASK_SYNCHRONIZED_SCENE(PLAYER::PLAYER_PED_ID(), iLocal_294, func_35(), func_34(iLocal_296), 8f, -2f, 0, 0, 1148846080, 0);
ENTITY::PLAY_SYNCHRONIZED_ENTITY_ANIM(obLocal_41, iLocal_294, func_33(iLocal_296), func_35(), 8f, -2f, 0, 1148846080);
if(PED::IS_SYNCHRONIZED_SCENE_HOLD_LAST_FRAME(iLocal_294)) PED::SET_SYNCHRONIZED_SCENE_HOLD_LAST_FRAME(iLocal_294, false);
if(CAM::GET_FOLLOW_PED_CAM_VIEW_MODE() !=FIRST_PERSON){
caLocal_295=unk_0xDEE46CEB08617ECA("DEFAULT_ANIMATED_CAMERA", 1);
CAM::PLAY_SYNCHRONIZED_CAM_ANIM(caLocal_295, iLocal_294, func_30(iLocal_296), func_35());
CAM::RENDER_SCRIPT_CAMS(true, false, 3000, true, false, 0);
}else{
CAM::DESTROY_ALL_CAMS(false);
}
bLocal_299=false;
iLocal_300=MISC::GET_GAME_TIMER() + func_29();
iLocal_293=3;
break;
case 3:
func_38();
HUD::HIDE_HUD_AND_RADAR_THIS_FRAME();
PAD::DISABLE_CONTROL_ACTION(CAMERA_CONTROL, INPUT_NEXT_CAMERA, true);
if(PED::IS_SYNCHRONIZED_SCENE_RUNNING(iLocal_294)){
func_27();
if(bLocal_297){
synchronizedScenePhase=PED::GET_SYNCHRONIZED_SCENE_PHASE(iLocal_294);
if(ENTITY::FIND_ANIM_EVENT_PHASE(func_35(), func_34(iLocal_296), "WalkInterruptible", &num, &num2))if(synchronizedScenePhase >=num && synchronizedScenePhase <=num2) iLocal_293=5;
}
if(!bLocal_299 && MISC::GET_GAME_TIMER() > iLocal_300)if(_CONVERSATION_ADD_LINE(&uLocal_108, "RASPAUD", func_26(), 7, 0, 0, 0)) bLocal_299=true;
}else{
iLocal_293=5;
}
break;
case 4:
PAD::DISABLE_CONTROL_ACTION(CAMERA_CONTROL, INPUT_NEXT_CAMERA, true);
if(!PED::IS_SYNCHRONIZED_SCENE_RUNNING(iLocal_294)) iLocal_293=5;
break;
case 5:
if(func_2(caLocal_295)) CAM::STOP_RENDERING_SCRIPT_CAMS_USING_CATCH_UP(false, 0, 3, 0);
AUDIO::RELEASE_AMBIENT_AUDIO_BANK();
if(STATS::STAT_GET_INT(joaat("NUM_SH_MR_JAM_USED"), &iLocal_301, -1)) STATS::STAT_SET_INT(joaat("NUM_SH_MR_JAM_USED"), iLocal_301 + 1, true);
PLAYER::SET_PLAYER_CONTROL(PLAYER::PLAYER_ID(), true, 0);
bLocal_36=false;
iLocal_296=iLocal_296 + 1;
if(iLocal_296 > 3) iLocal_296=0;
bLocal_297=false;
if(ENTITY::GET_ENTITY_HEALTH(PLAYER::PLAYER_PED_ID()) < PED::GET_PED_MAX_HEALTH(PLAYER::PLAYER_PED_ID()) - 10) ENTITY::SET_ENTITY_HEALTH(PLAYER::PLAYER_PED_ID(), ENTITY::GET_ENTITY_HEALTH(PLAYER::PLAYER_PED_ID()) + 10, 0);
func_40(false, true, true, false, false, false, false);
ENTITY::FREEZE_ENTITY_POSITION(obLocal_41, true);
iLocal_293=0;
break;
}
return;
}
BOOL func_2(Cam caParam0) // Position - 0x4DE{
if(CAM::GET_FOLLOW_PED_CAM_VIEW_MODE() !=FIRST_PERSON && CAM::DOES_CAM_EXIST(caParam0)) return true;
return false;
}
BOOL _CONVERSATION_ADD_LINE(var uParam0, char* sParam1, char* sParam2, int iParam3, int iParam4, int iParam5, int iParam6) // Position - 0x4FF{
func_25(uParam0, 145, sParam1, iParam4, iParam5, iParam6);
if(iParam3 > 7)if(iParam3 < 12) iParam3=7;
Global_21732=0;
Global_21734=0;
Global_21739=0;
Global_22716=0;
Global_22718=0;
Global_22722=0;
Global_2883585=0;
return func_4(sParam2, iParam3, false);
}
BOOL func_4(char* sParam0, int iParam1, BOOL bParam2) // Position - 0x54D{
Global_21726=0;
if(Global_21725==0 || Global_21727==2){
if(Global_21725 !=0){
if(iParam1 > Global_21727){
if(Global_21732==0){
AUDIO::STOP_SCRIPTED_CONVERSATION(false);
Global_20383.f_1=3;
Global_21725=0;
Global_21726=1;
Global_21778=0;
Global_21721=0;
Global_21722=0;
Global_21736=0;
Global_21735=false;
Global_20382=0;
}else{
func_24();
return 0;
}}else{
return 0;
}}
if(AUDIO::IS_SCRIPTED_CONVERSATION_ONGOING()) return 0;
if(func_23(8, -1)) return 0;
Global_21801={
Global_21795 
};
func_22();
Global_21014={
Global_21179 
};
Global_21731=Global_21732;
Global_21738=Global_21739;
Global_2883586=Global_2883585;
Global_21740={
Global_21756 
};
Global_21733=Global_21734;
Global_22715=Global_22716;
Global_22723={
Global_22729 
};
Global_22717=Global_22718;
Global_22719=Global_22720;
Global_22721=Global_22722;
Global_21344.f_370=Global_22714;
Global_21344.f_368=Global_22712;
Global_21344.f_369=Global_22713;
Global_21721=Global_21722;
if(Global_21731){
MISC::CLEAR_BIT(&Global_8253, 20);
MISC::CLEAR_BIT(&Global_8254, 17);
MISC::CLEAR_BIT(&Global_8255, 0);
if(bParam2){
_UPDATE_CURRENT_PLAYER_CHARACTER();
if(Global_9058[Global_20383 /*2811*/][0 /*281*/].f_259==2){
if(iParam1==13){
}else{
return 0;
}}
if(Global_20383.f_1 > 3) return 0;
}
if(Global_20349==1) return 0;
if(PLAYER::IS_PLAYER_PLAYING(PLAYER::PLAYER_ID())){
if(PED::IS_PED_IN_MELEE_COMBAT(PLAYER::PLAYER_PED_ID())) return 0;
if(func_13()) return 0;
if(TASK::IS_PED_SPRINTING(PLAYER::PLAYER_PED_ID())) return 0;
if(PED::IS_PED_RAGDOLL(PLAYER::PLAYER_PED_ID())) return 0;
if(PED::IS_PED_IN_PARACHUTE_FREE_FALL(PLAYER::PLAYER_PED_ID())) return 0;
if(WEAPON::GET_IS_PED_GADGET_EQUIPPED(PLAYER::PLAYER_PED_ID(), joaat("GADGET_PARACHUTE"))) return 0;
if(!Global_78558){
if(ENTITY::IS_ENTITY_IN_WATER(PLAYER::PLAYER_PED_ID())) return 0;
if(PLAYER::IS_PLAYER_CLIMBING(PLAYER::PLAYER_ID())) return 0;
if(PED::IS_PED_PLANTING_BOMB(PLAYER::PLAYER_PED_ID())) return 0;
if(PLAYER::IS_SPECIAL_ABILITY_ACTIVE(PLAYER::PLAYER_ID(), 0)) return 0;
}}
if(func_12()){
return 0;
}else{
switch (Global_20383.f_1){
case 7:
return 0;
case 8:
return 0;
case 9:
break;
case 10:
break;
default:
break;
}
if(IS_BIT_SET(Global_8253, 9)) return 0;
}
func_11();
Global_21735=bParam2;
}
Global_21727=iParam1;
TEXT_LABEL_ASSIGN_STRING(&Global_21344, sParam0, 24);
Global_20591=0;
func_10();
func_5();
return 1;
}
if(Global_21725==5) return 0;
if(iParam1 < Global_21727 || iParam1==Global_21727) return 0;
if(iParam1==2){}else{
func_24();
}
return 0;
}


void func_5() // Position - 0x81B{
if(!func_6()) return;
if(Global_21731){
TEXT_LABEL_COPY(&(Global_1977511.f_1),{
Global_21344 
}
, 4);
Global_1977511=Global_7568;
Global_1977511.f_6=Global_21735;
}
return;
}
BOOL func_6() // Position - 0x852{
if(!Global_262145.f_28878) return false;
if(!Global_78558) return false;
if(PLAYER::PLAYER_ID()==_INVALID_PLAYER_INDEX()) return false;
if(func_7(PLAYER::PLAYER_ID())) return false;
if(IS_BIT_SET(Global_1894573[PLAYER::PLAYER_ID() /*608*/].f_1, 7)) return false;
if(NETWORK::NETWORK_IS_ACTIVITY_SESSION()) return false;
return true;
}
BOOL func_7(Player plParam0) // Position - 0x8B5{
return func_8(plParam0, 20);
}
BOOL func_8(Player plParam0, int iParam1) // Position - 0x8C5{
return IS_BIT_SET(Global_1894573[plParam0 /*608*/].f_10.f_4, iParam1);
}
Player _INVALID_PLAYER_INDEX() // Position - 0x8DD{
return -1;
}


void func_10() // Position - 0x8E6{
int i;
for (i=0;
i <=69;
i=i + 1){
TEXT_LABEL_ASSIGN_STRING(&Global_20593[i /*6*/], "", 24);
}
AUDIO::STOP_SCRIPTED_CONVERSATION(false);
Global_21725=1;
return;
}


void func_11() // Position - 0x917{
Global_21778=Global_21777;
Global_21772=Global_21773;
Global_21819={
Global_21807 
};
Global_21825={
Global_21813 
};
Global_21780=Global_21779;
Global_21849={
Global_21831 
};
Global_21855={
Global_21837 
};
Global_21861={
Global_21843 
};
Global_21867={
Global_21873 
};
Global_7568=Global_7569;
Global_7570=Global_7571;
Global_21736=Global_21737;
Global_21738=Global_21739;
Global_21740={
Global_21756 
};
Global_21729=Global_21730;
Global_22741=0;
Global_21774=0;
Global_21775=0;
MISC::CLEAR_BIT(&Global_8254, 16);
return;
}
BOOL func_12() // Position - 0x9AC{
if(Global_20383.f_1==1 || Global_20383.f_1==0) return true;
return false;
}
BOOL func_13() // Position - 0x9D3{
int num;
int weaponHash;
if(Global_78558){
num=0;
WEAPON::GET_CURRENT_PED_WEAPON(PLAYER::PLAYER_PED_ID(), &weaponHash, true);
if(PLAYER::IS_PLAYER_PLAYING(PLAYER::PLAYER_ID()))if(weaponHash==joaat("WEAPON_SNIPERRIFLE") || weaponHash==joaat("WEAPON_HEAVYSNIPER") || weaponHash==joaat("WEAPON_REMOTESNIPER")) num=1;
if(CAM::IS_AIM_CAM_ACTIVE() && num==1) return true;
else return false;
}
if(PLAYER::IS_PLAYER_PLAYING(PLAYER::PLAYER_ID()))if(PED::GET_PED_CONFIG_FLAG(PLAYER::PLAYER_PED_ID(), 78, true)) return true;
else return false;
return true;
}


void _UPDATE_CURRENT_PLAYER_CHARACTER() // Position - 0xA6C{
if(func_21(14)){
if(!ENTITY::IS_ENTITY_DEAD(PLAYER::PLAYER_PED_ID(), false))if(ENTITY::GET_ENTITY_MODEL(PLAYER::PLAYER_PED_ID())==Global_113648.f_28052[0 /*29*/]) Global_20383=CHAR_MICHAEL;
elseif(ENTITY::GET_ENTITY_MODEL(PLAYER::PLAYER_PED_ID())==Global_113648.f_28052[1 /*29*/]) Global_20383=CHAR_FRANKLIN;
elseif(ENTITY::GET_ENTITY_MODEL(PLAYER::PLAYER_PED_ID())==Global_113648.f_28052[2 /*29*/]) Global_20383=CHAR_TREVOR;
else Global_20383=CHAR_MICHAEL;
}else{
Global_20383=_GET_CURRENT_PLAYER_CHARACTER();
if(Global_20383==_CHAR_NULL) Global_20383=CHAR_MULTIPLAYER;
if(Global_78558) Global_20383=CHAR_MULTIPLAYER;
if(Global_20383 > CHAR_MULTIPLAYER) Global_20383=CHAR_MULTIPLAYER;
}
return;
}
eCharacter _GET_CURRENT_PLAYER_CHARACTER() // Position - 0xB0E{
func_16();
return Global_113648.f_2365.f_539.f_4321;
}


void func_16() // Position - 0xB27{
eCharacter character;
if(ENTITY::DOES_ENTITY_EXIST(PLAYER::PLAYER_PED_ID())){
if(_GET_CHARACTER_MODEL(Global_113648.f_2365.f_539.f_4321) !=ENTITY::GET_ENTITY_MODEL(PLAYER::PLAYER_PED_ID())){
character=_GET_PLAYER_CHARACTER_FROM_PED(PLAYER::PLAYER_PED_ID());
if(func_17(character) && !func_21(14) || Global_112599){
if(Global_113648.f_2365.f_539.f_4321 !=character && func_17(Global_113648.f_2365.f_539.f_4321)) Global_113648.f_2365.f_539.f_4322=Global_113648.f_2365.f_539.f_4321;
Global_113648.f_2365.f_539.f_4323=character;
Global_113648.f_2365.f_539.f_4321=character;
return;
}}else{
if(Global_113648.f_2365.f_539.f_4321 !=_CHAR_NULL) Global_113648.f_2365.f_539.f_4323=Global_113648.f_2365.f_539.f_4321;
return;
}}
Global_113648.f_2365.f_539.f_4321=145;
return;
}
BOOL func_17(eCharacter echParam0) // Position - 0xC24{
return echParam0 < CHAR_MULTIPLAYER;
}
eCharacter _GET_PLAYER_CHARACTER_FROM_PED(Ped pedParam0) // Position - 0xC30{
eCharacter i;
Hash entityModel;
if(ENTITY::DOES_ENTITY_EXIST(pedParam0)){
entityModel=ENTITY::GET_ENTITY_MODEL(pedParam0);
for (i=CHAR_MICHAEL;
i <=CHAR_TREVOR;
i=i + 1){
if(_GET_CHARACTER_MODEL(i)==entityModel) return i;
}}
return _CHAR_NULL;
}
Hash _GET_CHARACTER_MODEL(eCharacter character) // Position - 0xC6D{
if(func_17(character)) return func_20(character);
else character !=_CHAR_NULL;
return 0;
}
Hash func_20(eCharacter echParam0) // Position - 0xC92{
return Global_2028[echParam0 /*29*/];
}
BOOL func_21(int iParam0) // Position - 0xCA1{
return Global_43257==iParam0;
}


void func_22() // Position - 0xCAF{
int i;
for (i=0;
i <=15;
i=i + 1){
Global_21014[i /*10*/]=0;
TEXT_LABEL_ASSIGN_STRING(&(Global_21014[i /*10*/].f_1), "", 24);
Global_21014[i /*10*/].f_7=0;
Global_21014[i /*10*/].f_8=0;
}
Global_21014.f_161=-99;
Global_21014.f_162={
0f, 0f, 0f 
};
return;
}
BOOL func_23(int iParam0, int iParam1) // Position - 0xD06{
switch (iParam0){
case 5:
if(iParam1 > -1) return Global_1653913.f_203[iParam1];
break;
}
return IS_BIT_SET(Global_1653913.f_1048, iParam0);
}


void func_24() // Position - 0xD3E{
AUDIO::RESTART_SCRIPTED_CONVERSATION();
Global_22736=0;
if(AUDIO::IS_MOBILE_PHONE_CALL_ONGOING() || Global_20383.f_1==9 || Global_20382==1){
AUDIO::STOP_SCRIPTED_CONVERSATION(false);
Global_21725=6;
Global_20383.f_1=3;
return;
}
if(AUDIO::IS_SCRIPTED_CONVERSATION_ONGOING()){
AUDIO::STOP_SCRIPTED_CONVERSATION(true);
Global_21725=6;
return;
}
return;
}


void func_25(var uParam0, int iParam1, char* sParam2, int iParam3, int iParam4, int iParam5) // Position - 0xD95{
Global_21179={
*uParam0 
};
Global_7569=iParam1;
TEXT_LABEL_ASSIGN_STRING(&Global_21795, sParam2, 24);
Global_22714=iParam5;
if(iParam3==0){
Global_22712=1;
Global_22710=0;
}else{
Global_22712=0;
Global_22710=1;
}
if(iParam4==0){
Global_22713=1;
Global_22711=0;
}else{
Global_22713=0;
Global_22711=1;
}
return;
}


char* func_26() // Position - 0xDEB{
char* str;
switch (iLocal_296){
case 0:
str="SHRJ_0";
break;
case 1:
str="SHRJ_1";
break;
case 2:
str="SHRJ_2";
break;
case 3:
str="SHRJ_3";
break;
}
return str;
}


void func_27() // Position - 0xE35{
int num;
int num2;
var unk;
var unk2;
if(bLocal_297==false){
func_28(&num, &num2, &unk, &unk2, false);
if(num < -64 || num > 64 || num2 < -64 || num2 > 64) bLocal_297=true;
}
return;
}


void func_28(var uParam0, var uParam1, var uParam2, var uParam3, BOOL bParam4) // Position - 0xE80{
*uParam0=SYSTEM::FLOOR(PAD::GET_CONTROL_NORMAL(FRONTEND_CONTROL, INPUT_SCRIPT_LEFT_AXIS_X) * 127f);
*uParam1=SYSTEM::FLOOR(PAD::GET_CONTROL_NORMAL(FRONTEND_CONTROL, INPUT_SCRIPT_LEFT_AXIS_Y) * 127f);
*uParam2=SYSTEM::FLOOR(PAD::GET_CONTROL_NORMAL(FRONTEND_CONTROL, INPUT_SCRIPT_RIGHT_AXIS_X) * 127f);
*uParam3=SYSTEM::FLOOR(PAD::GET_CONTROL_NORMAL(FRONTEND_CONTROL, INPUT_SCRIPT_RIGHT_AXIS_Y) * 127f);
if(bParam4){
if((float)*uParam0==0f && (float)*uParam1==0f){
*uParam0=SYSTEM::FLOOR(PAD::GET_DISABLED_CONTROL_NORMAL(FRONTEND_CONTROL, INPUT_SCRIPT_LEFT_AXIS_X) * 127f);
*uParam1=SYSTEM::FLOOR(PAD::GET_DISABLED_CONTROL_NORMAL(FRONTEND_CONTROL, INPUT_SCRIPT_LEFT_AXIS_Y) * 127f);
}
if((float)*uParam2==0f && (float)*uParam3==0f){
*uParam2=SYSTEM::FLOOR(PAD::GET_DISABLED_CONTROL_NORMAL(FRONTEND_CONTROL, INPUT_SCRIPT_RIGHT_AXIS_X) * 127f);
*uParam3=SYSTEM::FLOOR(PAD::GET_DISABLED_CONTROL_NORMAL(FRONTEND_CONTROL, INPUT_SCRIPT_RIGHT_AXIS_Y) * 127f);
}}
return;
}

int func_29() // Position - 0xF55{
switch (iLocal_296){
case 0:
return 3600;
case 1:
return 4000;
case 2:
return 3000;
case 3:
return 5500;
default:
break;
}
return 0;
}


char* func_30(int iParam0) // Position - 0xFA5{
char* str;
str="";
switch (hLocal_40){
case joaat("prop_bong_01"):
if(bLocal_34) str="bong_cam";
else str="short_cam";
break;
case joaat("prop_cs_beer_bot_01"):
str="enter_cam";
break;
case joaat("prop_rolled_sock_02"):
str="ig_8_huff_gas_cam";
break;
case joaat("prop_mr_raspberry_01"):
switch (iParam0){
case 0:
str="ig_7_howcouldisayno_cam";
break;
case 1:
str="ig_7_ifuwanttodothat_cam";
break;
case 2:
str="ig_7_lookatu_cam";
break;
case 3:
str="ig_7_smelllikeasea_cam";
break;
}
break;
case joaat("p_w_grass_gls_s"):
str="ig_2_wheatgrassdrink_cam";
break;
case joaat("p_wine_glass_s"):
str=func_31();
break;
}
return str;
}


char* func_31() // Position - 0x1058{
char* str;
Vector3 gameplayCamCoord;
float distanceBetweenCoords;
float distanceBetweenCoords2;
func_32();
str="";
gameplayCamCoord={
CAM::GET_GAMEPLAY_CAM_COORD() 
};
distanceBetweenCoords=MISC::GET_DISTANCE_BETWEEN_COORDS(gameplayCamCoord, uLocal_273[0 /*3*/], true);
distanceBetweenCoords2=MISC::GET_DISTANCE_BETWEEN_COORDS(gameplayCamCoord, uLocal_273[1 /*3*/], true);
if(distanceBetweenCoords < distanceBetweenCoords2){
str="drinking_wine_cam2";
uLocal_286={
-8.9f, 515.6f, 175.4f 
};
uLocal_289={
-17.1f, 0.5f, 6.5f 
};
}else{
str="drinking_wine_cam3";
uLocal_286={
-10.1f, 516f, 175.3f 
};
uLocal_289={
-13.5f, 0.5f, -56f 
};
}
return str;
}


void func_32() // Position - 0x1100{
uLocal_273[0 /*3*/]={
-10.1749f, 517.8317f, 175.192f 
};
uLocal_273[1 /*3*/]={
-7.694f, 516.4619f, 175.2034f 
};
uLocal_273[2 /*3*/]={
-8.0344f, 518.4184f, 175.1866f 
};
uLocal_273[3 /*3*/]={
-9.7451f, 515.6803f, 175.1711f 
};
return;
}


char* func_33(int iParam0) // Position - 0x1164{
char* str;
switch (hLocal_40){
case joaat("prop_bong_01"):
if(bLocal_34) str="bong_bong";
else str="bong_short";
break;
case joaat("prop_cs_beer_bot_01"):
str="enter_bottle";
break;
case joaat("prop_mr_raspberry_01"):
switch (iParam0){
case 0:
str="ig_7_howcouldisayno_raspjam";
break;
case 1:
str="ig_7_ifuwanttodothat_raspjam";
break;
case 2:
str="ig_7_lookatu_raspjam";
break;
case 3:
str="ig_7_smelllikeasea_raspjam";
break;
}
break;
case joaat("p_tumbler_02_s1"):
case joaat("p_tumbler_cs2_s"):
case joaat("p_tumbler_cs2_s_trev"):
if(bLocal_35) str="enter_shotglass";
else str="enter_glass";
break;
case joaat("prop_rolled_sock_02"):
str="ig_8_huff_gas_rag";
break;
case joaat("prop_radio_01"):
if(bLocal_35) str="enter_beer";
else str="enter_bottle";
break;
case joaat("p_w_grass_gls_s"):
str="ig_2_wheatgrassdrink_glass";
break;
case joaat("p_wine_glass_s"):
str="drinking_wine_glass";
break;
}
return str;
}


char* func_34(int iParam0) // Position - 0x1260{
char* str;
switch (hLocal_40){
case joaat("prop_bong_01"):
if(bLocal_34) str="bong_FRA";
else str="michael_short";
break;
case joaat("prop_cigar_03"):
str="cigar_enter_michael";
break;
case joaat("prop_cs_beer_bot_01"):
str="enter";
break;
case joaat("p_tumbler_02_s1"):
case joaat("p_tumbler_cs2_s"):
if(bLocal_35) str="enter_trevor";
else str="enter";
break;
case joaat("prop_rolled_sock_02"):
str="ig_8_huff_gas_player";
break;
case joaat("prop_mr_raspberry_01"):
switch (iParam0){
case 0:
str="ig_7_howcouldisayno";
break;
case 1:
str="ig_7_ifuwanttodothat";
break;
case 2:
str="ig_7_lookatu";
break;
case 3:
str="ig_7_smelllikeasea";
break;
}
break;
case joaat("prop_radio_01"):
if(bLocal_35) str="enter";
else str="enter_michael";
break;
case joaat("p_w_grass_gls_s"):
str="ig_2_wheatgrassdrink_michael";
break;
case joaat("p_wine_glass_s"):
str="drinking_wine";
break;
}
return str;
}


char* func_35() // Position - 0x1365{
char* str;
switch (hLocal_40){
case joaat("prop_bong_01"):
if(bLocal_34) str="safe@franklin@ig_10";
else str="safe@michael@ig_4";
break;
case joaat("prop_cigar_03"):
str="safe@michael@ig_3";
break;
case joaat("prop_cs_beer_bot_01"):
str="safe@franklin@ig_9";
break;
case joaat("p_cs_joint_01"):
str="safe@franklin@ig_13";
break;
case joaat("p_tumbler_02_s1"):
case joaat("p_tumbler_cs2_s"):
case joaat("p_tumbler_cs2_s_trev"):
if(!Global_78558)if(bLocal_35) str="safe@trevor@ig_6";
else str="safe@michael@ig_1";
else str="MP_SAFEHOUSEWHISKEY@";
break;
case joaat("prop_rolled_sock_02"):
str="safe@trevor@ig_8";
break;
case joaat("prop_mr_raspberry_01"):
str="safe@trevor@ig_7";
break;
case joaat("prop_radio_01"):
if(bLocal_35) str="safe@trevor@ig_5";
else str="safe@michael@ig_5";
break;
case joaat("p_w_grass_gls_s"):
str="safe@michael@ig_2";
break;
case joaat("p_wine_glass_s"):
str="safe@franklin@ig_11";
break;
}
return str;
}


Vector3 func__36() // Position - 0x1453{
var unk;
unk={
0f, 0f, 0f 
};
switch (hLocal_40){
case joaat("prop_bong_01"):
if(!bLocal_34) unk={
0f, 0f, -68.75494f 
};
else unk={
0f, 0f, -179.90875f 
};
break;
case joaat("prop_cigar_03"):
unk={
0f, 0f, 21.1994f 
};
break;
case joaat("prop_cs_beer_bot_01"):
unk={
0f, 0f, -128.34f 
};
break;
case joaat("p_cs_joint_01"):
unk={
0f, 0f, 0.5729f 
};
break;
case joaat("prop_rolled_sock_02"):
unk={
0f, 0f, 2.8647f 
};
break;
case joaat("p_tumbler_02_s1"):
case joaat("p_tumbler_cs2_s"):
case joaat("p_tumbler_cs2_s_trev"):
if(bLocal_35) unk={
0f, 0f, 34.9504f 
};
else unk={
0f, 0f, 21.1994f 
};
break;
case joaat("prop_mr_raspberry_01"):
unk={
0f, 0f, 72.76564f 
};
break;
case joaat("prop_radio_01"):
unk={
0f, 0f, -9.1673f 
};
break;
case joaat("p_w_grass_gls_s"):
unk={
0f, 0f, 21.1994f 
};
break;
case joaat("p_wine_glass_s"):
unk={
0f, 0f, -29.793f 
};
break;
}
return unk;
}


Vector3 func__37() // Position - 0x1568{
var unk;
unk={
0f, 0f, 0f 
};
switch (hLocal_40){
case joaat("prop_bong_01"):
if(!bLocal_34) unk={
-806.82f, 170.03f, 75.74f 
};
else unk={
10.22f, 527.73f, 174.11f 
};
break;
case joaat("prop_cigar_03"):
unk={
-805.17f, 173.99f, 72.69f 
};
break;
case joaat("prop_cs_beer_bot_01"):
unk={
-9.66f, -1429.48f, 31.21f 
};
break;
case joaat("p_cs_joint_01"):
unk={
-10.07f, -1440.64f, 30.36f 
};
break;
case joaat("prop_rolled_sock_02"):
unk={
1972.852f, 3812.42f, 33.28f 
};
break;
case joaat("p_tumbler_02_s1"):
case joaat("p_tumbler_cs2_s"):
case joaat("p_tumbler_cs2_s_trev"):
if(bLocal_35) unk={
-1153.829f, -1523.314f, 10.56f 
};
else unk={
-800.68f, 184.18f, 72.55f 
};
break;
case joaat("prop_mr_raspberry_01"):
unk={
-1146.284f, -1514.1305f, 10.8468f 
};
break;
case joaat("prop_radio_01"):
unk={
1976.75f, 3822.76f, 33.28f 
};
break;
case joaat("p_w_grass_gls_s"):
unk={
-804.87f, 185.69f, 72.75f 
};
break;
case joaat("p_wine_glass_s"):
unk={
-9.1f, 516.83f, 173.62f 
};
break;
}
return unk;
}


void func_38() // Position - 0x16DD{
Global_23131.f_6=1;
return;
}
BOOL _IS_THIS_HELP_MESSAGE_BEING_DISPLAYED(char* message) // Position - 0x16EB{
HUD::BEGIN_TEXT_COMMAND_IS_THIS_HELP_MESSAGE_BEING_DISPLAYED(message);
return HUD::END_TEXT_COMMAND_IS_THIS_HELP_MESSAGE_BEING_DISPLAYED(0);
}


void func_40(BOOL bParam0, BOOL bParam1, BOOL bParam2, BOOL bParam3, BOOL bParam4, BOOL bParam5, BOOL bParam6) // Position - 0x16FE{
if(bParam0){
PLAYER::SPECIAL_ABILITY_DEACTIVATE_FAST(PLAYER::PLAYER_ID(), 0);
PLAYER::SET_ALL_RANDOM_PEDS_FLEE(PLAYER::PLAYER_ID(), true);
PLAYER::SET_POLICE_IGNORE_PLAYER(PLAYER::PLAYER_ID(), true);
func_48(1);
HUD::THEFEED_FLUSH_QUEUE();
HUD::THEFEED_PAUSE();
if(Global_20383.f_1 > 3 && !bParam6){
if(AUDIO::IS_MOBILE_PHONE_CALL_ONGOING()) AUDIO::STOP_SCRIPTED_CONVERSATION(false);
if(!func_12()) Global_20383.f_1=3;
Global_21725=5;
}
func_47(true, bParam3, bParam2, false);
Global_63368=1;
Global_75696=1;
Global_78556=1;
}else{
func_48(0);
HUD::THEFEED_RESUME();
Global_63368=0;
if(bParam1) GRAPHICS::CASCADE_SHADOWS_INIT_SESSION();
PLAYER::SET_ALL_RANDOM_PEDS_FLEE(PLAYER::PLAYER_ID(), false);
PLAYER::SET_POLICE_IGNORE_PLAYER(PLAYER::PLAYER_ID(), false);
func_47(false, bParam3, bParam2, false);
if(NETWORK::NETWORK_IS_GAME_IN_PROGRESS())if(!PED::IS_PED_INJURED(PLAYER::PLAYER_PED_ID()) && !func_45(PLAYER::PLAYER_ID()) && !_NETWORK_IS_PLAYER_IN_SCTV(PLAYER::PLAYER_ID(), 0) && !func_41() && !bParam4 && !bParam5 && !NETWORK::NETWORK_IS_IN_SPECTATOR_MODE()) ENTITY::SET_ENTITY_INVINCIBLE(PLAYER::PLAYER_PED_ID(), false);
elseif(!PED::IS_PED_INJURED(PLAYER::PLAYER_PED_ID()) && !func_45(PLAYER::PLAYER_ID()) && !bParam4 && !bParam5) ENTITY::SET_ENTITY_INVINCIBLE(PLAYER::PLAYER_PED_ID(), false);
Global_78556=0;
}
return;
}
BOOL func_41() // Position - 0x184B{
return IS_BIT_SET(Global_1853910[PLAYER::PLAYER_ID() /*862*/].f_36.f_18, 14);
}
BOOL _NETWORK_IS_PLAYER_IN_SCTV(Player player, int bCheckTeam) // Position - 0x1865{
BOOL flag;
if(player==PLAYER::PLAYER_ID()) flag=func_43(-1, false)==8;
else flag=Global_1853910[player /*862*/].f_205==8;
if(bCheckTeam==1)if(NETWORK::NETWORK_IS_PLAYER_ACTIVE(player)) flag=PLAYER::GET_PLAYER_TEAM(player)==8;
return flag;
}

int func_43(int iParam0, BOOL bParam1) // Position - 0x18B0{
int num;
int num2;
num2=iParam0;
if(num2==-1) num2=func_44();
if(Global_1575040[num2]==1){
bParam1;
num=8;
}else{
num=Global_1574912[num2];
bParam1;
}
return num;
}

int func_44() // Position - 0x18F1{
return Global_1574918;
}
BOOL func_45(Player plParam0) // Position - 0x18FD{
if(_NETWORK_IS_PLAYER_IN_SCTV(plParam0, 0)) return true;
if(func_46())if(plParam0==PLAYER::PLAYER_ID()) return true;
if(IS_BIT_SET(Global_2657589[plParam0 /*466*/].f_199, 2)) return true;
return false;
}
BOOL func_46() // Position - 0x193C{
return IS_BIT_SET(Global_2621446, 3);
}

int func_47(BOOL bParam0, BOOL bParam1, BOOL bParam2, BOOL bParam3) // Position - 0x194A{
int num;
num=0;
if(MISC::IS_PC_VERSION()){
if(CUTSCENE::IS_MULTIHEAD_FADE_UP() !=bParam0 && bParam2){
CUTSCENE::SET_CUTSCENE_MULTIHEAD_FADE(bParam0, bParam1, true, bParam3);
num=1;
}}
return num;
}


void func_48(int iParam0) // Position - 0x197D{
if(iParam0==1) MISC::SET_BIT(&Global_8253, 13);
else MISC::CLEAR_BIT(&Global_8253, 13);
return;
}
BOOL func_49(BOOL bParam0, BOOL bParam1, BOOL bParam2) // Position - 0x19A0{
Vehicle vehiclePedIsIn;
if(MISC::IS_MINIGAME_IN_PROGRESS()) return false;
if(bParam0)if(ENTITY::IS_ENTITY_DEAD(PLAYER::PLAYER_PED_ID(), false)) return false;
vehiclePedIsIn=0;
if(PED::IS_PED_IN_ANY_VEHICLE(PLAYER::PLAYER_PED_ID(), false)){
if(!PED::IS_PED_SITTING_IN_ANY_VEHICLE(PLAYER::PLAYER_PED_ID())) return false;
vehiclePedIsIn=PED::GET_VEHICLE_PED_IS_IN(PLAYER::PLAYER_PED_ID(), false);
if(bParam0)if(ENTITY::IS_ENTITY_DEAD(vehiclePedIsIn, false)) return false;
if(bParam2)if(!ENTITY::IS_ENTITY_DEAD(vehiclePedIsIn, false))if(VEHICLE::GET_PED_IN_VEHICLE_SEAT(vehiclePedIsIn, -1, false) !=PLAYER::PLAYER_PED_ID()) return false;
if(!ENTITY::IS_ENTITY_DEAD(vehiclePedIsIn, false))if(ENTITY::GET_ENTITY_UPRIGHT_VALUE(vehiclePedIsIn) < 0.95f || ENTITY::GET_ENTITY_UPRIGHT_VALUE(vehiclePedIsIn) > 1.011f) return false;
}elseif(bParam1){
return false;
}
if(!PLAYER::IS_PLAYER_READY_FOR_CUTSCENE(PLAYER::PLAYER_ID())) return false;
if(!PLAYER::CAN_PLAYER_START_MISSION(PLAYER::PLAYER_ID())) return false;
return true;
}


void func_50(char* sParam0) // Position - 0x1A85{
HUD::BEGIN_TEXT_COMMAND_DISPLAY_HELP(sParam0);
HUD::END_TEXT_COMMAND_DISPLAY_HELP(0, true, true, -1);
return;
}


char* func_51() // Position - 0x1A9B{
char* str;
switch (hLocal_40){
case joaat("prop_bong_01"):
if(bLocal_34) str="SA_BONG2" /*Press ~INPUT_CONTEXT~ to take a hit from the bong.*/;
else str="SA_BONG" /*Press ~INPUT_CONTEXT~ to take a hit from Jimmy's bong.*/;
break;
case joaat("prop_cigar_03"):
str="SA_CIGAR" /*Press ~INPUT_CONTEXT~ to smoke a cigar.*/;
break;
case joaat("prop_cs_beer_bot_01"):
str="SA_BEER" /*Press ~INPUT_CONTEXT~ to drink a beer.*/;
break;
case joaat("p_cs_joint_01"):
str="SA_SPLFF" /*Press ~INPUT_CONTEXT~ to smoke a joint.*/;
break;
case joaat("p_tumbler_02_s1"):
str="SA_WHSKY" /*Press ~INPUT_CONTEXT~ to drink whiskey.*/;
break;
case joaat("p_tumbler_cs2_s"):
str="SA_WHSKY" /*Press ~INPUT_CONTEXT~ to drink whiskey.*/;
break;
case joaat("p_tumbler_cs2_s_trev"):
str="SA_WHSKY" /*Press ~INPUT_CONTEXT~ to drink whiskey.*/;
break;
case joaat("prop_rolled_sock_02"):
str="SA_GAS" /*Press ~INPUT_CONTEXT~ to huff gas.*/;
break;
case joaat("prop_mr_raspberry_01"):
str="SA_MRJAM" /*Press ~INPUT_CONTEXT~ to play with Mr. Raspberry Jam.*/;
break;
case joaat("prop_radio_01"):
str="SA_BEER" /*Press ~INPUT_CONTEXT~ to drink a beer.*/;
break;
case joaat("p_w_grass_gls_s"):
str="SA_WHEAT" /*Press ~INPUT_CONTEXT~ to drink green juice.*/;
break;
case joaat("p_wine_glass_s"):
str="SA_WINE" /*Press ~INPUT_CONTEXT~ to drink some wine.*/;
break;
default:
str="";
break;
}
return str;
}
BOOL func_52(Vector3 vParam0, var uParam1, var uParam2, float fParam3, var uParam4, var uParam5) // Position - 0x1B76{
if(PLAYER::IS_PLAYER_PLAYING(PLAYER::PLAYER_ID())){
if(!PED::IS_PED_IN_ANY_VEHICLE(PLAYER::PLAYER_PED_ID(), false) && !FILES::GET_DLC_VEHICLE_FLAGS(PLAYER::PLAYER_PED_ID()) && PLAYER::IS_PLAYER_CONTROL_ON(PLAYER::PLAYER_ID())){
if(!FIRE::IS_EXPLOSION_IN_SPHERE(-1, vParam0, 2f)){
if(CAM::IS_GAMEPLAY_CAM_RENDERING() && !CUTSCENE::IS_CUTSCENE_PLAYING() && !CAM::IS_CINEMATIC_CAM_RENDERING() && !func_56(0) && !func_55()){
if(Global_97609 && Global_97610 || func_54()) return false;
if(func_53(ENTITY::GET_ENTITY_COORDS(PLAYER::PLAYER_PED_ID(), true), vParam0, fParam3, false)) return true;
}}}}
return false;
}
BOOL func_53(float fParam0, var uParam1, var uParam2, var uParam3, var uParam4, var uParam5, float fParam6, BOOL bParam7) // Position - 0x1C29{
if(fParam6 < 0f) fParam6=0f;
if(!bParam7)if(MISC::ABSF(fParam0 - uParam3) <=fParam6)if(MISC::ABSF(fParam0.f_1 - uParam3.f_1) <=fParam6)if(MISC::ABSF(fParam0.f_2 - uParam3.f_2) <=fParam6) return true;
elseif(MISC::ABSF(fParam0 - uParam3) <=fParam6)if(MISC::ABSF(fParam0.f_1 - uParam3.f_1) <=fParam6) return true;
return false;
}
BOOL func_54() // Position - 0x1CA4{
if(Global_43257==15) return false;
return true;
}
BOOL func_55() // Position - 0x1CB9{
int pedNearbyPeds;
int i;
var sizeAndPeds;
sizeAndPeds=32;
if(!PED::IS_PED_INJURED(PLAYER::PLAYER_PED_ID())) pedNearbyPeds=PED::GET_PED_NEARBY_PEDS(PLAYER::PLAYER_PED_ID(), &sizeAndPeds, -1);
for (i=0;
i < pedNearbyPeds;
i=i + 1){
if(!PED::IS_PED_INJURED(sizeAndPeds[i])){
if(bLocal_35)if(ENTITY::GET_ENTITY_MODEL(sizeAndPeds[i])==joaat("Player_Zero"))if(MISC::GET_DISTANCE_BETWEEN_COORDS(ENTITY::GET_ENTITY_COORDS(PLAYER::PLAYER_PED_ID(), true), ENTITY::GET_ENTITY_COORDS(sizeAndPeds[i], true), true) < 3f) return true;
if(!bLocal_35 && !bLocal_34)if(ENTITY::GET_ENTITY_MODEL(sizeAndPeds[i])==joaat("Player_One"))if(MISC::GET_DISTANCE_BETWEEN_COORDS(ENTITY::GET_ENTITY_COORDS(PLAYER::PLAYER_PED_ID(), true), ENTITY::GET_ENTITY_COORDS(sizeAndPeds[i], true), true) < 3f) return true;
}}
return false;
}
BOOL func_56(int iParam0) // Position - 0x1D7D{
if(iParam0==1)if(Global_20383.f_1 > 3)if(IS_BIT_SET(Global_8253, 14)) return true;
else return false;
else return false;
if(SCRIPT::GET_NUMBER_OF_THREADS_RUNNING_THE_SCRIPT_WITH_THIS_HASH(joaat("cellphone_flashhand")) > 0) return true;
if(Global_20383.f_1 > 3) return true;
return false;
}


Vector3 func__57() // Position - 0x1DD4{
var unk;
switch (hLocal_40){
case joaat("prop_bong_01"):
if(bLocal_34) unk={
9.95f, 528.9f, 173.6282f 
};
else unk={
-807.5781f, 171.357f, 75.7407f 
};
break;
case joaat("prop_cigar_03"):
unk={
-805.881f, 173.8548f, 71.8347f 
};
break;
case joaat("prop_cs_beer_bot_01"):
unk={
-9.66f, -1429.48f, 31.21f 
};
break;
case joaat("p_cs_joint_01"):
unk={
-10.6378f, -1441.3145f, 30.1015f 
};
break;
case joaat("p_tumbler_02_s1"):
case joaat("p_tumbler_cs2_s"):
case joaat("p_tumbler_cs2_s_trev"):
if(bLocal_35) unk={
-1154.343f, -1522.5997f, 9.6327f 
};
else unk={
-800.4056f, 183.4856f, 71.6055f 
};
break;
case joaat("prop_rolled_sock_02"):
unk={
1972.1417f, 3813.243f, 32.4271f 
};
break;
case joaat("prop_mr_raspberry_01"):
unk={
-1145.91f, -1514.9445f, 9.6327f 
};
break;
case joaat("prop_radio_01"):
unk={
1976.94f, 3821.2417f, 33.3266f 
};
break;
case joaat("p_w_grass_gls_s"):
unk={
-804.2254f, 184.3325f, 72.6042f 
};
break;
case joaat("p_wine_glass_s"):
unk={
-8.8011f, 515.7225f, 173.6282f 
};
break;
}
return unk;
}

int func_58() // Position - 0x1F41{
if(AUDIO::REQUEST_AMBIENT_AUDIO_BANK(func_59(), false, -1)) return 1;
return 0;
}


char* func_59() // Position - 0x1F5B{
char* str;
switch (hLocal_40){
case joaat("prop_bong_01"):
if(bLocal_34) str="SAFEHOUSE_FRANKLIN_USE_BONG";
else str="SAFEHOUSE_MICHAEL_USE_BONG";
break;
case joaat("p_tumbler_02_s1"):
case joaat("p_tumbler_cs2_s"):
case joaat("p_tumbler_cs2_s_trev"):
if(bLocal_35) str="SAFEHOUSE_TREVOR_DRINK_WHISKEY";
else str="SAFEHOUSE_MICHAEL_DRINK_WHISKEY";
break;
case joaat("prop_radio_01"):
if(bLocal_35) str="SAFEHOUSE_TREVOR_DRINK_BEER";
else str="SAFEHOUSE_MICHAEL_DRINK_BEER";
break;
case joaat("prop_cs_beer_bot_01"):
str="SAFEHOUSE_FRANKLIN_DRINK_BEER";
break;
case joaat("prop_rolled_sock_02"):
str="SAFEHOUSE_TREVOR_GAS";
break;
case joaat("prop_mr_raspberry_01"):
str="SAFEHOUSE_TREVOR_RASBERRY";
break;
case joaat("p_w_grass_gls_s"):
str="SAFEHOUSE_MICHAEL_DRINK_WHEATGRASS";
break;
case joaat("p_wine_glass_s"):
str="SAFEHOUSE_FRANKLIN_DRINK_WINE";
break;
case joaat("prop_cigar_03"):
str="SAFEHOUSE_MICHAEL_SIT_SOFA";
break;
case joaat("p_cs_joint_01"):
str="SAFEHOUSE_FRANKLIN_SOFA";
break;
}
return str;
}

int func_60() // Position - 0x2038{
if(func_61()){
bLocal_298=true;
return 1;
}
return 0;
}
BOOL func_61() // Position - 0x2050{
char* animDict;
animDict=func_35();
STREAMING::REQUEST_ANIM_DICT(animDict);
while (!STREAMING::HAS_ANIM_DICT_LOADED(animDict)){
SYSTEM::WAIT(0);
}
return true;
}
BOOL func_62(Entity eParam0) // Position - 0x2077{
if(Global_78558) return true;
if(PLAYER::IS_PLAYER_PLAYING(PLAYER::PLAYER_ID()))if(hLocal_40==joaat("prop_rolled_sock_02"))if(func_53(ENTITY::GET_ENTITY_COORDS(obLocal_41, false), func_57(), 5f, false)) return true;
elseif(hLocal_40==joaat("p_w_grass_gls_s"))if(func_53(ENTITY::GET_ENTITY_COORDS(obLocal_41, false), func_57(), 5f, false)) return true;
elseif(hLocal_40==joaat("prop_mr_raspberry_01"))if(func_53(ENTITY::GET_ENTITY_COORDS(obLocal_41, false), func_57(), 5f, false)) return true;
elseif(INTERIOR::GET_INTERIOR_FROM_ENTITY(PLAYER::PLAYER_PED_ID())==INTERIOR::GET_INTERIOR_FROM_ENTITY(eParam0)) return true;
return false;
}
BOOL func_63() // Position - 0x211A{
switch (hLocal_40){
case joaat("prop_cigar_03"):
if(_GET_CURRENT_PLAYER_CHARACTER()==CHAR_MICHAEL) return true;
break;
case joaat("prop_bong_01"):
if(NETWORK::NETWORK_IS_GAME_IN_PROGRESS()) return true;
if(_GET_CURRENT_PLAYER_CHARACTER()==CHAR_FRANKLIN){
bLocal_34=true;
return true;
}
if(_GET_CURRENT_PLAYER_CHARACTER()==CHAR_MICHAEL){
if(!bLocal_33) bLocal_33=true;
if(SCRIPT::GET_NUMBER_OF_THREADS_RUNNING_THE_SCRIPT_WITH_THIS_HASH(joaat("family5")) > 0) return false;
if(func_67()) return false;
if(Global_95687[0]==5 || Global_95687[0]==21 || Global_95687[0]==20 || Global_95687[0]==16 || Global_95687[0]==18 || Global_95687[0]==9) return false;
if(Global_95687[0]==6 || Global_95687[0]==7 || Global_95687[0]==11 || Global_95687[0]==17 || Global_95687[0]==140 || Global_95687[0]==141) return true;
return true;
}
break;
case joaat("prop_cs_beer_bot_01"):
if(Global_78558) return true;
if(_GET_CURRENT_PLAYER_CHARACTER()==CHAR_FRANKLIN){
if(!bLocal_32) bLocal_32=true;
return true;
}
break;
case joaat("p_cs_joint_01"):
if(_GET_CURRENT_PLAYER_CHARACTER()==CHAR_FRANKLIN) return true;
break;
case joaat("p_tumbler_02_s1"):
case joaat("p_tumbler_cs2_s"):
case joaat("p_tumbler_cs2_s_trev"):
if(Global_78558){
bLocal_31=true;
return true;
}
if(_GET_CURRENT_PLAYER_CHARACTER()==CHAR_MICHAEL){
bLocal_31=true;
return true;
}
if(_GET_CURRENT_PLAYER_CHARACTER()==CHAR_TREVOR && func_66(20)){
if(!bLocal_30) bLocal_30=true;
bLocal_31=true;
bLocal_35=true;
return true;
}
break;
case joaat("prop_rolled_sock_02"):
if(_GET_CURRENT_PLAYER_CHARACTER()==CHAR_TREVOR || Global_78558) return true;
break;
case joaat("prop_mr_raspberry_01"):
if(Global_113648.f_7263.f_227[145]==1)if(_GET_CURRENT_PLAYER_CHARACTER()==CHAR_TREVOR)if(Global_95687[13] !=127 && Global_95687[13] !=135 && Global_95703 !=127 && Global_95703 !=135 && !func_65() && !func_67()) return true;
break;
case joaat("prop_radio_01"):
bLocal_31=true;
if(Global_40195[78] !=1 && Global_95687[9] !=117 && Global_95687[11] !=117){
if(_GET_CURRENT_PLAYER_CHARACTER()==CHAR_TREVOR){
bLocal_35=true;
return true;
}
if(_GET_CURRENT_PLAYER_CHARACTER()==CHAR_MICHAEL && func_64(130) && !func_64(131)) return true;
}
break;
case joaat("p_w_grass_gls_s"):
if(Global_78558) return true;
if(_GET_CURRENT_PLAYER_CHARACTER()==CHAR_MICHAEL)if(Global_95687[0] !=17 && Global_95687[2] !=73) return true;
break;
case joaat("p_wine_glass_s"):
if(Global_78558) return true;
if(_GET_CURRENT_PLAYER_CHARACTER()==CHAR_FRANKLIN){
bLocal_34=true;
bLocal_32=true;
if(!bLocal_31) bLocal_31=true;
return true;
}
break;
}
return false;
}
BOOL func_64(int iParam0) // Position - 0x244F{
if(iParam0==146 || iParam0==-1) return false;
return Global_113648.f_9087.f_99.f_58[iParam0];
}
BOOL func_65() // Position - 0x247C{
if(SCRIPT::GET_NUMBER_OF_THREADS_RUNNING_THE_SCRIPT_WITH_THIS_HASH(joaat("player_timetable_scene")) > 0) return true;
return false;
}
BOOL func_66(int iParam0) // Position - 0x2496{
if(iParam0==94 || iParam0==-1) return false;
return Global_113648.f_9087.f_330[iParam0 /*6*/];
}
BOOL func_67() // Position - 0x24C2{
if(!NETWORK::NETWORK_IS_GAME_IN_PROGRESS()) return Global_98159.f_44==1;
return false;
}


void _CONVERSATION_INITIALIZE_ACTOR(var uParam0, int iParam1, Ped pedParam2, char* sParam3, int iParam4, int iParam5) // Position - 0x24DE{
uParam0->[iParam1 /*10*/].f_7==1;
uParam0->[iParam1 /*10*/]=pedParam2;
TEXT_LABEL_ASSIGN_STRING(&(uParam0->[iParam1 /*10*/].f_1), sParam3, 24);
uParam0->[iParam1 /*10*/].f_7=1;
uParam0->[iParam1 /*10*/].f_8=iParam4;
uParam0->[iParam1 /*10*/].f_9=iParam5;
if(!Global_78558){
if(!PED::IS_PED_INJURED(pedParam2))if(uParam0->[iParam1 /*10*/].f_8==0) PED::SET_PED_CAN_PLAY_AMBIENT_ANIMS(pedParam2, false);
else PED::SET_PED_CAN_PLAY_AMBIENT_ANIMS(pedParam2, true);
if(!PED::IS_PED_INJURED(pedParam2))if(uParam0->[iParam1 /*10*/].f_9==0) TASK::OPEN_PATROL_ROUTE(pedParam2, 0);
else TASK::OPEN_PATROL_ROUTE(pedParam2, 1);
}
return;
}
BOOL func_69() // Position - 0x2579{
if(MISC::IS_PC_VERSION())if(MISC::GET_CITY_DENSITY()==1f) return true;
return false;
}
BOOL func_70() // Position - 0x2596{
if(Global_97603 !=-1) return IS_BIT_SET(Global_91469[Global_97603 /*34*/].f_15, 20);
return false;
}
BOOL func_71(int iParam0) // Position - 0x25B9{
if(Global_43257==15) return false;
if(_CAN_ENTER_FREEROAM_STATE(iParam0)) return false;
return true;
}
BOOL _CAN_ENTER_FREEROAM_STATE(int iParam0) // Position - 0x25DB{
return func_73(iParam0, Global_43257);
}
BOOL func_73(int iParam0, int iParam1) // Position - 0x25EC{
if(iParam1==15) return 1;
if(iParam0==15) return 0;
switch (iParam0){
case 16:
switch (iParam1){
case 9:
case 10:
case 7:
case 13:
case 14:
return 0;
}
return 1;
case 0:
switch (iParam1){
case 5:
case 17:
return 1;
}
break;
case 2:
case 3:
switch (iParam1){
case 5:
case 6:
case 8:
case 17:
return 1;
}
break;
case 4:
if(iParam1==17) return 1;
break;
case 5:
break;
case 6:
case 8:
if(iParam1==5) return 1;
break;
case 7:
if(iParam1==6) return 1;
break;
case 9:
if(iParam1==5) return 1;
break;
case 10:
switch (iParam1){
case 5:
case 6:
case 17:
return 1;
}
break;
case 11:
if(iParam1==5) return 1;
break;
case 17:
switch (iParam1){
case 17:
case 12:
case 5:
return 1;
}
break;
case 18:
case 12:
switch (iParam1){
case 5:
case 6:
case 8:
return 1;
}
break;
case 13:
switch (iParam1){
case 5:
return 1;
}
break;
case 14:
switch (iParam1){
case 5:
return 1;
}
break;
}
return 0;
}


void func_74() // Position - 0x27CD{
func_76();
AUDIO::RELEASE_AMBIENT_AUDIO_BANK();
if(AUDIO::IS_AUDIO_SCENE_ACTIVE("TREVOR_SAFEHOUSE_ACTIVITIES_SCENE")) AUDIO::STOP_AUDIO_SCENE("TREVOR_SAFEHOUSE_ACTIVITIES_SCENE");
if(_IS_THIS_HELP_MESSAGE_BEING_DISPLAYED(func_51())) HUD::SET_SCRIPT_VARIABLE_HUD_COLOUR(1);
if(bLocal_298) STREAMING::REMOVE_ANIM_DICT(func_35());
func_75();
func_76();
SCRIPT::TERMINATE_THIS_THREAD();
return;
}


void func_75() // Position - 0x2818{
if(PLAYER::IS_PLAYER_PLAYING(PLAYER::PLAYER_ID())){
if(!PLAYER::IS_PLAYER_CONTROL_ON(PLAYER::PLAYER_ID()) && func_49(true, false, true) && bLocal_36){
func_40(false, true, true, false, false, false, false);
if(!PED::IS_PED_INJURED(PLAYER::PLAYER_PED_ID())) TASK::CLEAR_PED_TASKS(PLAYER::PLAYER_PED_ID());
PLAYER::SET_PLAYER_CONTROL(PLAYER::PLAYER_ID(), true, 0);
}}
return;
}


void func_76() // Position - 0x2873{
switch (hLocal_40){
case joaat("prop_cigar_03"):
break;
case joaat("prop_bong_01"):
break;
case joaat("prop_cs_beer_bot_01"):
break;
case joaat("p_tumbler_02_s1"):
break;
case joaat("p_tumbler_cs2_s"):
break;
case joaat("p_tumbler_cs2_s_trev"):
break;
case joaat("prop_rolled_sock_02"):
break;
case joaat("prop_mr_raspberry_01"):
break;
case joaat("prop_radio_01"):
if(bLocal_35){
}
break;
case joaat("p_w_grass_gls_s"):
break;
case joaat("p_wine_glass_s"):
break;
}
return;
}